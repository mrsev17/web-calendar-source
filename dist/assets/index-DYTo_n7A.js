var TC=Object.defineProperty;var xC=(t,e,n)=>e in t?TC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rc=(t,e,n)=>xC(t,typeof e!="symbol"?e+"":e,n);function PC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function P_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N_={exports:{}},Va={},R_={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),NC=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),DC=Symbol.for("react.strict_mode"),OC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),LC=Symbol.for("react.context"),bC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),jC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),Np=Symbol.iterator;function UC(t){return t===null||typeof t!="object"?null:(t=Np&&t[Np]||t["@@iterator"],typeof t=="function"?t:null)}var D_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O_=Object.assign,A_={};function $i(t,e,n){this.props=t,this.context=e,this.refs=A_,this.updater=n||D_}$i.prototype.isReactComponent={};$i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L_(){}L_.prototype=$i.prototype;function lh(t,e,n){this.props=t,this.context=e,this.refs=A_,this.updater=n||D_}var ah=lh.prototype=new L_;ah.constructor=lh;O_(ah,$i.prototype);ah.isPureReactComponent=!0;var Rp=Array.isArray,b_=Object.prototype.hasOwnProperty,ch={current:null},M_={key:!0,ref:!0,__self:!0,__source:!0};function j_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)b_.call(e,r)&&!M_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:To,type:t,key:s,ref:o,props:i,_owner:ch.current}}function WC(t,e){return{$$typeof:To,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uh(t){return typeof t=="object"&&t!==null&&t.$$typeof===To}function $C(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dp=/\/+/g;function Dc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$C(""+t.key):e.toString(36)}function Cl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case To:case NC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Dc(o,0):r,Rp(i)?(n="",t!=null&&(n=t.replace(Dp,"$&/")+"/"),Cl(i,e,n,"",function(c){return c})):i!=null&&(uh(i)&&(i=WC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Rp(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Dc(s,l);o+=Cl(s,e,n,a,i)}else if(a=UC(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Dc(s,l++),o+=Cl(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qo(t,e,n){if(t==null)return t;var r=[],i=0;return Cl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},El={transition:null},BC={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:El,ReactCurrentOwner:ch};function F_(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:qo,forEach:function(t,e,n){qo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qo(t,function(){e++}),e},toArray:function(t){return qo(t,function(e){return e})||[]},only:function(t){if(!uh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=$i;W.Fragment=RC;W.Profiler=OC;W.PureComponent=lh;W.StrictMode=DC;W.Suspense=MC;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC;W.act=F_;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ch.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)b_.call(e,a)&&!M_.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:To,type:t.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:LC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};W.createElement=j_;W.createFactory=function(t){var e=j_.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:bC,render:t}};W.isValidElement=uh;W.lazy=function(t){return{$$typeof:FC,_payload:{_status:-1,_result:t},_init:zC}};W.memo=function(t,e){return{$$typeof:jC,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=El.transition;El.transition={};try{t()}finally{El.transition=e}};W.unstable_act=F_;W.useCallback=function(t,e){return je.current.useCallback(t,e)};W.useContext=function(t){return je.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return je.current.useDeferredValue(t)};W.useEffect=function(t,e){return je.current.useEffect(t,e)};W.useId=function(){return je.current.useId()};W.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return je.current.useMemo(t,e)};W.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};W.useRef=function(t){return je.current.useRef(t)};W.useState=function(t){return je.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return je.current.useTransition()};W.version="18.3.1";R_.exports=W;var E=R_.exports;const U_=P_(E),Ru=PC({__proto__:null,default:U_},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=E,VC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,qC=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KC.call(e,r)&&!YC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VC,type:t,key:s,ref:o,props:i,_owner:qC.current}}Va.Fragment=GC;Va.jsx=W_;Va.jsxs=W_;N_.exports=Va;var h=N_.exports,$_={exports:{}},tt={},z_={exports:{}},B_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,b){var M=N.length;N.push(b);e:for(;0<M;){var ne=M-1>>>1,J=N[ne];if(0<i(J,b))N[ne]=b,N[M]=J,M=ne;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var b=N[0],M=N.pop();if(M!==b){N[0]=M;e:for(var ne=0,J=N.length,Br=J>>>1;ne<Br;){var $t=2*(ne+1)-1,es=N[$t],zt=$t+1,Hr=N[zt];if(0>i(es,M))zt<J&&0>i(Hr,es)?(N[ne]=Hr,N[zt]=M,ne=zt):(N[ne]=es,N[$t]=M,ne=$t);else if(zt<J&&0>i(Hr,M))N[ne]=Hr,N[zt]=M,ne=zt;else break e}}return b}function i(N,b){var M=N.sortIndex-b.sortIndex;return M!==0?M:N.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,d=null,f=3,p=!1,v=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var b=n(c);b!==null;){if(b.callback===null)r(c);else if(b.startTime<=N)r(c),b.sortIndex=b.expirationTime,e(a,b);else break;b=n(c)}}function w(N){if(y=!1,_(N),!v)if(n(a)!==null)v=!0,rt(S);else{var b=n(c);b!==null&&Zi(w,b.startTime-N)}}function S(N,b){v=!1,y&&(y=!1,g(k),k=-1),p=!0;var M=f;try{for(_(b),d=n(a);d!==null&&(!(d.expirationTime>b)||N&&!j());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var J=ne(d.expirationTime<=b);b=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(a)&&r(a),_(b)}else r(a);d=n(a)}if(d!==null)var Br=!0;else{var $t=n(c);$t!==null&&Zi(w,$t.startTime-b),Br=!1}return Br}finally{d=null,f=M,p=!1}}var I=!1,x=null,k=-1,D=5,O=-1;function j(){return!(t.unstable_now()-O<D)}function q(){if(x!==null){var N=t.unstable_now();O=N;var b=!0;try{b=x(!0,N)}finally{b?Ke():(I=!1,x=null)}}else I=!1}var Ke;if(typeof m=="function")Ke=function(){m(q)};else if(typeof MessageChannel<"u"){var Go=new MessageChannel,Nc=Go.port2;Go.port1.onmessage=q,Ke=function(){Nc.postMessage(null)}}else Ke=function(){C(q,0)};function rt(N){x=N,I||(I=!0,Ke())}function Zi(N,b){k=C(function(){N(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,rt(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var M=f;f=b;try{return N()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,b){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=f;f=N;try{return b()}finally{f=M}},t.unstable_scheduleCallback=function(N,b,M){var ne=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ne+M:ne):M=ne,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,N={id:u++,callback:b,priorityLevel:N,startTime:M,expirationTime:J,sortIndex:-1},M>ne?(N.sortIndex=M,e(c,N),n(a)===null&&N===n(c)&&(y?(g(k),k=-1):y=!0,Zi(w,M-ne))):(N.sortIndex=J,e(a,N),v||p||(v=!0,rt(S))),N},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(N){var b=f;return function(){var M=f;f=b;try{return N.apply(this,arguments)}finally{f=M}}}})(B_);z_.exports=B_;var QC=z_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=E,Je=QC;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H_=new Set,Vs={};function Fr(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(Vs[t]=e,t=0;t<e.length;t++)H_.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=Object.prototype.hasOwnProperty,JC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Op={},Ap={};function ZC(t){return Du.call(Ap,t)?!0:Du.call(Op,t)?!1:JC.test(t)?Ap[t]=!0:(Op[t]=!0,!1)}function eE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tE(t,e,n,r){if(e===null||typeof e>"u"||eE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new Fe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new Fe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new Fe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new Fe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new Fe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new Fe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new Fe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new Fe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new Fe(t,5,!1,t.toLowerCase(),null,!1,!1)});var dh=/[\-:]([a-z])/g;function hh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dh,hh);Te[e]=new Fe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dh,hh);Te[e]=new Fe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dh,hh);Te[e]=new Fe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new Fe(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new Fe(t,1,!1,t.toLowerCase(),null,!0,!0)});function fh(t,e,n,r){var i=Te.hasOwnProperty(e)?Te[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tE(e,n,i,r)&&(n=null),r||i===null?ZC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fn=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),Ou=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),mh=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Lu=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),K_=Symbol.for("react.offscreen"),Lp=Symbol.iterator;function ns(t){return t===null||typeof t!="object"?null:(t=Lp&&t[Lp]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Oc;function Es(t){if(Oc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oc=e&&e[1]||""}return`
`+Oc+t}var Ac=!1;function Lc(t,e){if(!t||Ac)return"";Ac=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ac=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Es(t):""}function nE(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=Lc(t.type,!1),t;case 11:return t=Lc(t.type.render,!1),t;case 1:return t=Lc(t.type,!0),t;default:return""}}function bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ei:return"Fragment";case Zr:return"Portal";case Ou:return"Profiler";case ph:return"StrictMode";case Au:return"Suspense";case Lu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G_:return(t.displayName||"Context")+".Consumer";case V_:return(t._context.displayName||"Context")+".Provider";case mh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gh:return e=t.displayName||null,e!==null?e:bu(t.type)||"Memo";case Sn:e=t._payload,t=t._init;try{return bu(t(e))}catch{}}return null}function rE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(e);case 8:return e===ph?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iE(t){var e=q_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qo(t){t._valueTracker||(t._valueTracker=iE(t))}function Y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mu(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q_(t,e){e=e.checked,e!=null&&fh(t,"checked",e,!1)}function ju(t,e){Q_(t,e);var n=Yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fu(t,e.type,Yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fu(t,e,n){(e!=="number"||Hl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ss=Array.isArray;function hi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Uu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Ss(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yn(n)}}function X_(t,e){var n=Yn(e.value),r=Yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xo,Z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sE=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(t){sE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ns[e]=Ns[t]})});function e0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ns.hasOwnProperty(t)&&Ns[t]?(""+e).trim():e+"px"}function t0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oE=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(t,e){if(e){if(oE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function zu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function _h(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hu=null,fi=null,pi=null;function Up(t){if(t=No(t)){if(typeof Hu!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Qa(e),Hu(t.stateNode,t.type,e))}}function n0(t){fi?pi?pi.push(t):pi=[t]:fi=t}function r0(){if(fi){var t=fi,e=pi;if(pi=fi=null,Up(t),e)for(t=0;t<e.length;t++)Up(e[t])}}function i0(t,e){return t(e)}function s0(){}var bc=!1;function o0(t,e,n){if(bc)return t(e,n);bc=!0;try{return i0(t,e,n)}finally{bc=!1,(fi!==null||pi!==null)&&(s0(),r0())}}function Ks(t,e){var n=t.stateNode;if(n===null)return null;var r=Qa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Vu=!1;if(sn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Vu=!1}function lE(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Rs=!1,Vl=null,Gl=!1,Gu=null,aE={onError:function(t){Rs=!0,Vl=t}};function cE(t,e,n,r,i,s,o,l,a){Rs=!1,Vl=null,lE.apply(aE,arguments)}function uE(t,e,n,r,i,s,o,l,a){if(cE.apply(this,arguments),Rs){if(Rs){var c=Vl;Rs=!1,Vl=null}else throw Error(T(198));Gl||(Gl=!0,Gu=c)}}function Ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wp(t){if(Ur(t)!==t)throw Error(T(188))}function dE(t){var e=t.alternate;if(!e){if(e=Ur(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wp(i),t;if(s===r)return Wp(i),e;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function a0(t){return t=dE(t),t!==null?c0(t):null}function c0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=c0(t);if(e!==null)return e;t=t.sibling}return null}var u0=Je.unstable_scheduleCallback,$p=Je.unstable_cancelCallback,hE=Je.unstable_shouldYield,fE=Je.unstable_requestPaint,ue=Je.unstable_now,pE=Je.unstable_getCurrentPriorityLevel,vh=Je.unstable_ImmediatePriority,d0=Je.unstable_UserBlockingPriority,Kl=Je.unstable_NormalPriority,mE=Je.unstable_LowPriority,h0=Je.unstable_IdlePriority,Ga=null,Ot=null;function gE(t){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ga,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:yE,_E=Math.log,vE=Math.LN2;function yE(t){return t>>>=0,t===0?32:31-(_E(t)/vE|0)|0}var Jo=64,Zo=4194304;function Is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Is(l):(s&=o,s!==0&&(r=Is(s)))}else o=n&~i,o!==0?r=Is(o):s!==0&&(r=Is(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-St(e),i=1<<n,r|=t[n],e&=~i;return r}function wE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-St(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=wE(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Ku(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f0(){var t=Jo;return Jo<<=1,!(Jo&4194240)&&(Jo=64),t}function Mc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=n}function EE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-St(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-St(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var V=0;function p0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m0,wh,g0,_0,v0,qu=!1,el=[],bn=null,Mn=null,jn=null,qs=new Map,Ys=new Map,kn=[],SE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zp(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":qs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(e.pointerId)}}function is(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=No(e),e!==null&&wh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IE(t,e,n,r,i){switch(e){case"focusin":return bn=is(bn,t,e,n,r,i),!0;case"dragenter":return Mn=is(Mn,t,e,n,r,i),!0;case"mouseover":return jn=is(jn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qs.set(s,is(qs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ys.set(s,is(Ys.get(s)||null,t,e,n,r,i)),!0}return!1}function y0(t){var e=_r(t.target);if(e!==null){var n=Ur(e);if(n!==null){if(e=n.tag,e===13){if(e=l0(n),e!==null){t.blockedOn=e,v0(t.priority,function(){g0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bu=r,n.target.dispatchEvent(r),Bu=null}else return e=No(n),e!==null&&wh(e),t.blockedOn=n,!1;e.shift()}return!0}function Bp(t,e,n){Sl(t)&&n.delete(e)}function kE(){qu=!1,bn!==null&&Sl(bn)&&(bn=null),Mn!==null&&Sl(Mn)&&(Mn=null),jn!==null&&Sl(jn)&&(jn=null),qs.forEach(Bp),Ys.forEach(Bp)}function ss(t,e){t.blockedOn===e&&(t.blockedOn=null,qu||(qu=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,kE)))}function Qs(t){function e(i){return ss(i,t)}if(0<el.length){ss(el[0],t);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bn!==null&&ss(bn,t),Mn!==null&&ss(Mn,t),jn!==null&&ss(jn,t),qs.forEach(e),Ys.forEach(e),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)y0(n),n.blockedOn===null&&kn.shift()}var mi=fn.ReactCurrentBatchConfig,Yl=!0;function TE(t,e,n,r){var i=V,s=mi.transition;mi.transition=null;try{V=1,Ch(t,e,n,r)}finally{V=i,mi.transition=s}}function xE(t,e,n,r){var i=V,s=mi.transition;mi.transition=null;try{V=4,Ch(t,e,n,r)}finally{V=i,mi.transition=s}}function Ch(t,e,n,r){if(Yl){var i=Yu(t,e,n,r);if(i===null)Gc(t,e,r,Ql,n),zp(t,r);else if(IE(i,t,e,n,r))r.stopPropagation();else if(zp(t,r),e&4&&-1<SE.indexOf(t)){for(;i!==null;){var s=No(i);if(s!==null&&m0(s),s=Yu(t,e,n,r),s===null&&Gc(t,e,r,Ql,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gc(t,e,r,null,n)}}var Ql=null;function Yu(t,e,n,r){if(Ql=null,t=_h(r),t=_r(t),t!==null)if(e=Ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ql=t,null}function w0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pE()){case vh:return 1;case d0:return 4;case Kl:case mE:return 16;case h0:return 536870912;default:return 16}default:return 16}}var Rn=null,Eh=null,Il=null;function C0(){if(Il)return Il;var t,e=Eh,n=e.length,r,i="value"in Rn?Rn.value:Rn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Il=i.slice(t,1<r?1-r:void 0)}function kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function Hp(){return!1}function nt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tl:Hp,this.isPropagationStopped=Hp,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),e}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sh=nt(zi),Po=oe({},zi,{view:0,detail:0}),PE=nt(Po),jc,Fc,os,Ka=oe({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(jc=t.screenX-os.screenX,Fc=t.screenY-os.screenY):Fc=jc=0,os=t),jc)},movementY:function(t){return"movementY"in t?t.movementY:Fc}}),Vp=nt(Ka),NE=oe({},Ka,{dataTransfer:0}),RE=nt(NE),DE=oe({},Po,{relatedTarget:0}),Uc=nt(DE),OE=oe({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),AE=nt(OE),LE=oe({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bE=nt(LE),ME=oe({},zi,{data:0}),Gp=nt(ME),jE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UE[t])?!!e[t]:!1}function Ih(){return WE}var $E=oe({},Po,{key:function(t){if(t.key){var e=jE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(t){return t.type==="keypress"?kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zE=nt($E),BE=oe({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kp=nt(BE),HE=oe({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),VE=nt(HE),GE=oe({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),KE=nt(GE),qE=oe({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=nt(qE),QE=[9,13,27,32],kh=sn&&"CompositionEvent"in window,Ds=null;sn&&"documentMode"in document&&(Ds=document.documentMode);var XE=sn&&"TextEvent"in window&&!Ds,E0=sn&&(!kh||Ds&&8<Ds&&11>=Ds),qp=" ",Yp=!1;function S0(t,e){switch(t){case"keyup":return QE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ti=!1;function JE(t,e){switch(t){case"compositionend":return I0(e);case"keypress":return e.which!==32?null:(Yp=!0,qp);case"textInput":return t=e.data,t===qp&&Yp?null:t;default:return null}}function ZE(t,e){if(ti)return t==="compositionend"||!kh&&S0(t,e)?(t=C0(),Il=Eh=Rn=null,ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E0&&e.locale!=="ko"?null:e.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eS[t.type]:e==="textarea"}function k0(t,e,n,r){n0(r),e=Xl(e,"onChange"),0<e.length&&(n=new Sh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Os=null,Xs=null;function tS(t){M0(t,0)}function qa(t){var e=ii(t);if(Y_(e))return t}function nS(t,e){if(t==="change")return e}var T0=!1;if(sn){var Wc;if(sn){var $c="oninput"in document;if(!$c){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),$c=typeof Xp.oninput=="function"}Wc=$c}else Wc=!1;T0=Wc&&(!document.documentMode||9<document.documentMode)}function Jp(){Os&&(Os.detachEvent("onpropertychange",x0),Xs=Os=null)}function x0(t){if(t.propertyName==="value"&&qa(Xs)){var e=[];k0(e,Xs,t,_h(t)),o0(tS,e)}}function rS(t,e,n){t==="focusin"?(Jp(),Os=e,Xs=n,Os.attachEvent("onpropertychange",x0)):t==="focusout"&&Jp()}function iS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qa(Xs)}function sS(t,e){if(t==="click")return qa(e)}function oS(t,e){if(t==="input"||t==="change")return qa(e)}function lS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xt=typeof Object.is=="function"?Object.is:lS;function Js(t,e){if(xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Du.call(e,i)||!xt(t[i],e[i]))return!1}return!0}function Zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,e){var n=Zp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zp(n)}}function P0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N0(){for(var t=window,e=Hl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hl(t.document)}return e}function Th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aS(t){var e=N0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P0(n.ownerDocument.documentElement,n)){if(r!==null&&Th(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=em(n,s);var o=em(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cS=sn&&"documentMode"in document&&11>=document.documentMode,ni=null,Qu=null,As=null,Xu=!1;function tm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xu||ni==null||ni!==Hl(r)||(r=ni,"selectionStart"in r&&Th(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Js(As,r)||(As=r,r=Xl(Qu,"onSelect"),0<r.length&&(e=new Sh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ni)))}function nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ri={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},zc={},R0={};sn&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Ya(t){if(zc[t])return zc[t];if(!ri[t])return t;var e=ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R0)return zc[t]=e[n];return t}var D0=Ya("animationend"),O0=Ya("animationiteration"),A0=Ya("animationstart"),L0=Ya("transitionend"),b0=new Map,nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(t,e){b0.set(t,e),Fr(e,[t])}for(var Bc=0;Bc<nm.length;Bc++){var Hc=nm[Bc],uS=Hc.toLowerCase(),dS=Hc[0].toUpperCase()+Hc.slice(1);tr(uS,"on"+dS)}tr(D0,"onAnimationEnd");tr(O0,"onAnimationIteration");tr(A0,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(L0,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function rm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uE(r,e,void 0,t),t.currentTarget=null}function M0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;rm(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;rm(i,l,c),s=a}}}if(Gl)throw t=Gu,Gl=!1,Gu=null,t}function Z(t,e){var n=e[nd];n===void 0&&(n=e[nd]=new Set);var r=t+"__bubble";n.has(r)||(j0(e,t,2,!1),n.add(r))}function Vc(t,e,n){var r=0;e&&(r|=4),j0(n,t,r,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Zs(t){if(!t[rl]){t[rl]=!0,H_.forEach(function(n){n!=="selectionchange"&&(hS.has(n)||Vc(n,!1,t),Vc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,Vc("selectionchange",!1,e))}}function j0(t,e,n,r){switch(w0(e)){case 1:var i=TE;break;case 4:i=xE;break;default:i=Ch}n=i.bind(null,e,n,t),i=void 0,!Vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=_r(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}o0(function(){var c=s,u=_h(n),d=[];e:{var f=b0.get(t);if(f!==void 0){var p=Sh,v=t;switch(t){case"keypress":if(kl(n)===0)break e;case"keydown":case"keyup":p=zE;break;case"focusin":v="focus",p=Uc;break;case"focusout":v="blur",p=Uc;break;case"beforeblur":case"afterblur":p=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VE;break;case D0:case O0:case A0:p=AE;break;case L0:p=KE;break;case"scroll":p=PE;break;case"wheel":p=YE;break;case"copy":case"cut":case"paste":p=bE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Kp}var y=(e&4)!==0,C=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,_;m!==null;){_=m;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=Ks(m,g),w!=null&&y.push(eo(m,w,_)))),C)break;m=m.return}0<y.length&&(f=new p(f,v,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Bu&&(v=n.relatedTarget||n.fromElement)&&(_r(v)||v[on]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?_r(v):null,v!==null&&(C=Ur(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(y=Vp,w="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=Kp,w="onPointerLeave",g="onPointerEnter",m="pointer"),C=p==null?f:ii(p),_=v==null?f:ii(v),f=new y(w,m+"leave",p,n,u),f.target=C,f.relatedTarget=_,w=null,_r(u)===c&&(y=new y(g,m+"enter",v,n,u),y.target=_,y.relatedTarget=C,w=y),C=w,p&&v)t:{for(y=p,g=v,m=0,_=y;_;_=Gr(_))m++;for(_=0,w=g;w;w=Gr(w))_++;for(;0<m-_;)y=Gr(y),m--;for(;0<_-m;)g=Gr(g),_--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Gr(y),g=Gr(g)}y=null}else y=null;p!==null&&im(d,f,p,y,!1),v!==null&&C!==null&&im(d,C,v,y,!0)}}e:{if(f=c?ii(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=nS;else if(Qp(f))if(T0)S=oS;else{S=iS;var I=rS}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=sS);if(S&&(S=S(t,c))){k0(d,S,n,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Fu(f,"number",f.value)}switch(I=c?ii(c):window,t){case"focusin":(Qp(I)||I.contentEditable==="true")&&(ni=I,Qu=c,As=null);break;case"focusout":As=Qu=ni=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,tm(d,n,u);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":tm(d,n,u)}var x;if(kh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ti?S0(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(E0&&n.locale!=="ko"&&(ti||k!=="onCompositionStart"?k==="onCompositionEnd"&&ti&&(x=C0()):(Rn=u,Eh="value"in Rn?Rn.value:Rn.textContent,ti=!0)),I=Xl(c,k),0<I.length&&(k=new Gp(k,t,null,n,u),d.push({event:k,listeners:I}),x?k.data=x:(x=I0(n),x!==null&&(k.data=x)))),(x=XE?JE(t,n):ZE(t,n))&&(c=Xl(c,"onBeforeInput"),0<c.length&&(u=new Gp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=x))}M0(d,e)})}function eo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ks(t,n),s!=null&&r.unshift(eo(t,s,i)),s=Ks(t,e),s!=null&&r.push(eo(t,s,i))),t=t.return}return r}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function im(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Ks(n,s),a!=null&&o.unshift(eo(n,a,l))):i||(a=Ks(n,s),a!=null&&o.push(eo(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function sm(t){return(typeof t=="string"?t:""+t).replace(fS,`
`).replace(pS,"")}function il(t,e,n){if(e=sm(e),sm(t)!==e&&n)throw Error(T(425))}function Jl(){}var Ju=null,Zu=null;function ed(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(t){return om.resolve(null).then(t).catch(_S)}:td;function _S(t){setTimeout(function(){throw t})}function Kc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qs(e)}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Bi,to="__reactProps$"+Bi,on="__reactContainer$"+Bi,nd="__reactEvents$"+Bi,vS="__reactListeners$"+Bi,yS="__reactHandles$"+Bi;function _r(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[on]||n[Dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lm(t);t!==null;){if(n=t[Dt])return n;t=lm(t)}return e}t=n,n=t.parentNode}return null}function No(t){return t=t[Dt]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Qa(t){return t[to]||null}var rd=[],si=-1;function nr(t){return{current:t}}function ee(t){0>si||(t.current=rd[si],rd[si]=null,si--)}function X(t,e){si++,rd[si]=t.current,t.current=e}var Qn={},De=nr(Qn),Be=nr(!1),Ir=Qn;function ki(t,e){var n=t.type.contextTypes;if(!n)return Qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function He(t){return t=t.childContextTypes,t!=null}function Zl(){ee(Be),ee(De)}function am(t,e,n){if(De.current!==Qn)throw Error(T(168));X(De,e),X(Be,n)}function F0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(T(108,rE(t)||"Unknown",i));return oe({},n,r)}function ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Ir=De.current,X(De,t),X(Be,Be.current),!0}function cm(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=F0(t,e,Ir),r.__reactInternalMemoizedMergedChildContext=t,ee(Be),ee(De),X(De,t)):ee(Be),X(Be,n)}var Kt=null,Xa=!1,qc=!1;function U0(t){Kt===null?Kt=[t]:Kt.push(t)}function wS(t){Xa=!0,U0(t)}function rr(){if(!qc&&Kt!==null){qc=!0;var t=0,e=V;try{var n=Kt;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kt=null,Xa=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(t+1)),u0(vh,rr),i}finally{V=e,qc=!1}}return null}var oi=[],li=0,ta=null,na=0,it=[],st=0,kr=null,Yt=1,Qt="";function hr(t,e){oi[li++]=na,oi[li++]=ta,ta=t,na=e}function W0(t,e,n){it[st++]=Yt,it[st++]=Qt,it[st++]=kr,kr=t;var r=Yt;t=Qt;var i=32-St(r)-1;r&=~(1<<i),n+=1;var s=32-St(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yt=1<<32-St(e)+i|n<<i|r,Qt=s+t}else Yt=1<<s|n<<i|r,Qt=t}function xh(t){t.return!==null&&(hr(t,1),W0(t,1,0))}function Ph(t){for(;t===ta;)ta=oi[--li],oi[li]=null,na=oi[--li],oi[li]=null;for(;t===kr;)kr=it[--st],it[st]=null,Qt=it[--st],it[st]=null,Yt=it[--st],it[st]=null}var Xe=null,Ye=null,te=!1,vt=null;function $0(t,e){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function um(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xe=t,Ye=Fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xe=t,Ye=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kr!==null?{id:Yt,overflow:Qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xe=t,Ye=null,!0):!1;default:return!1}}function id(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sd(t){if(te){var e=Ye;if(e){var n=e;if(!um(t,e)){if(id(t))throw Error(T(418));e=Fn(n.nextSibling);var r=Xe;e&&um(t,e)?$0(r,n):(t.flags=t.flags&-4097|2,te=!1,Xe=t)}}else{if(id(t))throw Error(T(418));t.flags=t.flags&-4097|2,te=!1,Xe=t}}}function dm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xe=t}function sl(t){if(t!==Xe)return!1;if(!te)return dm(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ed(t.type,t.memoizedProps)),e&&(e=Ye)){if(id(t))throw z0(),Error(T(418));for(;e;)$0(t,e),e=Fn(e.nextSibling)}if(dm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ye=Fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ye=null}}else Ye=Xe?Fn(t.stateNode.nextSibling):null;return!0}function z0(){for(var t=Ye;t;)t=Fn(t.nextSibling)}function Ti(){Ye=Xe=null,te=!1}function Nh(t){vt===null?vt=[t]:vt.push(t)}var CS=fn.ReactCurrentBatchConfig;function ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function ol(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hm(t){var e=t._init;return e(t._payload)}function B0(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=zn(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,_,w){return m===null||m.tag!==6?(m=tu(_,g.mode,w),m.return=g,m):(m=i(m,_),m.return=g,m)}function a(g,m,_,w){var S=_.type;return S===ei?u(g,m,_.props.children,w,_.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sn&&hm(S)===m.type)?(w=i(m,_.props),w.ref=ls(g,m,_),w.return=g,w):(w=Ol(_.type,_.key,_.props,null,g.mode,w),w.ref=ls(g,m,_),w.return=g,w)}function c(g,m,_,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=nu(_,g.mode,w),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function u(g,m,_,w,S){return m===null||m.tag!==7?(m=Sr(_,g.mode,w,S),m.return=g,m):(m=i(m,_),m.return=g,m)}function d(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=tu(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yo:return _=Ol(m.type,m.key,m.props,null,g.mode,_),_.ref=ls(g,null,m),_.return=g,_;case Zr:return m=nu(m,g.mode,_),m.return=g,m;case Sn:var w=m._init;return d(g,w(m._payload),_)}if(Ss(m)||ns(m))return m=Sr(m,g.mode,_,null),m.return=g,m;ol(g,m)}return null}function f(g,m,_,w){var S=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:l(g,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yo:return _.key===S?a(g,m,_,w):null;case Zr:return _.key===S?c(g,m,_,w):null;case Sn:return S=_._init,f(g,m,S(_._payload),w)}if(Ss(_)||ns(_))return S!==null?null:u(g,m,_,w,null);ol(g,_)}return null}function p(g,m,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,l(m,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yo:return g=g.get(w.key===null?_:w.key)||null,a(m,g,w,S);case Zr:return g=g.get(w.key===null?_:w.key)||null,c(m,g,w,S);case Sn:var I=w._init;return p(g,m,_,I(w._payload),S)}if(Ss(w)||ns(w))return g=g.get(_)||null,u(m,g,w,S,null);ol(m,w)}return null}function v(g,m,_,w){for(var S=null,I=null,x=m,k=m=0,D=null;x!==null&&k<_.length;k++){x.index>k?(D=x,x=null):D=x.sibling;var O=f(g,x,_[k],w);if(O===null){x===null&&(x=D);break}t&&x&&O.alternate===null&&e(g,x),m=s(O,m,k),I===null?S=O:I.sibling=O,I=O,x=D}if(k===_.length)return n(g,x),te&&hr(g,k),S;if(x===null){for(;k<_.length;k++)x=d(g,_[k],w),x!==null&&(m=s(x,m,k),I===null?S=x:I.sibling=x,I=x);return te&&hr(g,k),S}for(x=r(g,x);k<_.length;k++)D=p(x,g,k,_[k],w),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?k:D.key),m=s(D,m,k),I===null?S=D:I.sibling=D,I=D);return t&&x.forEach(function(j){return e(g,j)}),te&&hr(g,k),S}function y(g,m,_,w){var S=ns(_);if(typeof S!="function")throw Error(T(150));if(_=S.call(_),_==null)throw Error(T(151));for(var I=S=null,x=m,k=m=0,D=null,O=_.next();x!==null&&!O.done;k++,O=_.next()){x.index>k?(D=x,x=null):D=x.sibling;var j=f(g,x,O.value,w);if(j===null){x===null&&(x=D);break}t&&x&&j.alternate===null&&e(g,x),m=s(j,m,k),I===null?S=j:I.sibling=j,I=j,x=D}if(O.done)return n(g,x),te&&hr(g,k),S;if(x===null){for(;!O.done;k++,O=_.next())O=d(g,O.value,w),O!==null&&(m=s(O,m,k),I===null?S=O:I.sibling=O,I=O);return te&&hr(g,k),S}for(x=r(g,x);!O.done;k++,O=_.next())O=p(x,g,k,O.value,w),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?k:O.key),m=s(O,m,k),I===null?S=O:I.sibling=O,I=O);return t&&x.forEach(function(q){return e(g,q)}),te&&hr(g,k),S}function C(g,m,_,w){if(typeof _=="object"&&_!==null&&_.type===ei&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yo:e:{for(var S=_.key,I=m;I!==null;){if(I.key===S){if(S=_.type,S===ei){if(I.tag===7){n(g,I.sibling),m=i(I,_.props.children),m.return=g,g=m;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sn&&hm(S)===I.type){n(g,I.sibling),m=i(I,_.props),m.ref=ls(g,I,_),m.return=g,g=m;break e}n(g,I);break}else e(g,I);I=I.sibling}_.type===ei?(m=Sr(_.props.children,g.mode,w,_.key),m.return=g,g=m):(w=Ol(_.type,_.key,_.props,null,g.mode,w),w.ref=ls(g,m,_),w.return=g,g=w)}return o(g);case Zr:e:{for(I=_.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=nu(_,g.mode,w),m.return=g,g=m}return o(g);case Sn:return I=_._init,C(g,m,I(_._payload),w)}if(Ss(_))return v(g,m,_,w);if(ns(_))return y(g,m,_,w);ol(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=tu(_,g.mode,w),m.return=g,g=m),o(g)):n(g,m)}return C}var xi=B0(!0),H0=B0(!1),ra=nr(null),ia=null,ai=null,Rh=null;function Dh(){Rh=ai=ia=null}function Oh(t){var e=ra.current;ee(ra),t._currentValue=e}function od(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gi(t,e){ia=t,Rh=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ct(t){var e=t._currentValue;if(Rh!==t)if(t={context:t,memoizedValue:e,next:null},ai===null){if(ia===null)throw Error(T(308));ai=t,ia.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return e}var vr=null;function Ah(t){vr===null?vr=[t]:vr.push(t)}function V0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ah(e)):(n.next=i.next,i.next=n),e.interleaved=n,ln(t,r)}function ln(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var In=!1;function Lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ln(t,n)}return i=r.interleaved,i===null?(e.next=e,Ah(r)):(e.next=i.next,i.next=e),r.interleaved=e,ln(t,n)}function Tl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yh(t,n)}}function fm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sa(t,e,n,r){var i=t.updateQueue;In=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,u=c=a=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(f=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=oe({},d,f);break e;case 2:In=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=p,a=d):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=d}}function pm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var Ro={},At=nr(Ro),no=nr(Ro),ro=nr(Ro);function yr(t){if(t===Ro)throw Error(T(174));return t}function bh(t,e){switch(X(ro,e),X(no,t),X(At,Ro),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wu(e,t)}ee(At),X(At,e)}function Pi(){ee(At),ee(no),ee(ro)}function K0(t){yr(ro.current);var e=yr(At.current),n=Wu(e,t.type);e!==n&&(X(no,t),X(At,n))}function Mh(t){no.current===t&&(ee(At),ee(no))}var re=nr(0);function oa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yc=[];function jh(){for(var t=0;t<Yc.length;t++)Yc[t]._workInProgressVersionPrimary=null;Yc.length=0}var xl=fn.ReactCurrentDispatcher,Qc=fn.ReactCurrentBatchConfig,Tr=0,ie=null,fe=null,ve=null,la=!1,Ls=!1,io=0,ES=0;function Pe(){throw Error(T(321))}function Fh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xt(t[n],e[n]))return!1;return!0}function Uh(t,e,n,r,i,s){if(Tr=s,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xl.current=t===null||t.memoizedState===null?TS:xS,t=n(r,i),Ls){s=0;do{if(Ls=!1,io=0,25<=s)throw Error(T(301));s+=1,ve=fe=null,e.updateQueue=null,xl.current=PS,t=n(r,i)}while(Ls)}if(xl.current=aa,e=fe!==null&&fe.next!==null,Tr=0,ve=fe=ie=null,la=!1,e)throw Error(T(300));return t}function Wh(){var t=io!==0;return io=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ie.memoizedState=ve=t:ve=ve.next=t,ve}function ut(){if(fe===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=ve===null?ie.memoizedState:ve.next;if(e!==null)ve=e,fe=t;else{if(t===null)throw Error(T(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ve===null?ie.memoizedState=ve=t:ve=ve.next=t}return ve}function so(t,e){return typeof e=="function"?e(t):e}function Xc(t){var e=ut(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var u=c.lane;if((Tr&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ie.lanes|=u,xr|=u}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,xt(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ie.lanes|=s,xr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jc(t){var e=ut(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xt(s,e.memoizedState)||(We=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function q0(){}function Y0(t,e){var n=ie,r=ut(),i=e(),s=!xt(r.memoizedState,i);if(s&&(r.memoizedState=i,We=!0),r=r.queue,$h(J0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,oo(9,X0.bind(null,n,r,i,e),void 0,null),we===null)throw Error(T(349));Tr&30||Q0(n,e,i)}return i}function Q0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function X0(t,e,n,r){e.value=n,e.getSnapshot=r,Z0(e)&&ev(t)}function J0(t,e,n){return n(function(){Z0(e)&&ev(t)})}function Z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xt(t,n)}catch{return!0}}function ev(t){var e=ln(t,1);e!==null&&It(e,t,1,-1)}function mm(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},e.queue=t,t=t.dispatch=kS.bind(null,ie,t),[e.memoizedState,t]}function oo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tv(){return ut().memoizedState}function Pl(t,e,n,r){var i=Rt();ie.flags|=t,i.memoizedState=oo(1|e,n,void 0,r===void 0?null:r)}function Ja(t,e,n,r){var i=ut();r=r===void 0?null:r;var s=void 0;if(fe!==null){var o=fe.memoizedState;if(s=o.destroy,r!==null&&Fh(r,o.deps)){i.memoizedState=oo(e,n,s,r);return}}ie.flags|=t,i.memoizedState=oo(1|e,n,s,r)}function gm(t,e){return Pl(8390656,8,t,e)}function $h(t,e){return Ja(2048,8,t,e)}function nv(t,e){return Ja(4,2,t,e)}function rv(t,e){return Ja(4,4,t,e)}function iv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sv(t,e,n){return n=n!=null?n.concat([t]):null,Ja(4,4,iv.bind(null,e,t),n)}function zh(){}function ov(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lv(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function av(t,e,n){return Tr&21?(xt(n,e)||(n=f0(),ie.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function SS(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=Qc.transition;Qc.transition={};try{t(!1),e()}finally{V=n,Qc.transition=r}}function cv(){return ut().memoizedState}function IS(t,e,n){var r=$n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uv(t))dv(e,n);else if(n=V0(t,e,n,r),n!==null){var i=Le();It(n,t,r,i),hv(n,e,r)}}function kS(t,e,n){var r=$n(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uv(t))dv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,xt(l,o)){var a=e.interleaved;a===null?(i.next=i,Ah(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=V0(t,e,i,r),n!==null&&(i=Le(),It(n,t,r,i),hv(n,e,r))}}function uv(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function dv(t,e){Ls=la=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yh(t,n)}}var aa={readContext:ct,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},TS={readContext:ct,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:gm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4194308,4,iv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pl(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IS.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:mm,useDebugValue:zh,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=mm(!1),e=t[0];return t=SS.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,i=Rt();if(te){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),we===null)throw Error(T(349));Tr&30||Q0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gm(J0.bind(null,r,s,t),[t]),r.flags|=2048,oo(9,X0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rt(),e=we.identifierPrefix;if(te){var n=Qt,r=Yt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=io++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ES++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xS={readContext:ct,useCallback:ov,useContext:ct,useEffect:$h,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:Xc,useRef:tv,useState:function(){return Xc(so)},useDebugValue:zh,useDeferredValue:function(t){var e=ut();return av(e,fe.memoizedState,t)},useTransition:function(){var t=Xc(so)[0],e=ut().memoizedState;return[t,e]},useMutableSource:q0,useSyncExternalStore:Y0,useId:cv,unstable_isNewReconciler:!1},PS={readContext:ct,useCallback:ov,useContext:ct,useEffect:$h,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:Jc,useRef:tv,useState:function(){return Jc(so)},useDebugValue:zh,useDeferredValue:function(t){var e=ut();return fe===null?e.memoizedState=t:av(e,fe.memoizedState,t)},useTransition:function(){var t=Jc(so)[0],e=ut().memoizedState;return[t,e]},useMutableSource:q0,useSyncExternalStore:Y0,useId:cv,unstable_isNewReconciler:!1};function gt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ld(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Za={isMounted:function(t){return(t=t._reactInternals)?Ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Le(),i=$n(t),s=tn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Un(t,s,i),e!==null&&(It(e,t,i,r),Tl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Le(),i=$n(t),s=tn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Un(t,s,i),e!==null&&(It(e,t,i,r),Tl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),r=$n(t),i=tn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Un(t,i,r),e!==null&&(It(e,t,r,n),Tl(e,t,r))}};function _m(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Js(n,r)||!Js(i,s):!0}function fv(t,e,n){var r=!1,i=Qn,s=e.contextType;return typeof s=="object"&&s!==null?s=ct(s):(i=He(e)?Ir:De.current,r=e.contextTypes,s=(r=r!=null)?ki(t,i):Qn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Za,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Za.enqueueReplaceState(e,e.state,null)}function ad(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Lh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ct(s):(s=He(e)?Ir:De.current,i.context=ki(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ld(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Za.enqueueReplaceState(i,i.state,null),sa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,e){try{var n="",r=e;do n+=nE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NS=typeof WeakMap=="function"?WeakMap:Map;function pv(t,e,n){n=tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ua||(ua=!0,yd=r),cd(t,e)},n}function mv(t,e,n){n=tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cd(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ym(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BS.bind(null,t,e,n),e.then(t,t))}function wm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tn(-1,1),e.tag=2,Un(n,e,1))),n.lanes|=1),t)}var RS=fn.ReactCurrentOwner,We=!1;function Oe(t,e,n,r){e.child=t===null?H0(e,null,n,r):xi(e,t.child,n,r)}function Em(t,e,n,r,i){n=n.render;var s=e.ref;return gi(e,i),r=Uh(t,e,n,r,s,i),n=Wh(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,an(t,e,i)):(te&&n&&xh(e),e.flags|=1,Oe(t,e,r,i),e.child)}function Sm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gv(t,e,s,r,i)):(t=Ol(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(o,r)&&t.ref===e.ref)return an(t,e,i)}return e.flags|=1,t=zn(s,r),t.ref=e.ref,t.return=e,e.child=t}function gv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Js(s,r)&&t.ref===e.ref)if(We=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,an(t,e,i)}return ud(t,e,n,r,i)}function _v(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(ui,qe),qe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(ui,qe),qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,X(ui,qe),qe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,X(ui,qe),qe|=r;return Oe(t,e,i,n),e.child}function vv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ud(t,e,n,r,i){var s=He(n)?Ir:De.current;return s=ki(e,s),gi(e,i),n=Uh(t,e,n,r,s,i),r=Wh(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,an(t,e,i)):(te&&r&&xh(e),e.flags|=1,Oe(t,e,n,i),e.child)}function Im(t,e,n,r,i){if(He(n)){var s=!0;ea(e)}else s=!1;if(gi(e,i),e.stateNode===null)Nl(t,e),fv(e,n,r),ad(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=He(n)?Ir:De.current,c=ki(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&vm(e,o,r,c),In=!1;var f=e.memoizedState;o.state=f,sa(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Be.current||In?(typeof u=="function"&&(ld(e,n,u,r),a=e.memoizedState),(l=In||_m(e,n,l,r,f,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,G0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:gt(e.type,l),o.props=c,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ct(a):(a=He(n)?Ir:De.current,a=ki(e,a));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&vm(e,o,r,a),In=!1,f=e.memoizedState,o.state=f,sa(e,r,o,i);var v=e.memoizedState;l!==d||f!==v||Be.current||In?(typeof p=="function"&&(ld(e,n,p,r),v=e.memoizedState),(c=In||_m(e,n,c,r,f,v,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return dd(t,e,n,r,s,i)}function dd(t,e,n,r,i,s){vv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cm(e,n,!1),an(t,e,s);r=e.stateNode,RS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xi(e,t.child,null,s),e.child=xi(e,null,l,s)):Oe(t,e,l,s),e.memoizedState=r.state,i&&cm(e,n,!0),e.child}function yv(t){var e=t.stateNode;e.pendingContext?am(t,e.pendingContext,e.pendingContext!==e.context):e.context&&am(t,e.context,!1),bh(t,e.containerInfo)}function km(t,e,n,r,i){return Ti(),Nh(i),e.flags|=256,Oe(t,e,n,r),e.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function fd(t){return{baseLanes:t,cachePool:null,transitions:null}}function wv(t,e,n){var r=e.pendingProps,i=re.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),X(re,i&1),t===null)return sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nc(o,r,0,null),t=Sr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fd(n),e.memoizedState=hd,t):Bh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return DS(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=zn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zn(l,s):(s=Sr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hd,r}return s=t.child,t=s.sibling,r=zn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bh(t,e){return e=nc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ll(t,e,n,r){return r!==null&&Nh(r),xi(e,t.child,null,n),t=Bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zc(Error(T(422))),ll(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=nc({mode:"visible",children:r.children},i,0,null),s=Sr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xi(e,t.child,null,o),e.child.memoizedState=fd(o),e.memoizedState=hd,s);if(!(e.mode&1))return ll(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(T(419)),r=Zc(s,r,void 0),ll(t,e,o,r)}if(l=(o&t.childLanes)!==0,We||l){if(r=we,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ln(t,i),It(r,t,i,-1))}return Yh(),r=Zc(Error(T(421))),ll(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ye=Fn(i.nextSibling),Xe=e,te=!0,vt=null,t!==null&&(it[st++]=Yt,it[st++]=Qt,it[st++]=kr,Yt=t.id,Qt=t.overflow,kr=e),e=Bh(e,r.children),e.flags|=4096,e)}function Tm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),od(t.return,e,n)}function eu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Cv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Oe(t,e,r.children,n),r=re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tm(t,n,e);else if(t.tag===19)Tm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eu(e,!0,n,null,s);break;case"together":eu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OS(t,e,n){switch(e.tag){case 3:yv(e),Ti();break;case 5:K0(e);break;case 1:He(e.type)&&ea(e);break;case 4:bh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;X(ra,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?wv(t,e,n):(X(re,re.current&1),t=an(t,e,n),t!==null?t.sibling:null);X(re,re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(re,re.current),r)break;return null;case 22:case 23:return e.lanes=0,_v(t,e,n)}return an(t,e,n)}var Ev,pd,Sv,Iv;Ev=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pd=function(){};Sv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yr(At.current);var s=null;switch(n){case"input":i=Mu(t,i),r=Mu(t,r),s=[];break;case"select":i=oe({},i,{value:void 0}),r=oe({},r,{value:void 0}),s=[];break;case"textarea":i=Uu(t,i),r=Uu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jl)}$u(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vs.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Z("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Iv=function(t,e,n,r){n!==r&&(e.flags|=4)};function as(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AS(t,e,n){var r=e.pendingProps;switch(Ph(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return He(e.type)&&Zl(),Ne(e),null;case 3:return r=e.stateNode,Pi(),ee(Be),ee(De),jh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vt!==null&&(Ed(vt),vt=null))),pd(t,e),Ne(e),null;case 5:Mh(e);var i=yr(ro.current);if(n=e.type,t!==null&&e.stateNode!=null)Sv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return Ne(e),null}if(t=yr(At.current),sl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dt]=e,r[to]=s,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<ks.length;i++)Z(ks[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":bp(r,s),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Z("invalid",r);break;case"textarea":jp(r,s),Z("invalid",r)}$u(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&il(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&il(r.textContent,l,t),i=["children",""+l]):Vs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":Qo(r),Mp(r,s,!0);break;case"textarea":Qo(r),Fp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dt]=e,t[to]=r,Ev(t,e,!1,!1),e.stateNode=t;e:{switch(o=zu(n,r),n){case"dialog":Z("cancel",t),Z("close",t),i=r;break;case"iframe":case"object":case"embed":Z("load",t),i=r;break;case"video":case"audio":for(i=0;i<ks.length;i++)Z(ks[i],t);i=r;break;case"source":Z("error",t),i=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),i=r;break;case"details":Z("toggle",t),i=r;break;case"input":bp(t,r),i=Mu(t,r),Z("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=oe({},r,{value:void 0}),Z("invalid",t);break;case"textarea":jp(t,r),i=Uu(t,r),Z("invalid",t);break;default:i=r}$u(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?t0(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Z_(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Gs(t,a):typeof a=="number"&&Gs(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vs.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Z("scroll",t):a!=null&&fh(t,s,a,o))}switch(n){case"input":Qo(t),Mp(t,r,!1);break;case"textarea":Qo(t),Fp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hi(t,!!r.multiple,s,!1):r.defaultValue!=null&&hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Iv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=yr(ro.current),yr(At.current),sl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dt]=e,(s=r.nodeValue!==n)&&(t=Xe,t!==null))switch(t.tag){case 3:il(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=e,e.stateNode=r}return Ne(e),null;case 13:if(ee(re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Ye!==null&&e.mode&1&&!(e.flags&128))z0(),Ti(),e.flags|=98560,s=!1;else if(s=sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[Dt]=e}else Ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),s=!1}else vt!==null&&(Ed(vt),vt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?ge===0&&(ge=3):Yh())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return Pi(),pd(t,e),t===null&&Zs(e.stateNode.containerInfo),Ne(e),null;case 10:return Oh(e.type._context),Ne(e),null;case 17:return He(e.type)&&Zl(),Ne(e),null;case 19:if(ee(re),s=e.memoizedState,s===null)return Ne(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)as(s,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oa(t),o!==null){for(e.flags|=128,as(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(re,re.current&1|2),e.child}t=t.sibling}s.tail!==null&&ue()>Ri&&(e.flags|=128,r=!0,as(s,!1),e.lanes=4194304)}else{if(!r)if(t=oa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return Ne(e),null}else 2*ue()-s.renderingStartTime>Ri&&n!==1073741824&&(e.flags|=128,r=!0,as(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ue(),e.sibling=null,n=re.current,X(re,r?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return qh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qe&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function LS(t,e){switch(Ph(e),e.tag){case 1:return He(e.type)&&Zl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pi(),ee(Be),ee(De),jh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mh(e),null;case 13:if(ee(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(re),null;case 4:return Pi(),null;case 10:return Oh(e.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var al=!1,Re=!1,bS=typeof WeakSet=="function"?WeakSet:Set,R=null;function ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function md(t,e,n){try{n()}catch(r){le(t,e,r)}}var xm=!1;function MS(t,e){if(Ju=Yl,t=N0(),Th(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(l=o),f===s&&++u===r&&(a=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zu={focusedElem:t,selectionRange:n},Yl=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,C=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:gt(e.type,y),C);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){le(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=xm,xm=!1,v}function bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&md(e,n,s)}i=i.next}while(i!==r)}}function ec(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kv(t){var e=t.alternate;e!==null&&(t.alternate=null,kv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dt],delete e[to],delete e[nd],delete e[vS],delete e[yS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tv(t){return t.tag===5||t.tag===3||t.tag===4}function Pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jl));else if(r!==4&&(t=t.child,t!==null))for(_d(t,e,n),t=t.sibling;t!==null;)_d(t,e,n),t=t.sibling}function vd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vd(t,e,n),t=t.sibling;t!==null;)vd(t,e,n),t=t.sibling}var Se=null,_t=!1;function wn(t,e,n){for(n=n.child;n!==null;)xv(t,e,n),n=n.sibling}function xv(t,e,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:Re||ci(n,e);case 6:var r=Se,i=_t;Se=null,wn(t,e,n),Se=r,_t=i,Se!==null&&(_t?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(_t?(t=Se,n=n.stateNode,t.nodeType===8?Kc(t.parentNode,n):t.nodeType===1&&Kc(t,n),Qs(t)):Kc(Se,n.stateNode));break;case 4:r=Se,i=_t,Se=n.stateNode.containerInfo,_t=!0,wn(t,e,n),Se=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&md(n,e,o),i=i.next}while(i!==r)}wn(t,e,n);break;case 1:if(!Re&&(ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){le(n,e,l)}wn(t,e,n);break;case 21:wn(t,e,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,wn(t,e,n),Re=r):wn(t,e,n);break;default:wn(t,e,n)}}function Nm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bS),e.forEach(function(r){var i=VS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,_t=!1;break e;case 3:Se=l.stateNode.containerInfo,_t=!0;break e;case 4:Se=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(Se===null)throw Error(T(160));xv(s,o,i),Se=null,_t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){le(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pv(e,t),e=e.sibling}function Pv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(e,t),Pt(t),r&4){try{bs(3,t,t.return),ec(3,t)}catch(y){le(t,t.return,y)}try{bs(5,t,t.return)}catch(y){le(t,t.return,y)}}break;case 1:pt(e,t),Pt(t),r&512&&n!==null&&ci(n,n.return);break;case 5:if(pt(e,t),Pt(t),r&512&&n!==null&&ci(n,n.return),t.flags&32){var i=t.stateNode;try{Gs(i,"")}catch(y){le(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Q_(i,s),zu(l,o);var c=zu(l,s);for(o=0;o<a.length;o+=2){var u=a[o],d=a[o+1];u==="style"?t0(i,d):u==="dangerouslySetInnerHTML"?Z_(i,d):u==="children"?Gs(i,d):fh(i,u,d,c)}switch(l){case"input":ju(i,s);break;case"textarea":X_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?hi(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?hi(i,!!s.multiple,s.defaultValue,!0):hi(i,!!s.multiple,s.multiple?[]:"",!1))}i[to]=s}catch(y){le(t,t.return,y)}}break;case 6:if(pt(e,t),Pt(t),r&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){le(t,t.return,y)}}break;case 3:if(pt(e,t),Pt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(e.containerInfo)}catch(y){le(t,t.return,y)}break;case 4:pt(e,t),Pt(t);break;case 13:pt(e,t),Pt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gh=ue())),r&4&&Nm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Re=(c=Re)||u,pt(e,t),Re=c):pt(e,t),Pt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(R=t,u=t.child;u!==null;){for(d=R=u;R!==null;){switch(f=R,p=f.child,f.tag){case 0:case 11:case 14:case 15:bs(4,f,f.return);break;case 1:ci(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){le(r,n,y)}}break;case 5:ci(f,f.return);break;case 22:if(f.memoizedState!==null){Dm(d);continue}}p!==null?(p.return=f,R=p):Dm(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=e0("display",o))}catch(y){le(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){le(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pt(e,t),Pt(t),r&4&&Nm(t);break;case 21:break;default:pt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tv(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gs(i,""),r.flags&=-33);var s=Pm(t);vd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Pm(t);_d(t,l,o);break;default:throw Error(T(161))}}catch(a){le(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jS(t,e,n){R=t,Nv(t)}function Nv(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||al;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=al;var c=Re;if(al=o,(Re=a)&&!c)for(R=i;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?Om(i):a!==null?(a.return=o,R=a):Om(i);for(;s!==null;)R=s,Nv(s),s=s.sibling;R=i,al=l,Re=c}Rm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):Rm(t)}}function Rm(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Re||ec(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Re||e.flags&512&&gd(e)}catch(f){le(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Dm(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Om(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ec(4,e)}catch(a){le(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){le(e,i,a)}}var s=e.return;try{gd(e)}catch(a){le(e,s,a)}break;case 5:var o=e.return;try{gd(e)}catch(a){le(e,o,a)}}}catch(a){le(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var FS=Math.ceil,ca=fn.ReactCurrentDispatcher,Hh=fn.ReactCurrentOwner,at=fn.ReactCurrentBatchConfig,B=0,we=null,he=null,ke=0,qe=0,ui=nr(0),ge=0,lo=null,xr=0,tc=0,Vh=0,Ms=null,Ue=null,Gh=0,Ri=1/0,Gt=null,ua=!1,yd=null,Wn=null,cl=!1,Dn=null,da=0,js=0,wd=null,Rl=-1,Dl=0;function Le(){return B&6?ue():Rl!==-1?Rl:Rl=ue()}function $n(t){return t.mode&1?B&2&&ke!==0?ke&-ke:CS.transition!==null?(Dl===0&&(Dl=f0()),Dl):(t=V,t!==0||(t=window.event,t=t===void 0?16:w0(t.type)),t):1}function It(t,e,n,r){if(50<js)throw js=0,wd=null,Error(T(185));xo(t,n,r),(!(B&2)||t!==we)&&(t===we&&(!(B&2)&&(tc|=n),ge===4&&Tn(t,ke)),Ve(t,r),n===1&&B===0&&!(e.mode&1)&&(Ri=ue()+500,Xa&&rr()))}function Ve(t,e){var n=t.callbackNode;CE(t,e);var r=ql(t,t===we?ke:0);if(r===0)n!==null&&$p(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$p(n),e===1)t.tag===0?wS(Am.bind(null,t)):U0(Am.bind(null,t)),gS(function(){!(B&6)&&rr()}),n=null;else{switch(p0(r)){case 1:n=vh;break;case 4:n=d0;break;case 16:n=Kl;break;case 536870912:n=h0;break;default:n=Kl}n=jv(n,Rv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rv(t,e){if(Rl=-1,Dl=0,B&6)throw Error(T(327));var n=t.callbackNode;if(_i()&&t.callbackNode!==n)return null;var r=ql(t,t===we?ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ha(t,r);else{e=r;var i=B;B|=2;var s=Ov();(we!==t||ke!==e)&&(Gt=null,Ri=ue()+500,Er(t,e));do try{$S();break}catch(l){Dv(t,l)}while(!0);Dh(),ca.current=s,B=i,he!==null?e=0:(we=null,ke=0,e=ge)}if(e!==0){if(e===2&&(i=Ku(t),i!==0&&(r=i,e=Cd(t,i))),e===1)throw n=lo,Er(t,0),Tn(t,r),Ve(t,ue()),n;if(e===6)Tn(t,r);else{if(i=t.current.alternate,!(r&30)&&!US(i)&&(e=ha(t,r),e===2&&(s=Ku(t),s!==0&&(r=s,e=Cd(t,s))),e===1))throw n=lo,Er(t,0),Tn(t,r),Ve(t,ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:fr(t,Ue,Gt);break;case 3:if(Tn(t,r),(r&130023424)===r&&(e=Gh+500-ue(),10<e)){if(ql(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Le(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=td(fr.bind(null,t,Ue,Gt),e);break}fr(t,Ue,Gt);break;case 4:if(Tn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-St(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FS(r/1960))-r,10<r){t.timeoutHandle=td(fr.bind(null,t,Ue,Gt),r);break}fr(t,Ue,Gt);break;case 5:fr(t,Ue,Gt);break;default:throw Error(T(329))}}}return Ve(t,ue()),t.callbackNode===n?Rv.bind(null,t):null}function Cd(t,e){var n=Ms;return t.current.memoizedState.isDehydrated&&(Er(t,e).flags|=256),t=ha(t,e),t!==2&&(e=Ue,Ue=n,e!==null&&Ed(e)),t}function Ed(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function US(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tn(t,e){for(e&=~Vh,e&=~tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-St(e),r=1<<n;t[n]=-1,e&=~r}}function Am(t){if(B&6)throw Error(T(327));_i();var e=ql(t,0);if(!(e&1))return Ve(t,ue()),null;var n=ha(t,e);if(t.tag!==0&&n===2){var r=Ku(t);r!==0&&(e=r,n=Cd(t,r))}if(n===1)throw n=lo,Er(t,0),Tn(t,e),Ve(t,ue()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fr(t,Ue,Gt),Ve(t,ue()),null}function Kh(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Ri=ue()+500,Xa&&rr())}}function Pr(t){Dn!==null&&Dn.tag===0&&!(B&6)&&_i();var e=B;B|=1;var n=at.transition,r=V;try{if(at.transition=null,V=1,t)return t()}finally{V=r,at.transition=n,B=e,!(B&6)&&rr()}}function qh(){qe=ui.current,ee(ui)}function Er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mS(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(Ph(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:Pi(),ee(Be),ee(De),jh();break;case 5:Mh(r);break;case 4:Pi();break;case 13:ee(re);break;case 19:ee(re);break;case 10:Oh(r.type._context);break;case 22:case 23:qh()}n=n.return}if(we=t,he=t=zn(t.current,null),ke=qe=e,ge=0,lo=null,Vh=tc=xr=0,Ue=Ms=null,vr!==null){for(e=0;e<vr.length;e++)if(n=vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vr=null}return t}function Dv(t,e){do{var n=he;try{if(Dh(),xl.current=aa,la){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}la=!1}if(Tr=0,ve=fe=ie=null,Ls=!1,io=0,Hh.current=null,n===null||n.return===null){ge=1,lo=e,he=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=wm(o);if(p!==null){p.flags&=-257,Cm(p,o,l,s,e),p.mode&1&&ym(s,c,e),e=p,a=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){ym(s,c,e),Yh();break e}a=Error(T(426))}}else if(te&&l.mode&1){var C=wm(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Cm(C,o,l,s,e),Nh(Ni(a,l));break e}}s=a=Ni(a,l),ge!==4&&(ge=2),Ms===null?Ms=[s]:Ms.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=pv(s,a,e);fm(s,g);break e;case 1:l=a;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wn===null||!Wn.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=mv(s,l,e);fm(s,w);break e}}s=s.return}while(s!==null)}Lv(n)}catch(S){e=S,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Ov(){var t=ca.current;return ca.current=aa,t===null?aa:t}function Yh(){(ge===0||ge===3||ge===2)&&(ge=4),we===null||!(xr&268435455)&&!(tc&268435455)||Tn(we,ke)}function ha(t,e){var n=B;B|=2;var r=Ov();(we!==t||ke!==e)&&(Gt=null,Er(t,e));do try{WS();break}catch(i){Dv(t,i)}while(!0);if(Dh(),B=n,ca.current=r,he!==null)throw Error(T(261));return we=null,ke=0,ge}function WS(){for(;he!==null;)Av(he)}function $S(){for(;he!==null&&!hE();)Av(he)}function Av(t){var e=Mv(t.alternate,t,qe);t.memoizedProps=t.pendingProps,e===null?Lv(t):he=e,Hh.current=null}function Lv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LS(n,e),n!==null){n.flags&=32767,he=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,he=null;return}}else if(n=AS(n,e,qe),n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);ge===0&&(ge=5)}function fr(t,e,n){var r=V,i=at.transition;try{at.transition=null,V=1,zS(t,e,n,r)}finally{at.transition=i,V=r}return null}function zS(t,e,n,r){do _i();while(Dn!==null);if(B&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(EE(t,s),t===we&&(he=we=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,jv(Kl,function(){return _i(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=at.transition,at.transition=null;var o=V;V=1;var l=B;B|=4,Hh.current=null,MS(t,n),Pv(n,t),aS(Zu),Yl=!!Ju,Zu=Ju=null,t.current=n,jS(n),fE(),B=l,V=o,at.transition=s}else t.current=n;if(cl&&(cl=!1,Dn=t,da=i),s=t.pendingLanes,s===0&&(Wn=null),gE(n.stateNode),Ve(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ua)throw ua=!1,t=yd,yd=null,t;return da&1&&t.tag!==0&&_i(),s=t.pendingLanes,s&1?t===wd?js++:(js=0,wd=t):js=0,rr(),null}function _i(){if(Dn!==null){var t=p0(da),e=at.transition,n=V;try{if(at.transition=null,V=16>t?16:t,Dn===null)var r=!1;else{if(t=Dn,Dn=null,da=0,B&6)throw Error(T(331));var i=B;for(B|=4,R=t.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(R=c;R!==null;){var u=R;switch(u.tag){case 0:case 11:case 15:bs(8,u,s)}var d=u.child;if(d!==null)d.return=u,R=d;else for(;R!==null;){u=R;var f=u.sibling,p=u.return;if(kv(u),u===c){R=null;break}if(f!==null){f.return=p,R=f;break}R=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,R=g;break e}R=s.return}}var m=t.current;for(R=m;R!==null;){o=R;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,R=_;else e:for(o=m;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ec(9,l)}}catch(S){le(l,l.return,S)}if(l===o){R=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,R=w;break e}R=l.return}}if(B=i,rr(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ga,t)}catch{}r=!0}return r}finally{V=n,at.transition=e}}return!1}function Lm(t,e,n){e=Ni(n,e),e=pv(t,e,1),t=Un(t,e,1),e=Le(),t!==null&&(xo(t,1,e),Ve(t,e))}function le(t,e,n){if(t.tag===3)Lm(t,t,n);else for(;e!==null;){if(e.tag===3){Lm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=Ni(n,t),t=mv(e,t,1),e=Un(e,t,1),t=Le(),e!==null&&(xo(e,1,t),Ve(e,t));break}}e=e.return}}function BS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>ue()-Gh?Er(t,0):Vh|=n),Ve(t,e)}function bv(t,e){e===0&&(t.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var n=Le();t=ln(t,e),t!==null&&(xo(t,e,n),Ve(t,n))}function HS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bv(t,n)}function VS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),bv(t,n)}var Mv;Mv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,OS(t,e,n);We=!!(t.flags&131072)}else We=!1,te&&e.flags&1048576&&W0(e,na,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nl(t,e),t=e.pendingProps;var i=ki(e,De.current);gi(e,n),i=Uh(null,e,r,t,i,n);var s=Wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(r)?(s=!0,ea(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lh(e),i.updater=Za,e.stateNode=i,i._reactInternals=e,ad(e,r,t,n),e=dd(null,e,r,!0,s,n)):(e.tag=0,te&&s&&xh(e),Oe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KS(r),t=gt(r,t),i){case 0:e=ud(null,e,r,t,n);break e;case 1:e=Im(null,e,r,t,n);break e;case 11:e=Em(null,e,r,t,n);break e;case 14:e=Sm(null,e,r,gt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),ud(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),Im(t,e,r,i,n);case 3:e:{if(yv(e),t===null)throw Error(T(387));r=e.pendingProps,s=e.memoizedState,i=s.element,G0(t,e),sa(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ni(Error(T(423)),e),e=km(t,e,r,n,i);break e}else if(r!==i){i=Ni(Error(T(424)),e),e=km(t,e,r,n,i);break e}else for(Ye=Fn(e.stateNode.containerInfo.firstChild),Xe=e,te=!0,vt=null,n=H0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ti(),r===i){e=an(t,e,n);break e}Oe(t,e,r,n)}e=e.child}return e;case 5:return K0(e),t===null&&sd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ed(r,i)?o=null:s!==null&&ed(r,s)&&(e.flags|=32),vv(t,e),Oe(t,e,o,n),e.child;case 6:return t===null&&sd(e),null;case 13:return wv(t,e,n);case 4:return bh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xi(e,null,r,n):Oe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),Em(t,e,r,i,n);case 7:return Oe(t,e,e.pendingProps,n),e.child;case 8:return Oe(t,e,e.pendingProps.children,n),e.child;case 12:return Oe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,X(ra,r._currentValue),r._currentValue=o,s!==null)if(xt(s.value,o)){if(s.children===i.children&&!Be.current){e=an(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=tn(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),od(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),od(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Oe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gi(e,n),i=ct(i),r=r(i),e.flags|=1,Oe(t,e,r,n),e.child;case 14:return r=e.type,i=gt(r,e.pendingProps),i=gt(r.type,i),Sm(t,e,r,i,n);case 15:return gv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),Nl(t,e),e.tag=1,He(r)?(t=!0,ea(e)):t=!1,gi(e,n),fv(e,r,i),ad(e,r,i,n),dd(null,e,r,!0,t,n);case 19:return Cv(t,e,n);case 22:return _v(t,e,n)}throw Error(T(156,e.tag))};function jv(t,e){return u0(t,e)}function GS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(t,e,n,r){return new GS(t,e,n,r)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KS(t){if(typeof t=="function")return Qh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mh)return 11;if(t===gh)return 14}return 2}function zn(t,e){var n=t.alternate;return n===null?(n=ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ol(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ei:return Sr(n.children,i,s,e);case ph:o=8,i|=8;break;case Ou:return t=ot(12,n,e,i|2),t.elementType=Ou,t.lanes=s,t;case Au:return t=ot(13,n,e,i),t.elementType=Au,t.lanes=s,t;case Lu:return t=ot(19,n,e,i),t.elementType=Lu,t.lanes=s,t;case K_:return nc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V_:o=10;break e;case G_:o=9;break e;case mh:o=11;break e;case gh:o=14;break e;case Sn:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ot(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Sr(t,e,n,r){return t=ot(7,t,r,e),t.lanes=n,t}function nc(t,e,n,r){return t=ot(22,t,r,e),t.elementType=K_,t.lanes=n,t.stateNode={isHidden:!1},t}function tu(t,e,n){return t=ot(6,t,null,e),t.lanes=n,t}function nu(t,e,n){return e=ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xh(t,e,n,r,i,s,o,l,a){return t=new qS(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ot(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(s),t}function YS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fv(t){if(!t)return Qn;t=t._reactInternals;e:{if(Ur(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(He(n))return F0(t,n,e)}return e}function Uv(t,e,n,r,i,s,o,l,a){return t=Xh(n,r,!0,t,i,s,o,l,a),t.context=Fv(null),n=t.current,r=Le(),i=$n(n),s=tn(r,i),s.callback=e??null,Un(n,s,i),t.current.lanes=i,xo(t,i,r),Ve(t,r),t}function rc(t,e,n,r){var i=e.current,s=Le(),o=$n(i);return n=Fv(n),e.context===null?e.context=n:e.pendingContext=n,e=tn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Un(i,e,o),t!==null&&(It(t,i,o,s),Tl(t,i,o)),o}function fa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jh(t,e){bm(t,e),(t=t.alternate)&&bm(t,e)}function QS(){return null}var Wv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zh(t){this._internalRoot=t}ic.prototype.render=Zh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));rc(t,e,null,null)};ic.prototype.unmount=Zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pr(function(){rc(null,t,null,null)}),e[on]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=_0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kn.length&&e!==0&&e<kn[n].priority;n++);kn.splice(n,0,t),n===0&&y0(t)}};function ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mm(){}function XS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fa(o);s.call(c)}}var o=Uv(e,r,t,0,null,!1,!1,"",Mm);return t._reactRootContainer=o,t[on]=o.current,Zs(t.nodeType===8?t.parentNode:t),Pr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=fa(a);l.call(c)}}var a=Xh(t,0,!1,null,null,!1,!1,"",Mm);return t._reactRootContainer=a,t[on]=a.current,Zs(t.nodeType===8?t.parentNode:t),Pr(function(){rc(e,a,n,r)}),a}function oc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=fa(o);l.call(a)}}rc(e,o,t,i)}else o=XS(n,e,t,i,r);return fa(o)}m0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Is(e.pendingLanes);n!==0&&(yh(e,n|1),Ve(e,ue()),!(B&6)&&(Ri=ue()+500,rr()))}break;case 13:Pr(function(){var r=ln(t,1);if(r!==null){var i=Le();It(r,t,1,i)}}),Jh(t,1)}};wh=function(t){if(t.tag===13){var e=ln(t,134217728);if(e!==null){var n=Le();It(e,t,134217728,n)}Jh(t,134217728)}};g0=function(t){if(t.tag===13){var e=$n(t),n=ln(t,e);if(n!==null){var r=Le();It(n,t,e,r)}Jh(t,e)}};_0=function(){return V};v0=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Hu=function(t,e,n){switch(e){case"input":if(ju(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qa(r);if(!i)throw Error(T(90));Y_(r),ju(r,i)}}}break;case"textarea":X_(t,n);break;case"select":e=n.value,e!=null&&hi(t,!!n.multiple,e,!1)}};i0=Kh;s0=Pr;var JS={usingClientEntryPoint:!1,Events:[No,ii,Qa,n0,r0,Kh]},cs={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZS={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a0(t),t===null?null:t.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||QS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ga=ul.inject(ZS),Ot=ul}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(e))throw Error(T(200));return YS(t,e,null,n)};tt.createRoot=function(t,e){if(!ef(t))throw Error(T(299));var n=!1,r="",i=Wv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xh(t,1,!1,null,null,n,!1,r,i),t[on]=e.current,Zs(t.nodeType===8?t.parentNode:t),new Zh(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=a0(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return Pr(t)};tt.hydrate=function(t,e,n){if(!sc(e))throw Error(T(200));return oc(null,t,e,!0,n)};tt.hydrateRoot=function(t,e,n){if(!ef(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Wv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Uv(e,null,t,1,n??null,i,!1,s,o),t[on]=e.current,Zs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ic(e)};tt.render=function(t,e,n){if(!sc(e))throw Error(T(200));return oc(null,t,e,!1,n)};tt.unmountComponentAtNode=function(t){if(!sc(t))throw Error(T(40));return t._reactRootContainer?(Pr(function(){oc(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1};tt.unstable_batchedUpdates=Kh;tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sc(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return oc(t,e,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function $v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($v)}catch(t){console.error(t)}}$v(),$_.exports=tt;var e3=$_.exports,zv,jm=e3;zv=jm.createRoot,jm.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(this,arguments)}var On;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(On||(On={}));const Fm="popstate";function t3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Sd("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pa(i)}return r3(e,n,null,t)}function de(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n3(){return Math.random().toString(36).substr(2,8)}function Um(t,e){return{usr:t.state,key:t.key,idx:e}}function Sd(t,e,n,r){return n===void 0&&(n=null),ao({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:n,key:e&&e.key||r||n3()})}function pa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function r3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=On.Pop,a=null,c=u();c==null&&(c=0,o.replaceState(ao({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){l=On.Pop;let C=u(),g=C==null?null:C-c;c=C,a&&a({action:l,location:y.location,delta:g})}function f(C,g){l=On.Push;let m=Sd(y.location,C,g);c=u()+1;let _=Um(m,c),w=y.createHref(m);try{o.pushState(_,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}s&&a&&a({action:l,location:y.location,delta:1})}function p(C,g){l=On.Replace;let m=Sd(y.location,C,g);c=u();let _=Um(m,c),w=y.createHref(m);o.replaceState(_,"",w),s&&a&&a({action:l,location:y.location,delta:0})}function v(C){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof C=="string"?C:pa(C);return m=m.replace(/ $/,"%20"),de(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return t(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Fm,d),a=C,()=>{i.removeEventListener(Fm,d),a=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let g=v(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(C){return o.go(C)}};return y}var Wm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wm||(Wm={}));function i3(t,e,n){return n===void 0&&(n="/"),s3(t,e,n,!1)}function s3(t,e,n,r){let i=typeof e=="string"?Hi(e):e,s=tf(i.pathname||"/",n);if(s==null)return null;let o=Hv(t);o3(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=_3(s);l=m3(o[a],c,r)}return l}function Hv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(de(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Bn([r,a.relativePath]),u=n.concat(a);s.children&&s.children.length>0&&(de(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Hv(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:f3(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Vv(s.path))i(s,o,a)}),e}function Vv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Vv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function o3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l3=/^:[\w-]+$/,a3=3,c3=2,u3=1,d3=10,h3=-2,$m=t=>t==="*";function f3(t,e){let n=t.split("/"),r=n.length;return n.some($m)&&(r+=h3),e&&(r+=c3),n.filter(i=>!$m(i)).reduce((i,s)=>i+(l3.test(s)?a3:s===""?u3:d3),r)}function p3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function m3(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=zm({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u),f=a.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=zm({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Bn([s,d.pathname]),pathnameBase:C3(Bn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Bn([s,d.pathnameBase]))}return o}function zm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[d];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function g3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hi(t):t;return{pathname:n?n.startsWith("/")?n:y3(n,e):e,search:E3(r),hash:S3(i)}}function y3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ru(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nf(t,e){let n=w3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hi(t):(i=ao({},t),de(!i.pathname||!i.pathname.includes("?"),ru("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),ru("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),ru("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=v3(i,l),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Bn=t=>t.join("/").replace(/\/\/+/g,"/"),C3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gv=["post","put","patch","delete"];new Set(Gv);const k3=["get",...Gv];new Set(k3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function co(){return co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},co.apply(this,arguments)}const sf=E.createContext(null),T3=E.createContext(null),ir=E.createContext(null),lc=E.createContext(null),pn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Kv=E.createContext(null);function x3(t,e){let{relative:n}=e===void 0?{}:e;Vi()||de(!1);let{basename:r,navigator:i}=E.useContext(ir),{hash:s,pathname:o,search:l}=Yv(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Bn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Vi(){return E.useContext(lc)!=null}function sr(){return Vi()||de(!1),E.useContext(lc).location}function qv(t){E.useContext(ir).static||E.useLayoutEffect(t)}function Do(){let{isDataRoute:t}=E.useContext(pn);return t?z3():P3()}function P3(){Vi()||de(!1);let t=E.useContext(sf),{basename:e,future:n,navigator:r}=E.useContext(ir),{matches:i}=E.useContext(pn),{pathname:s}=sr(),o=JSON.stringify(nf(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return qv(()=>{l.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=rf(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bn([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const N3=E.createContext(null);function R3(t){let e=E.useContext(pn).outlet;return e&&E.createElement(N3.Provider,{value:t},e)}function Yv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(ir),{matches:i}=E.useContext(pn),{pathname:s}=sr(),o=JSON.stringify(nf(i,r.v7_relativeSplatPath));return E.useMemo(()=>rf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function D3(t,e){return O3(t,e)}function O3(t,e,n,r){Vi()||de(!1);let{navigator:i}=E.useContext(ir),{matches:s}=E.useContext(pn),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=sr(),u;if(e){var d;let C=typeof e=="string"?Hi(e):e;a==="/"||(d=C.pathname)!=null&&d.startsWith(a)||de(!1),u=C}else u=c;let f=u.pathname||"/",p=f;if(a!=="/"){let C=a.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=i3(t,{pathname:p}),y=j3(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Bn([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Bn([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&y?E.createElement(lc.Provider,{value:{location:co({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:On.Pop}},y):y}function A3(){let t=$3(),e=I3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const L3=E.createElement(A3,null);class b3 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(pn.Provider,{value:this.props.routeContext},E.createElement(Kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M3(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(sf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(pn.Provider,{value:e},r)}function j3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);u>=0||de(!1),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,v=!1,y=null,C=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||L3,a&&(c<0&&f===0?(v=!0,C=null):c===f&&(v=!0,C=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),m=()=>{let _;return p?_=y:v?_=C:d.route.Component?_=E.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,E.createElement(M3,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(b3,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Qv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qv||{}),ma=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ma||{});function F3(t){let e=E.useContext(sf);return e||de(!1),e}function U3(t){let e=E.useContext(T3);return e||de(!1),e}function W3(t){let e=E.useContext(pn);return e||de(!1),e}function Xv(t){let e=W3(),n=e.matches[e.matches.length-1];return n.route.id||de(!1),n.route.id}function $3(){var t;let e=E.useContext(Kv),n=U3(ma.UseRouteError),r=Xv(ma.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function z3(){let{router:t}=F3(Qv.UseNavigateStable),e=Xv(ma.UseNavigateStable),n=E.useRef(!1);return qv(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,co({fromRouteId:e},s)))},[t,e])}function of(t){let{to:e,replace:n,state:r,relative:i}=t;Vi()||de(!1);let{future:s,static:o}=E.useContext(ir),{matches:l}=E.useContext(pn),{pathname:a}=sr(),c=Do(),u=rf(e,nf(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function B3(t){return R3(t.context)}function Jr(t){de(!1)}function H3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=On.Pop,navigator:s,static:o=!1,future:l}=t;Vi()&&de(!1);let a=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:s,static:o,future:co({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Hi(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,y=E.useMemo(()=>{let C=tf(u,a);return C==null?null:{location:{pathname:C,search:d,hash:f,state:p,key:v},navigationType:i}},[a,u,d,f,p,v,i]);return y==null?null:E.createElement(ir.Provider,{value:c},E.createElement(lc.Provider,{children:n,value:y}))}function V3(t){let{children:e,location:n}=t;return D3(Id(e),n)}new Promise(()=>{});function Id(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Id(r.props.children,s));return}r.type!==Jr&&de(!1),!r.props.index||!r.props.children||de(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Id(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(this,arguments)}function G3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function K3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q3(t,e){return t.button===0&&(!e||e==="_self")&&!K3(t)}const Y3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q3="6";try{window.__reactRouterVersion=Q3}catch{}const X3="startTransition",Bm=Ru[X3];function J3(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=t3({window:i,v5Compat:!0}));let o=s.current,[l,a]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=E.useCallback(d=>{c&&Bm?Bm(()=>a(d)):a(d)},[a,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.createElement(H3,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Z3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jv=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:c,preventScrollReset:u,viewTransition:d}=e,f=G3(e,Y3),{basename:p}=E.useContext(ir),v,y=!1;if(typeof c=="string"&&eI.test(c)&&(v=c,Z3))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=tf(w.pathname,p);w.origin===_.origin&&S!=null?c=S+w.search+w.hash:y=!0}catch{}let C=x3(c,{relative:i}),g=tI(c,{replace:o,state:l,target:a,preventScrollReset:u,relative:i,viewTransition:d});function m(_){r&&r(_),_.defaultPrevented||g(_)}return E.createElement("a",kd({},f,{href:v||C,onClick:y||s?r:m,ref:n,target:a}))});var Hm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hm||(Hm={}));var Vm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vm||(Vm={}));function tI(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,a=Do(),c=sr(),u=Yv(t,{relative:o});return E.useCallback(d=>{if(q3(d,n)){d.preventDefault();let f=r!==void 0?r:pa(c)===pa(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,a,u,r,i,n,t,s,o,l])}var Zv={exports:{}},ey={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=E;function nI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rI=typeof Object.is=="function"?Object.is:nI,iI=Oo.useSyncExternalStore,sI=Oo.useRef,oI=Oo.useEffect,lI=Oo.useMemo,aI=Oo.useDebugValue;ey.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=sI(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=lI(function(){function a(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,rI(u,p))return v;var y=r(p);return i!==void 0&&i(v,y)?v:(u=p,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,r,i]);var l=iI(t,s[0],s[1]);return oI(function(){o.hasValue=!0,o.value=l},[l]),aI(l),l};Zv.exports=ey;var cI=Zv.exports,Qe="default"in Ru?U_:Ru,Gm=Symbol.for("react-redux-context"),Km=typeof globalThis<"u"?globalThis:{};function uI(){if(!Qe.createContext)return{};const t=Km[Gm]??(Km[Gm]=new Map);let e=t.get(Qe.createContext);return e||(e=Qe.createContext(null),t.set(Qe.createContext,e)),e}var Xn=uI(),dI=()=>{throw new Error("uSES not initialized!")};function lf(t=Xn){return function(){return Qe.useContext(t)}}var ty=lf(),ny=dI,hI=t=>{ny=t},fI=(t,e)=>t===e;function pI(t=Xn){const e=t===Xn?ty:lf(t),n=(r,i={})=>{const{equalityFn:s=fI,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();Qe.useRef(!0);const f=Qe.useCallback({[r.name](v){return r(v)}}[r.name],[r,u,o.stabilityCheck]),p=ny(a.addNestedSub,l.getState,c||l.getState,f,s);return Qe.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var mI=pI();function gI(t){t()}function _I(){let t=null,e=null;return{clear(){t=null,e=null},notify(){gI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qm={notify(){},get:()=>[]};function vI(t,e){let n,r=qm,i=0,s=!1;function o(y){u();const C=r.subscribe(y);let g=!1;return()=>{g||(g=!0,C(),d())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){i++,n||(n=t.subscribe(a),r=_I())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qm)}function f(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return v}var yI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wI=typeof navigator<"u"&&navigator.product==="ReactNative",CI=yI||wI?Qe.useLayoutEffect:Qe.useEffect;function EI({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Qe.useMemo(()=>{const c=vI(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=Qe.useMemo(()=>t.getState(),[t]);CI(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const a=e||Xn;return Qe.createElement(a.Provider,{value:o},n)}var SI=EI;function ry(t=Xn){const e=t===Xn?ty:lf(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var II=ry();function kI(t=Xn){const e=t===Xn?II:ry(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var TI=kI();hI(cI.useSyncExternalStoreWithSelector);function Al(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Al=function(n){return typeof n}:Al=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Al(t)}function xI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NI(t,e,n){return e&&PI(t.prototype,e),t}function RI(t,e){return e&&(Al(e)==="object"||typeof e=="function")?e:Ll(t)}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Td(t)}function Ll(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xd(t,e)}function xd(t,e){return xd=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xd(t,e)}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iy=function(t){DI(e,t);function e(){var n,r;xI(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=RI(this,(n=Td(e)).call.apply(n,[this].concat(s))),bl(Ll(r),"state",{bootstrapped:!1}),bl(Ll(r),"_unsubscribe",void 0),bl(Ll(r),"handlePersistorState",function(){var l=r.props.persistor,a=l.getState(),c=a.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return NI(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(E.PureComponent);bl(iy,"defaultProps",{children:null,loading:null});function Ee(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var OI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ym=OI,iu=()=>Math.random().toString(36).substring(7).split("").join("."),AI={INIT:`@@redux/INIT${iu()}`,REPLACE:`@@redux/REPLACE${iu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iu()}`},ga=AI;function af(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cf(t,e,n){if(typeof t!="function")throw new Error(Ee(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ee(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ee(1));return n(cf)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,a=!1;function c(){o===s&&(o=new Map,s.forEach((C,g)=>{o.set(g,C)}))}function u(){if(a)throw new Error(Ee(3));return i}function d(C){if(typeof C!="function")throw new Error(Ee(4));if(a)throw new Error(Ee(5));let g=!0;c();const m=l++;return o.set(m,C),function(){if(g){if(a)throw new Error(Ee(6));g=!1,c(),o.delete(m),s=null}}}function f(C){if(!af(C))throw new Error(Ee(7));if(typeof C.type>"u")throw new Error(Ee(8));if(typeof C.type!="string")throw new Error(Ee(17));if(a)throw new Error(Ee(9));try{a=!0,i=r(i,C)}finally{a=!1}return(s=o).forEach(m=>{m()}),C}function p(C){if(typeof C!="function")throw new Error(Ee(10));r=C,f({type:ga.REPLACE})}function v(){const C=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Ee(11));function m(){const w=g;w.next&&w.next(u())}return m(),{unsubscribe:C(m)}},[Ym](){return this}}}return f({type:ga.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[Ym]:v}}function LI(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ga.INIT})>"u")throw new Error(Ee(12));if(typeof n(void 0,{type:ga.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ee(13))})}function sy(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{LI(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=o[d],v=f(p,l);if(typeof v>"u")throw l&&l.type,new Error(Ee(14));c[d]=v,a=a||v!==p}return a=a||r.length!==Object.keys(o).length,a?c:o}}function _a(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function bI(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ee(15))};const o={getState:i.getState,dispatch:(a,...c)=>s(a,...c)},l=t.map(a=>a(o));return s=_a(...l)(i.dispatch),{...i,dispatch:s}}}function MI(t){return af(t)&&"type"in t&&typeof t.type=="string"}var oy=Symbol.for("immer-nothing"),Qm=Symbol.for("immer-draftable"),Ze=Symbol.for("immer-state");function yt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Di=Object.getPrototypeOf;function Nr(t){return!!t&&!!t[Ze]}function cn(t){var e;return t?ly(t)||Array.isArray(t)||!!t[Qm]||!!((e=t.constructor)!=null&&e[Qm])||cc(t)||uc(t):!1}var jI=Object.prototype.constructor.toString();function ly(t){if(!t||typeof t!="object")return!1;const e=Di(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===jI}function va(t,e){ac(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ac(t){const e=t[Ze];return e?e.type_:Array.isArray(t)?1:cc(t)?2:uc(t)?3:0}function Pd(t,e){return ac(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ay(t,e,n){const r=ac(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function FI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cc(t){return t instanceof Map}function uc(t){return t instanceof Set}function pr(t){return t.copy_||t.base_}function Nd(t,e){if(cc(t))return new Map(t);if(uc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ly(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ze];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Di(t),r)}else{const r=Di(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function uf(t,e=!1){return dc(t)||Nr(t)||!cn(t)||(ac(t)>1&&(t.set=t.add=t.clear=t.delete=UI),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>uf(r,!0))),t}function UI(){yt(2)}function dc(t){return Object.isFrozen(t)}var WI={};function Rr(t){const e=WI[t];return e||yt(0,t),e}var uo;function cy(){return uo}function $I(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xm(t,e){e&&(Rr("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Rd(t){Dd(t),t.drafts_.forEach(zI),t.drafts_=null}function Dd(t){t===uo&&(uo=t.parent_)}function Jm(t){return uo=$I(uo,t)}function zI(t){const e=t[Ze];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Zm(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ze].modified_&&(Rd(e),yt(4)),cn(t)&&(t=ya(e,t),e.parent_||wa(e,t)),e.patches_&&Rr("Patches").generateReplacementPatches_(n[Ze].base_,t,e.patches_,e.inversePatches_)):t=ya(e,n,[]),Rd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==oy?t:void 0}function ya(t,e,n){if(dc(e))return e;const r=e[Ze];if(!r)return va(e,(i,s)=>eg(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return wa(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),va(s,(l,a)=>eg(t,r,i,l,a,n,o)),wa(t,i,!1),n&&t.patches_&&Rr("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function eg(t,e,n,r,i,s,o){if(Nr(i)){const l=s&&e&&e.type_!==3&&!Pd(e.assigned_,r)?s.concat(r):void 0,a=ya(t,i,l);if(ay(n,r,a),Nr(a))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(cn(i)&&!dc(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ya(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&wa(t,i)}}function wa(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uf(e,n)}function BI(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:cy(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=df;n&&(i=[r],s=ho);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var df={get(t,e){if(e===Ze)return t;const n=pr(t);if(!Pd(n,e))return HI(t,n,e);const r=n[e];return t.finalized_||!cn(r)?r:r===su(t.base_,e)?(ou(t),t.copy_[e]=Ad(r,t)):r},has(t,e){return e in pr(t)},ownKeys(t){return Reflect.ownKeys(pr(t))},set(t,e,n){const r=uy(pr(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=su(pr(t),e),s=i==null?void 0:i[Ze];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(FI(n,i)&&(n!==void 0||Pd(t.base_,e)))return!0;ou(t),Od(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return su(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ou(t),Od(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=pr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yt(11)},getPrototypeOf(t){return Di(t.base_)},setPrototypeOf(){yt(12)}},ho={};va(df,(t,e)=>{ho[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ho.deleteProperty=function(t,e){return ho.set.call(this,t,e,void 0)};ho.set=function(t,e,n){return df.set.call(this,t[0],e,n,t[0])};function su(t,e){const n=t[Ze];return(n?pr(n):t)[e]}function HI(t,e,n){var i;const r=uy(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function uy(t,e){if(!(e in t))return;let n=Di(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Di(n)}}function Od(t){t.modified_||(t.modified_=!0,t.parent_&&Od(t.parent_))}function ou(t){t.copy_||(t.copy_=Nd(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var VI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(a=s,...c){return o.produce(a,u=>n.call(this,u,...c))}}typeof n!="function"&&yt(6),r!==void 0&&typeof r!="function"&&yt(7);let i;if(cn(e)){const s=Jm(this),o=Ad(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?Rd(s):Dd(s)}return Xm(s,r),Zm(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===oy&&(i=void 0),this.autoFreeze_&&uf(i,!0),r){const s=[],o=[];Rr("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else yt(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,a=>e(a,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){cn(t)||yt(8),Nr(t)&&(t=GI(t));const e=Jm(this),n=Ad(t,void 0);return n[Ze].isManual_=!0,Dd(e),n}finishDraft(t,e){const n=t&&t[Ze];(!n||!n.isManual_)&&yt(9);const{scope_:r}=n;return Xm(r,e),Zm(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rr("Patches").applyPatches_;return Nr(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ad(t,e){const n=cc(t)?Rr("MapSet").proxyMap_(t,e):uc(t)?Rr("MapSet").proxySet_(t,e):BI(t,e);return(e?e.scope_:cy()).drafts_.push(n),n}function GI(t){return Nr(t)||yt(10,t),dy(t)}function dy(t){if(!cn(t)||dc(t))return t;const e=t[Ze];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Nd(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Nd(t,!0);return va(n,(r,i)=>{ay(n,r,dy(i))}),e&&(e.finalized_=!1),n}var et=new VI,hy=et.produce;et.produceWithPatches.bind(et);et.setAutoFreeze.bind(et);et.setUseStrictShallowCopy.bind(et);et.applyPatches.bind(et);et.createDraft.bind(et);et.finishDraft.bind(et);function fy(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var KI=fy(),qI=fy,YI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_a:_a.apply(null,arguments)},QI=t=>t&&typeof t.match=="function";function Fs(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Lt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>MI(r)&&r.type===t,n}var py=class Ts extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ts.prototype)}static get[Symbol.species](){return Ts}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ts(...e[0].concat(this)):new Ts(...e.concat(this))}};function tg(t){return cn(t)?hy(t,()=>{}):t}function ng(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Lt(10));const r=n.insert(e,t);return t.set(e,r),r}function XI(t){return typeof t=="boolean"}var JI=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new py;return n&&(XI(n)?o.push(KI):o.push(qI(n.extraArgument))),o},ZI="RTK_autoBatch",my=t=>e=>{setTimeout(e,t)},ek=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:my(10),tk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,a=t.type==="tick"?queueMicrotask:t.type==="raf"?ek:t.type==="callback"?t.queueNotification:my(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),f=r.subscribe(d);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[ZI]),s=!i,s&&(o||(o=!0,a(c))),r.dispatch(u)}finally{i=!0}}})},nk=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new py(t);return r&&i.push(tk(typeof r=="object"?r:void 0)),i};function rk(t){const e=JI(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(af(n))l=sy(n);else throw new Error(Lt(1));let a;typeof r=="function"?a=r(e):a=e();let c=_a;i&&(c=YI({trace:!1,...typeof i=="object"&&i}));const u=bI(...a),d=nk(u);let f=typeof o=="function"?o(d):d();const p=c(...f);return cf(l,s,p)}function gy(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Lt(28));if(l in e)throw new Error(Lt(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function ik(t){return typeof t=="function"}function sk(t,e){let[n,r,i]=gy(e),s;if(ik(t))s=()=>tg(t());else{const l=tg(t);s=()=>l}function o(l=s(),a){let c=[n[a.type],...r.filter(({matcher:u})=>u(a)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Nr(u)){const p=d(u,a);return p===void 0?u:p}else{if(cn(u))return hy(u,f=>d(f,a));{const f=d(u,a);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},l)}return o.getInitialState=s,o}var ok=(t,e)=>QI(t)?t.match(e):t(e);function lk(...t){return e=>t.some(n=>ok(n,e))}var ak="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ck=(t=21)=>{let e="",n=t;for(;n--;)e+=ak[Math.random()*64|0];return e},uk=["name","message","stack","code"],lu=class{constructor(t,e){Rc(this,"_type");this.payload=t,this.meta=e}},rg=class{constructor(t,e){Rc(this,"_type");this.payload=t,this.meta=e}},dk=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of uk)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},mn=(()=>{function t(e,n,r){const i=Fs(e+"/fulfilled",(a,c,u,d)=>({payload:a,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=Fs(e+"/pending",(a,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:a,requestStatus:"pending"}})),o=Fs(e+"/rejected",(a,c,u,d,f)=>({payload:d,error:(r&&r.serializeError||dk)(a||"Rejected"),meta:{...f||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(c,u,d)=>{const f=r!=null&&r.idGenerator?r.idGenerator(a):ck(),p=new AbortController;let v,y;function C(m){y=m,p.abort()}const g=async function(){var w,S;let m;try{let I=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,a,{getState:u,extra:d});if(fk(I)&&(I=await I),I===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((k,D)=>{v=()=>{D({name:"AbortError",message:y||"Aborted"})},p.signal.addEventListener("abort",v)});c(s(f,a,(S=r==null?void 0:r.getPendingMeta)==null?void 0:S.call(r,{requestId:f,arg:a},{getState:u,extra:d}))),m=await Promise.race([x,Promise.resolve(n(a,{dispatch:c,getState:u,extra:d,requestId:f,signal:p.signal,abort:C,rejectWithValue:(k,D)=>new lu(k,D),fulfillWithValue:(k,D)=>new rg(k,D)})).then(k=>{if(k instanceof lu)throw k;return k instanceof rg?i(k.payload,f,a,k.meta):i(k,f,a)})])}catch(I){m=I instanceof lu?o(null,f,a,I.payload,I.meta):o(I,f,a)}finally{v&&p.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||c(m),m}();return Object.assign(g,{abort:C,requestId:f,arg:a,unwrap(){return g.then(hk)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:lk(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function hk(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function fk(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var pk=Symbol.for("rtk-slice-createasyncthunk");function mk(t,e){return`${t}/${e}`}function gk({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[pk];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Lt(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(vk()):i.reducers)||{},a=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,w){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(Lt(12));if(S in c.sliceCaseReducersByType)throw new Error(Lt(13));return c.sliceCaseReducersByType[S]=w,u},addMatcher(_,w){return c.sliceMatchers.push({matcher:_,reducer:w}),u},exposeAction(_,w){return c.actionCreators[_]=w,u},exposeCaseReducer(_,w){return c.sliceCaseReducersByName[_]=w,u}};a.forEach(_=>{const w=l[_],S={reducerName:_,type:mk(s,_),createNotation:typeof i.reducers=="function"};wk(w)?Ek(S,w,u,e):yk(S,w,u)});function d(){const[_={},w=[],S=void 0]=typeof i.extraReducers=="function"?gy(i.extraReducers):[i.extraReducers],I={..._,...c.sliceCaseReducersByType};return sk(i.initialState,x=>{for(let k in I)x.addCase(k,I[k]);for(let k of c.sliceMatchers)x.addMatcher(k.matcher,k.reducer);for(let k of w)x.addMatcher(k.matcher,k.reducer);S&&x.addDefaultCase(S)})}const f=_=>_,p=new Map;let v;function y(_,w){return v||(v=d()),v(_,w)}function C(){return v||(v=d()),v.getInitialState()}function g(_,w=!1){function S(x){let k=x[_];return typeof k>"u"&&w&&(k=C()),k}function I(x=f){const k=ng(p,w,{insert:()=>new WeakMap});return ng(k,x,{insert:()=>{const D={};for(const[O,j]of Object.entries(i.selectors??{}))D[O]=_k(j,x,C,w);return D}})}return{reducerPath:_,getSelectors:I,get selectors(){return I(S)},selectSlice:S}}const m={name:s,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,...g(o),injectInto(_,{reducerPath:w,...S}={}){const I=w??o;return _.inject({reducerPath:I,reducer:y},S),{...m,...g(I,!0)}}};return m}}function _k(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var hf=gk();function vk(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function yk({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Ck(r))throw new Error(Lt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Fs(t,o):Fs(t))}function wk(t){return t._reducerDefinitionType==="asyncThunk"}function Ck(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ek({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Lt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),l&&r.addCase(d.pending,l),a&&r.addCase(d.rejected,a),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||dl,pending:l||dl,rejected:a||dl,settled:c||dl})}function dl(){}function Lt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ff="persist:",pf="persist/FLUSH",hc="persist/REHYDRATE",mf="persist/PAUSE",gf="persist/PERSIST",_f="persist/PURGE",vf="persist/REGISTER",Sk=-1;function Ml(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ml=function(n){return typeof n}:Ml=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ml(t)}function ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ig(n,!0).forEach(function(r){kk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ig(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tk(t,e,n,r){r.debug;var i=Ik({},n);return t&&Ml(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function xk(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:ff).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(S){return S}:typeof t.serialize=="function"?l=t.serialize:l=Pk;var a=t.writeFailHandler||null,c={},u={},d=[],f=null,p=null,v=function(S){Object.keys(S).forEach(function(I){g(I)&&c[I]!==S[I]&&d.indexOf(I)===-1&&d.push(I)}),Object.keys(c).forEach(function(I){S[I]===void 0&&g(I)&&d.indexOf(I)===-1&&c[I]!==void 0&&d.push(I)}),f===null&&(f=setInterval(y,i)),c=S};function y(){if(d.length===0){f&&clearInterval(f),f=null;return}var w=d.shift(),S=r.reduce(function(I,x){return x.in(I,w,c)},c[w]);if(S!==void 0)try{u[w]=l(S)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete u[w];d.length===0&&C()}function C(){Object.keys(u).forEach(function(w){c[w]===void 0&&delete u[w]}),p=o.setItem(s,l(u)).catch(m)}function g(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function m(w){a&&a(w)}var _=function(){for(;d.length!==0;)y();return p||Promise.resolve()};return{update:v,flush:_}}function Pk(t){return JSON.stringify(t)}function Nk(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:ff).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Rk,r.getItem(n).then(function(s){if(s)try{var o={},l=i(s);return Object.keys(l).forEach(function(a){o[a]=e.reduceRight(function(c,u){return u.out(c,a,l)},i(l[a]))}),o}catch(a){throw a}else return})}function Rk(t){return JSON.parse(t)}function Dk(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:ff).concat(t.key);return e.removeItem(n,Ok)}function Ok(t){}function sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sg(n,!0).forEach(function(r){Ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sg(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ak(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lk(t,e){if(t==null)return{};var n=bk(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Mk=5e3;function jk(t,e){var n=t.version!==void 0?t.version:Sk;t.debug;var r=t.stateReconciler===void 0?Tk:t.stateReconciler,i=t.getStoredState||Nk,s=t.timeout!==void 0?t.timeout:Mk,o=null,l=!1,a=!0,c=function(d){return d._persist.rehydrated&&o&&!a&&o.update(d),d};return function(u,d){var f=u||{},p=f._persist,v=Lk(f,["_persist"]),y=v;if(d.type===gf){var C=!1,g=function(k,D){C||(d.rehydrate(t.key,k,D),C=!0)};if(s&&setTimeout(function(){!C&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),a=!1,o||(o=xk(t)),p)return Bt({},e(y,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(x){var k=t.migrate||function(D,O){return Promise.resolve(D)};k(x,n).then(function(D){g(D)},function(D){g(void 0,D)})},function(x){g(void 0,x)}),Bt({},e(y,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===_f)return l=!0,d.result(Dk(t)),Bt({},e(y,d),{_persist:p});if(d.type===pf)return d.result(o&&o.flush()),Bt({},e(y,d),{_persist:p});if(d.type===mf)a=!0;else if(d.type===hc){if(l)return Bt({},y,{_persist:Bt({},p,{rehydrated:!0})});if(d.key===t.key){var m=e(y,d),_=d.payload,w=r!==!1&&_!==void 0?r(_,u,m,t):m,S=Bt({},w,{_persist:Bt({},p,{rehydrated:!0})});return c(S)}}}if(!p)return e(u,d);var I=e(y,d);return I===y?u:c(Bt({},I,{_persist:p}))}}function og(t){return Wk(t)||Uk(t)||Fk()}function Fk(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Uk(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function Wk(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lg(n,!0).forEach(function(r){$k(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lg(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _y={registry:[],bootstrapped:!1},zk=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case vf:return Ld({},e,{registry:[].concat(og(e.registry),[n.key])});case hc:var r=e.registry.indexOf(n.key),i=og(e.registry);return i.splice(r,1),Ld({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function Bk(t,e,n){var r=cf(zk,_y,void 0),i=function(a){r.dispatch({type:vf,key:a})},s=function(a,c,u){var d={type:hc,payload:c,err:u,key:a};t.dispatch(d),r.dispatch(d)},o=Ld({},r,{purge:function(){var a=[];return t.dispatch({type:_f,result:function(u){a.push(u)}}),Promise.all(a)},flush:function(){var a=[];return t.dispatch({type:pf,result:function(u){a.push(u)}}),Promise.all(a)},pause:function(){t.dispatch({type:mf})},persist:function(){t.dispatch({type:gf,register:i,rehydrate:s})}});return o.persist(),o}var yf={},wf={};wf.__esModule=!0;wf.default=Gk;function jl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jl=function(n){return typeof n}:jl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jl(t)}function au(){}var Hk={getItem:au,setItem:au,removeItem:au};function Vk(t){if((typeof self>"u"?"undefined":jl(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Gk(t){var e="".concat(t,"Storage");return Vk(e)?self[e]:Hk}yf.__esModule=!0;yf.default=Yk;var Kk=qk(wf);function qk(t){return t&&t.__esModule?t:{default:t}}function Yk(t){var e=(0,Kk.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var vy=void 0,Qk=Xk(yf);function Xk(t){return t&&t.__esModule?t:{default:t}}var Jk=(0,Qk.default)("local");vy=Jk;const bd=t=>{const e=new Date(t),n=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear();return`${n}/${r}/${i}`},ag=t=>{const[e,n,r]=t.split("/").map(Number),i=new Date(r,n-1,e),s={weekday:"long",month:"long",day:"numeric",year:"numeric"};return i.toLocaleDateString("en-US",s)},$e=t=>{const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${e}/${n}/${r}`},Zk=t=>{const[e,n,r]=t.split("/").map(Number),i=new Date(r,n-1,e);return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString()},eT=t=>{const[e,n,r]=t.split("/").map(Number);return new Date(r,n-1,e)},tT=(t,e,n)=>{const[r,i,s]=n.split("/").map(Number),o=new Date(s,i-1,r);new Date().setHours(0,0,0,0);for(let a=new Date(t);a<=e;a.setDate(a.getDate()+1))if(a.setHours(0,0,0,0),a.getDate()===o.getDate()&&$e(a)!==$e(o))return $e(a)},nT=t=>{const e=new Date(t);e.setDate(e.getDate()-e.getDay());const n=[];for(let r=0;r<7;r+=1){const i=new Date(e);i.setDate(e.getDate()+r),n.push(i)}return n},Cf=(t,e)=>{let n=[];const r=eT(t);for(;r<=e;)n.push($e(new Date(r))),r.setDate(r.getDate()+1);return n.length>7&&(n=n.slice(-7)),n},rT=t=>{const[e,n]=t.split("/").map(Number);return e===2&&n===11},iT=t=>{const[e,n,r]=t.split("/").map(Number);return new Date(r,n-1,e).getDay()===4},cg=[{title:"Week",value:"/"},{title:"Day",value:"/day"}],sT=["January","February","March","April","May","June","July","August","September","October","November","December"],Ef=new Date,yy=24*60,Md=1*yy*60*1e3,ug=7*Md,An=t=>{const[e,n]=t.split(":").map(Number);return e*60+n},oT=(t,e)=>{const n=vi.filter(i=>i.value===t)[0],r=vi.filter(i=>i.value===e)[0];return{from:n,to:r}},lT=(t,e)=>{const[n,r]=t.split(":").map(Number),[i,s]=e.split(":").map(Number);return n>i||n===i&&r>s?t:i>n||n===i&&s>r?e:t},Ca=["1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12 pm","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm","12 am"],vi=[{title:"12:00 am",value:"00:00"},{title:"12:15 am",value:"00:15"},{title:"12:30 am",value:"00:30"},{title:"12:45 am",value:"00:45"},{title:"1:00 am",value:"01:00"},{title:"1:15 am",value:"01:15"},{title:"1:30 am",value:"01:30"},{title:"1:45 am",value:"01:45"},{title:"2:00 am",value:"02:00"},{title:"2:15 am",value:"02:15"},{title:"2:30 am",value:"02:30"},{title:"2:45 am",value:"02:45"},{title:"3:00 am",value:"03:00"},{title:"3:15 am",value:"03:15"},{title:"3:30 am",value:"03:30"},{title:"3:45 am",value:"03:45"},{title:"4:00 am",value:"04:00"},{title:"4:15 am",value:"04:15"},{title:"4:30 am",value:"04:30"},{title:"4:45 am",value:"04:45"},{title:"5:00 am",value:"05:00"},{title:"5:15 am",value:"05:15"},{title:"5:30 am",value:"05:30"},{title:"5:45 am",value:"05:45"},{title:"6:00 am",value:"06:00"},{title:"6:15 am",value:"06:15"},{title:"6:30 am",value:"06:30"},{title:"6:45 am",value:"06:45"},{title:"7:00 am",value:"07:00"},{title:"7:15 am",value:"07:15"},{title:"7:30 am",value:"07:30"},{title:"7:45 am",value:"07:45"},{title:"8:00 am",value:"08:00"},{title:"8:15 am",value:"08:15"},{title:"8:30 am",value:"08:30"},{title:"8:45 am",value:"08:45"},{title:"9:00 am",value:"09:00"},{title:"9:15 am",value:"09:15"},{title:"9:30 am",value:"09:30"},{title:"9:45 am",value:"09:45"},{title:"10:00 am",value:"10:00"},{title:"10:15 am",value:"10:15"},{title:"10:30 am",value:"10:30"},{title:"10:45 am",value:"10:45"},{title:"11:00 am",value:"11:00"},{title:"11:15 am",value:"11:15"},{title:"11:30 am",value:"11:30"},{title:"11:45 am",value:"11:45"},{title:"12:00 pm",value:"12:00"},{title:"12:15 pm",value:"12:15"},{title:"12:30 pm",value:"12:30"},{title:"12:45 pm",value:"12:45"},{title:"1:00 pm",value:"13:00"},{title:"1:15 pm",value:"13:15"},{title:"1:30 pm",value:"13:30"},{title:"1:45 pm",value:"13:45"},{title:"2:00 pm",value:"14:00"},{title:"2:15 pm",value:"14:15"},{title:"2:30 pm",value:"14:30"},{title:"2:45 pm",value:"14:45"},{title:"3:00 pm",value:"15:00"},{title:"3:15 pm",value:"15:15"},{title:"3:30 pm",value:"15:30"},{title:"3:45 pm",value:"15:45"},{title:"4:00 pm",value:"16:00"},{title:"4:15 pm",value:"16:15"},{title:"4:30 pm",value:"16:30"},{title:"4:45 pm",value:"16:45"},{title:"5:00 pm",value:"17:00"},{title:"5:15 pm",value:"17:15"},{title:"5:30 pm",value:"17:30"},{title:"5:45 pm",value:"17:45"},{title:"6:00 pm",value:"18:00"},{title:"6:15 pm",value:"18:15"},{title:"6:30 pm",value:"18:30"},{title:"6:45 pm",value:"18:45"},{title:"7:00 pm",value:"19:00"},{title:"7:15 pm",value:"19:15"},{title:"7:30 pm",value:"19:30"},{title:"7:45 pm",value:"19:45"},{title:"8:00 pm",value:"20:00"},{title:"8:15 pm",value:"20:15"},{title:"8:30 pm",value:"20:30"},{title:"8:45 pm",value:"20:45"},{title:"9:00 pm",value:"21:00"},{title:"9:15 pm",value:"21:15"},{title:"9:30 pm",value:"21:30"},{title:"9:45 pm",value:"21:45"},{title:"10:00 pm",value:"22:00"},{title:"10:15 pm",value:"22:15"},{title:"10:30 pm",value:"22:30"},{title:"10:45 pm",value:"22:45"},{title:"11:00 pm",value:"23:00"},{title:"11:15 pm",value:"23:15"},{title:"11:30 pm",value:"23:30"},{title:"11:45 pm",value:"23:45"}],Fl=[{title:"Does not repeat",value:"not-repeat"},{title:"Daily",value:"daily"},{title:"Weekly on Thursday",value:"weekly-thursday"},{title:"Monthly",value:"monthly"},{title:"Annually on November 2",value:"annually-02-11"}],aT=(t,e=.75)=>{t=t.replace(/^#/,"");const n=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),i=parseInt(t.slice(4,6),16);return e>=0&&e<=1?`rgba(${n}, ${r}, ${i}, ${e})`:`rgb(${n}, ${r}, ${i})`},cT=t=>{let e=[];for(let n=0;n<t.length;n+=1){const r=t[n].events.map(i=>({...i,calendarColor:t[n].colour}));e=e.concat(r)}return e};var hl,uT=new Uint8Array(16);function dT(){if(!hl&&(hl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hl(uT)}const hT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fT(t){return typeof t=="string"&&hT.test(t)}var Ce=[];for(var cu=0;cu<256;++cu)Ce.push((cu+256).toString(16).substr(1));function pT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ce[t[e+0]]+Ce[t[e+1]]+Ce[t[e+2]]+Ce[t[e+3]]+"-"+Ce[t[e+4]]+Ce[t[e+5]]+"-"+Ce[t[e+6]]+Ce[t[e+7]]+"-"+Ce[t[e+8]]+Ce[t[e+9]]+"-"+Ce[t[e+10]]+Ce[t[e+11]]+Ce[t[e+12]]+Ce[t[e+13]]+Ce[t[e+14]]+Ce[t[e+15]]).toLowerCase();if(!fT(n))throw TypeError("Stringified UUID is invalid");return n}function Dr(t,e,n){t=t||{};var r=t.random||(t.rng||dT)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pT(r)}const mT={isVisible:!0,colour:"#52616b",title:"Calendar 1",id:Dr(),events:[]},gT={id:Dr(),title:"Initial event",description:"Initial event",date:"07/11/2024",isAllDay:!1,time:{from:{title:"12:30 am",value:"00:30"},to:{title:"3:00 am",value:"03:00"}},reccurence:{title:"Does not repeat",value:"not-repeat"}};var dg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw Gi(e)},Gi=function(t){return new Error("Firebase Database ("+wy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_T=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|c>>6,p=c&63;a||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_T(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||d==null)throw new vT;const f=s<<2|l>>4;if(r.push(f),c!==64){const p=l<<4&240|c>>2;if(r.push(p),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ey=function(t){const e=Cy(t);return Sf.encodeByteArray(e,!0)},Ea=function(t){return Ey(t).replace(/\./g,"")},Sa=function(t){try{return Sf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){return Sy(void 0,t)}function Sy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wT(n)||(t[n]=Sy(t[n],e[n]));return t}function wT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=()=>CT().__FIREBASE_DEFAULTS__,ST=()=>{if(typeof process>"u"||typeof dg>"u")return;const t=dg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sa(t[1]);return e&&JSON.parse(e)},If=()=>{try{return ET()||ST()||IT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iy=t=>{var e,n;return(n=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kT=t=>{const e=Iy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ky=()=>{var t;return(t=If())===null||t===void 0?void 0:t.config},Ty=t=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function xT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NT(){const t=Me();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Py(){return wy.NODE_ADMIN===!0}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AT(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new or(i,l,r)}}function AT(t,e){return t.replace(LT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){return JSON.parse(t)}function me(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fo(Sa(s[0])||""),n=fo(Sa(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},bT=function(t){const e=Ny(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MT=function(t){const e=Ny(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(hg(s)&&hg(o)){if(!ka(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ps(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=l^s&(o^l),u=1518500249):(c=s^o^l,u=1859775393):d<60?(c=s&o|l&(s|o),u=2400959708):(c=s^o^l,u=3395469782);const f=(i<<5|i>>>27)+c+a+u+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function FT(t,e){const n=new UT(t,e);return n.subscribe.bind(n)}class UT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uu),i.error===void 0&&(i.error=uu),i.complete===void 0&&(i.complete=uu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uu(){}function fc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ao;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BT(t){return t===mr?void 0:t}function HT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(G||(G={}));const GT={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},KT=G.INFO,qT={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},YT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=KT,this._logHandler=YT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const QT=(t,e)=>e.some(n=>t instanceof n);let fg,pg;function XT(){return fg||(fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ry=new WeakMap,Fd=new WeakMap,Dy=new WeakMap,du=new WeakMap,xf=new WeakMap;function ZT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ry.set(n,t)}).catch(()=>{}),xf.set(e,t),e}function ex(t){if(Fd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fd.set(t,e)}let Ud={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tx(t){Ud=t(Ud)}function nx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hu(this),e,...n);return Dy.set(r,e.sort?e.sort():[e]),Hn(r)}:JT().includes(t)?function(...e){return t.apply(hu(this),e),Hn(Ry.get(this))}:function(...e){return Hn(t.apply(hu(this),e))}}function rx(t){return typeof t=="function"?nx(t):(t instanceof IDBTransaction&&ex(t),QT(t,XT())?new Proxy(t,Ud):t)}function Hn(t){if(t instanceof IDBRequest)return ZT(t);if(du.has(t))return du.get(t);const e=rx(t);return e!==t&&(du.set(t,e),xf.set(e,t)),e}const hu=t=>xf.get(t);function ix(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Hn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Hn(o.result),a.oldVersion,a.newVersion,Hn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const sx=["get","getKey","getAll","getAllKeys","count"],ox=["put","add","delete","clear"],fu=new Map;function mg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fu.get(e))return fu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ox.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sx.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return fu.set(e,s),s}tx(t=>({...t,get:(e,n,r)=>mg(e,n)||t.get(e,n,r),has:(e,n)=>!!mg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ax(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ax(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",gg="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Tf("@firebase/app"),cx="@firebase/app-compat",ux="@firebase/analytics-compat",dx="@firebase/analytics",hx="@firebase/app-check-compat",fx="@firebase/app-check",px="@firebase/auth",mx="@firebase/auth-compat",gx="@firebase/database",_x="@firebase/data-connect",vx="@firebase/database-compat",yx="@firebase/functions",wx="@firebase/functions-compat",Cx="@firebase/installations",Ex="@firebase/installations-compat",Sx="@firebase/messaging",Ix="@firebase/messaging-compat",kx="@firebase/performance",Tx="@firebase/performance-compat",xx="@firebase/remote-config",Px="@firebase/remote-config-compat",Nx="@firebase/storage",Rx="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/vertexai",Ax="@firebase/firestore-compat",Lx="firebase",bx="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",Mx={[Wd]:"fire-core",[cx]:"fire-core-compat",[dx]:"fire-analytics",[ux]:"fire-analytics-compat",[fx]:"fire-app-check",[hx]:"fire-app-check-compat",[px]:"fire-auth",[mx]:"fire-auth-compat",[gx]:"fire-rtdb",[_x]:"fire-data-connect",[vx]:"fire-rtdb-compat",[yx]:"fire-fn",[wx]:"fire-fn-compat",[Cx]:"fire-iid",[Ex]:"fire-iid-compat",[Sx]:"fire-fcm",[Ix]:"fire-fcm-compat",[kx]:"fire-perf",[Tx]:"fire-perf-compat",[xx]:"fire-rc",[Px]:"fire-rc-compat",[Nx]:"fire-gcs",[Rx]:"fire-gcs-compat",[Dx]:"fire-fst",[Ax]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[Lx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Map,jx=new Map,zd=new Map;function _g(t,e){try{t.container.addComponent(e)}catch(n){un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ai(t){const e=t.name;if(zd.has(e))return un.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,t);for(const n of Ta.values())_g(n,t);for(const n of jx.values())_g(n,t);return!0}function Pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ct(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vn=new Lo("app","Firebase",Fx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=bx;function Oy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$d,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=ky()),!n)throw Vn.create("no-options");const s=Ta.get(i);if(s){if(ka(n,s.options)&&ka(r,s.config))return s;throw Vn.create("duplicate-app",{appName:i})}const o=new VT(i);for(const a of zd.values())o.addComponent(a);const l=new Ux(n,r,o);return Ta.set(i,l),l}function Ay(t=$d){const e=Ta.get(t);if(!e&&t===$d&&ky())return Oy();if(!e)throw Vn.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let i=(r=Mx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),un.warn(l.join(" "));return}Ai(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebase-heartbeat-database",$x=1,po="firebase-heartbeat-store";let pu=null;function Ly(){return pu||(pu=ix(Wx,$x,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(po)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vn.create("idb-open",{originalErrorMessage:t.message})})),pu}async function zx(t){try{const n=(await Ly()).transaction(po),r=await n.objectStore(po).get(by(t));return await n.done,r}catch(e){if(e instanceof or)un.warn(e.message);else{const n=Vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});un.warn(n.message)}}}async function vg(t,e){try{const r=(await Ly()).transaction(po,"readwrite");await r.objectStore(po).put(e,by(t)),await r.done}catch(n){if(n instanceof or)un.warn(n.message);else{const r=Vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});un.warn(r.message)}}}function by(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1024,Hx=30*24*60*60*1e3;class Vx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Hx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){un.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yg(),{heartbeatsToSend:r,unsentEntries:i}=Gx(this._heartbeatsCache.heartbeats),s=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return un.warn(n),""}}}function yg(){return new Date().toISOString().substring(0,10)}function Gx(t,e=Bx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wg(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){Ai(new Or("platform-logger",e=>new lx(e),"PRIVATE")),Ai(new Or("heartbeat",e=>new Vx(e),"PRIVATE")),Gn(Wd,gg,t),Gn(Wd,gg,"esm2017"),Gn("fire-js","")}qx("");var Cg={};const Eg="@firebase/database",Sg="1.0.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My="";function Yx(t){My=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),me(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qx(e)}}catch{}return new Xx},wr=jy("localStorage"),Jx=jy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Tf("@firebase/database"),Zx=function(){let t=1;return function(){return t++}}(),Fy=function(t){const e=$T(t),n=new jT;n.update(e);const r=n.digest();return Sf.encodeByteArray(r)},bo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=bo.apply(null,r):typeof r=="object"?e+=me(r):e+=r,e+=" "}return e};let Us=null,Ig=!0;const e2=function(t,e){P(!e,"Can't turn on custom loggers persistently."),yi.logLevel=G.VERBOSE,Us=yi.log.bind(yi)},Ie=function(...t){if(Ig===!0&&(Ig=!1,Us===null&&Jx.get("logging_enabled")===!0&&e2()),Us){const e=bo.apply(null,t);Us(e)}},Mo=function(t){return function(...e){Ie(t,...e)}},Bd=function(...t){const e="FIREBASE INTERNAL ERROR: "+bo(...t);yi.error(e)},dn=function(...t){const e=`FIREBASE FATAL ERROR: ${bo(...t)}`;throw yi.error(e),new Error(e)},be=function(...t){const e="FIREBASE WARNING: "+bo(...t);yi.warn(e)},t2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},n2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Li="[MIN_NAME]",Ar="[MAX_NAME]",Wr=function(t,e){if(t===e)return 0;if(t===Li||e===Ar)return-1;if(e===Li||t===Ar)return 1;{const n=kg(t),r=kg(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},r2=function(t,e){return t===e?0:t<e?-1:1},us=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+me(e))},Rf=function(t){if(typeof t!="object"||t===null)return me(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=me(e[r]),n+=":",n+=Rf(t[e[r]]);return n+="}",n},Uy=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wy=function(t){P(!Nf(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(u.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},i2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},s2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function o2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const l2=new RegExp("^-?(0*)\\d{1,10}$"),a2=-2147483648,c2=2147483647,kg=function(t){if(l2.test(t)){const e=Number(t);if(e>=a2&&e<=c2)return e}return null},Yi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw be("Exception was thrown by user callback.",n),e},Math.floor(0))}},u2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ws=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){be(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ie("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',be(e)}}class Ul{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ul.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="5",$y="v",zy="s",By="r",Hy="f",Vy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gy="ls",Ky="p",Hd="ac",qy="websocket",Yy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function f2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Xy(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===qy)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Yy)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);f2(t)&&(n.ns=t.namespace);const i=[];return xe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.counters_={}}incrementCounter(e,n=1){Wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={},gu={};function Of(t){const e=t.toString();return mu[e]||(mu[e]=new p2),mu[e]}function m2(t,e){const n=t.toString();return gu[n]||(gu[n]=e()),gu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Yi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="start",_2="close",v2="pLPCommand",y2="pRTLPCB",Jy="id",Zy="pw",e1="ser",w2="cb",C2="seg",E2="ts",S2="d",I2="dframe",t1=1870,n1=30,k2=t1-n1,T2=25e3,x2=3e4;class di{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mo(e),this.stats_=Of(n),this.urlFn=a=>(this.appCheckToken&&(a[Hd]=this.appCheckToken),Xy(n,Yy,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new g2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(x2)),n2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Af((...s)=>{const[o,l,a,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Tg)this.id=l,this.password=a;else if(o===_2)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Tg]="t",r[e1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[w2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$y]=Df,this.transportSessionId&&(r[zy]=this.transportSessionId),this.lastSessionId&&(r[Gy]=this.lastSessionId),this.applicationId&&(r[Ky]=this.applicationId),this.appCheckToken&&(r[Hd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Vy.test(location.hostname)&&(r[By]=Hy);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){di.forceAllow_=!0}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){return di.forceAllow_?!0:!di.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!i2()&&!s2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ey(n),i=Uy(r,k2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[I2]="t",r[Jy]=e,r[Zy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=me(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Af{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Zx(),window[v2+this.uniqueCallbackIdentifier]=e,window[y2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Af.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ie("frame writing exception"),l.stack&&Ie(l.stack),Ie(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ie("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Jy]=this.myID,e[Zy]=this.myPW,e[e1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+n1+r.length<=t1;){const o=this.pendingSegs.shift();r=r+"&"+C2+i+"="+o.seg+"&"+E2+i+"="+o.ts+"&"+S2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(T2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ie("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=16384,N2=45e3;let xa=null;typeof MozWebSocket<"u"?xa=MozWebSocket:typeof WebSocket<"u"&&(xa=WebSocket);class wt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mo(this.connId),this.stats_=Of(n),this.connURL=wt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[$y]=Df,typeof location<"u"&&location.hostname&&Vy.test(location.hostname)&&(o[By]=Hy),n&&(o[zy]=n),r&&(o[Gy]=r),i&&(o[Hd]=i),s&&(o[Ky]=s),Xy(e,qy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wr.set("previous_websocket_failure",!0);try{let r;Py(),this.mySock=new xa(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xa!==null&&!wt.forceDisallow_}static previouslyFailed(){return wr.isInMemoryStorage||wr.get("previous_websocket_failure")===!0}markConnectionHealthy(){wr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Uy(n,P2);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(N2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wt.responsesRequiredToBeHealthy=2;wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[di,wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wt&&wt.isAvailable();let r=n&&!wt.previouslyFailed();if(e.webSocketOnly&&(n||be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wt];else{const i=this.transports_=[];for(const s of mo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);mo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=6e4,D2=5e3,O2=10*1024,A2=100*1024,_u="t",xg="d",L2="s",Pg="r",b2="e",Ng="o",Rg="a",Dg="n",Og="p",M2="h";class j2{constructor(e,n,r,i,s,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mo("c:"+this.id+":"),this.transportManager_=new mo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ws(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>A2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>O2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_u in e){const n=e[_u];n===Rg?this.upgradeIfSecondaryHealthy_():n===Pg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ng&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=us("t",e),r=us("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Og,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Rg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=us("t",e),r=us("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=us(_u,e);if(xg in e){const r=e[xg];if(n===M2){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Dg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===L2?this.onConnectionShutdown_(r):n===Pg?this.onReset_(r):n===b2?Bd("Server Error: "+r):n===Ng?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Df!==r&&be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ws(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(R2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ws(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(D2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Og,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends i1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pa}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=32,Lg=768;class K{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function H(){return new K("")}function z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jn(t){return t.pieces_.length-t.pieceNum_}function Q(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new K(t.pieces_,e)}function Lf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function F2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function go(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function s1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new K(e,0)}function ae(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof K)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new K(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function Ae(t,e){const n=z(t),r=z(e);if(n===null)return e;if(n===r)return Ae(Q(t),Q(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function U2(t,e){const n=go(t,0),r=go(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Wr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function o1(t,e){if(Jn(t)!==Jn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Jn(t)>Jn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class W2{constructor(e,n){this.errorPrefix_=n,this.parts_=go(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pc(this.parts_[r]);l1(this)}}function $2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pc(e),l1(t)}function z2(t){const e=t.parts_.pop();t.byteLength_-=pc(e),t.parts_.length>0&&(t.byteLength_-=1)}function l1(t){if(t.byteLength_>Lg)throw new Error(t.errorPrefix_+"has a key path longer than "+Lg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ag)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ag+") or object contains a cycle "+gr(t))}function gr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends i1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new bf}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=1e3,B2=60*5*1e3,bg=30*1e3,H2=1.3,V2=3e4,G2="server_kill",Mg=3;class nn extends r1{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=nn.nextPersistentConnectionId_++,this.log_=Mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ds,this.maxReconnectDelay_=B2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Py())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(me(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ao,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,c=l.s;nn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wt(e,"w")){const r=Oi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=bT(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+me(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Bd("Unrecognized action received from server: "+me(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>V2&&(this.reconnectDelay_=ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*H2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+nn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(d){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ie("getToken() completed but was canceled"):(Ie("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new j2(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{be(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(G2)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&be(d),a())}}}interrupt(e){Ie("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ie("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jd(this.interruptReasons_)&&(this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Rf(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new K(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ie("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Mg&&(this.reconnectDelay_=bg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ie("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Mg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+My.replace(/\./g,"-")]=1,kf()?e["framework.cordova"]=1:xy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pa.getInstance().currentlyOnline();return jd(this.interruptReasons_)&&e}}nn.nextPersistentConnectionId_=0;nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new F(Li,e),i=new F(Li,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class a1 extends mc{static get __EMPTY_NODE(){return fl}static set __EMPTY_NODE(e){fl=e}compare(e,n){return Wr(e.name,n.name)}isDefinedOn(e){throw Gi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(Ar,fl)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,fl)}toString(){return".key"}}const wi=new a1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ye.RED,this.left=i??ze.EMPTY_NODE,this.right=s??ze.EMPTY_NODE}copy(e,n,r,i,s){return new ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ze.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ye.RED=!0;ye.BLACK=!1;class K2{copy(e,n,r,i,s){return this}insert(e,n,r){return new ye(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ze{constructor(e,n=ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ye.BLACK,null,null))}remove(e){return new ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ye.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new pl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new pl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new pl(this.root_,null,this.comparator_,!0,e)}}ze.EMPTY_NODE=new K2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e){return Wr(t.name,e.name)}function Mf(t,e){return Wr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;function Y2(t){Vd=t}const c1=function(t){return typeof t=="number"?"number:"+Wy(t):"string:"+t},u1=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wt(e,".sv"),"Priority must be a string or number.")}else P(t===Vd||t.isEmpty(),"priority of unexpected type.");P(t===Vd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg;class _e{constructor(e,n=_e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),u1(this.priorityNode_)}static set __childrenNodeConstructor(e){jg=e}static get __childrenNodeConstructor(){return jg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:_e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return U(e)?this:z(e)===".priority"?this.priorityNode_:_e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:_e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||Jn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,_e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Q(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+c1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wy(this.value_):e+=this.value_,this.lazyHash_=Fy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _e.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=_e.VALUE_TYPE_ORDER.indexOf(n),s=_e.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1,h1;function Q2(t){d1=t}function X2(t){h1=t}class J2 extends mc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Wr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(Ar,new _e("[PRIORITY-POST]",h1))}makePost(e,n){const r=d1(e);return new F(n,new _e("[PRIORITY-POST]",r))}toString(){return".priority"}}const ce=new J2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=Math.log(2);class eP{constructor(e){const n=s=>parseInt(Math.log(s)/Z2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Na=function(t,e,n,r){t.sort(e);const i=function(a,c){const u=c-a;let d,f;if(u===0)return null;if(u===1)return d=t[a],f=n?n(d):d,new ye(f,d.node,ye.BLACK,null,null);{const p=parseInt(u/2,10)+a,v=i(a,p),y=i(p+1,c);return d=t[p],f=n?n(d):d,new ye(f,d.node,ye.BLACK,v,y)}},s=function(a){let c=null,u=null,d=t.length;const f=function(v,y){const C=d-v,g=d;d-=v;const m=i(C+1,g),_=t[C],w=n?n(_):_;p(new ye(w,_.node,y,null,m))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),C=Math.pow(2,a.count-(v+1));y?f(C,ye.BLACK):(f(C,ye.BLACK),f(C,ye.RED))}return u},o=new eP(t.length),l=s(o);return new ze(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu;const Kr={};class Xt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(Kr&&ce,"ChildrenNode.ts has not been loaded"),vu=vu||new Xt({".priority":Kr},{".priority":ce}),vu}get(e){const n=Oi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ze?n:null}hasIndex(e){return Wt(this.indexSet_,e.toString())}addIndex(e,n){P(e!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(F.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Na(r,e.getCompare()):l=Kr;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new Xt(u,c)}addToIndexes(e,n){const r=Ia(this.indexes_,(i,s)=>{const o=Oi(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Kr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Na(l,o.getCompare())}else return Kr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new Xt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ia(this.indexes_,i=>{if(i===Kr)return i;{const s=n.get(e.name);return s?i.remove(new F(e.name,s)):i}});return new Xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs;class A{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&u1(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hs||(hs=new A(new ze(Mf),null,Xt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hs}updatePriority(e){return this.children_.isEmpty()?this:new A(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hs:n}}getChild(e){const n=z(e);return n===null?this:this.getImmediateChild(n).getChild(Q(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new F(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?hs:this.priorityNode_;return new A(i,o,s)}}updateChild(e,n){const r=z(e);if(r===null)return n;{P(z(e)!==".priority"||Jn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Q(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ce,(o,l)=>{n[o]=l.val(e),r++,s&&A.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+c1(this.getPriority().val())+":"),this.forEachChild(ce,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Fy(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new F(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jo?-1:0}withIndex(e){if(e===wi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new A(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ce),i=n.getIterator(ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wi?null:this.indexMap_.get(e.toString())}}A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tP extends A{constructor(){super(new ze(Mf),A.EMPTY_NODE,Xt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return A.EMPTY_NODE}isEmpty(){return!1}}const jo=new tP;Object.defineProperties(F,{MIN:{value:new F(Li,A.EMPTY_NODE)},MAX:{value:new F(Ar,jo)}});a1.__EMPTY_NODE=A.EMPTY_NODE;_e.__childrenNodeConstructor=A;Y2(jo);X2(jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=!0;function pe(t,e=null){if(t===null)return A.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new _e(n,pe(e))}if(!(t instanceof Array)&&nP){const n=[];let r=!1;if(xe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=pe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return A.EMPTY_NODE;const s=Na(n,q2,o=>o.name,Mf);if(r){const o=Na(n,ce.getCompare());return new A(s,pe(e),new Xt({".priority":o},{".priority":ce}))}else return new A(s,pe(e),Xt.Default)}else{let n=A.EMPTY_NODE;return xe(t,(r,i)=>{if(Wt(t,r)&&r.substring(0,1)!=="."){const s=pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pe(e))}}Q2(pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends mc{constructor(e){super(),this.indexPath_=e,P(!U(e)&&z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Wr(e.name,n.name):s}makePost(e,n){const r=pe(e),i=A.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const e=A.EMPTY_NODE.updateChild(this.indexPath_,jo);return new F(Ar,e)}toString(){return go(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP extends mc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Wr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const r=pe(e);return new F(n,r)}toString(){return".value"}}const sP=new iP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){return{type:"value",snapshotNode:t}}function bi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _o(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_o(n,l)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(bi(n,r)):o.trackChildChange(vo(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(_o(i,s))}),n.isLeafNode()||n.forEachChild(ce,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(vo(i,s,o))}else r.trackChildChange(bi(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?A.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.indexedFilter_=new jf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yo.getStartPost_(e),this.endPost_=yo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new F(n,r))||(r=A.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=A.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(A.EMPTY_NODE);const s=this;return n.forEachChild(ce,(o,l)=>{s.matches(new F(o,l))||(i=i.updateImmediateChild(o,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new F(n,r))||(r=A.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=A.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(A.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const l=e;P(l.numChildren()===this.limit_,"");const a=new F(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,a);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(vo(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_o(n,d));const y=l.updateImmediateChild(n,A.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(bi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&o(c,a)>=0?(s!=null&&(s.trackChildChange(_o(c.name,c.node)),s.trackChildChange(bi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,A.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Li}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){const e=new Ff;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aP(t){return t.loadsAllData()?new jf(t.getIndex()):t.hasLimit()?new lP(t):new yo(t)}function Fg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ce?n="$priority":t.index_===sP?n="$value":t.index_===wi?n="$key":(P(t.index_ instanceof rP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=me(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=me(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+me(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=me(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+me(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ug(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends r1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ra.getListenId_(e,r),l={};this.listens_[o]=l;const a=Fg(e._queryParams);this.restRequest_(s+".json",a,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Oi(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Ra.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Fg(e._queryParams),r=e._path.toString(),i=new Ao;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ki(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=fo(l.responseText)}catch{be("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&be("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){return{value:null,children:new Map}}function p1(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=z(e);t.children.has(r)||t.children.set(r,Da());const i=t.children.get(r);e=Q(e),p1(i,e,n)}}function Gd(t,e,n){t.value!==null?n(e,t.value):uP(t,(r,i)=>{const s=new K(e.toString()+"/"+r);Gd(i,s,n)})}function uP(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&xe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=10*1e3,hP=30*1e3,fP=5*60*1e3;class pP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dP(e);const r=Wg+(hP-Wg)*Math.random();Ws(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xe(e,(i,s)=>{s>0&&Wt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ws(this.reportStats_.bind(this),Math.floor(Math.random()*2*fP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Et||(Et={}));function Uf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $f(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Et.ACK_USER_WRITE,this.source=Uf()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new K(e));return new Oa(H(),n,this.revert)}}else return P(z(this.path)===e,"operationForChild called for unrelated child."),new Oa(Q(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.source=e,this.path=n,this.type=Et.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new wo(this.source,H()):new wo(this.source,Q(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Et.OVERWRITE}operationForChild(e){return U(this.path)?new Lr(this.source,H(),this.snap.getImmediateChild(e)):new Lr(this.source,Q(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Et.MERGE}operationForChild(e){if(U(this.path)){const n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new Lr(this.source,H(),n.value):new Mi(this.source,H(),n)}else return P(z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mi(this.source,Q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;const n=z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gP(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oP(o.childName,o.snapshotNode))}),fs(t,i,"child_removed",e,r,n),fs(t,i,"child_added",e,r,n),fs(t,i,"child_moved",s,r,n),fs(t,i,"child_changed",e,r,n),fs(t,i,"value",e,r,n),i}function fs(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>vP(t,l,a)),o.forEach(l=>{const a=_P(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function _P(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vP(t,e,n){if(e.childName==null||n.childName==null)throw Gi("Should only compare child_ events.");const r=new F(e.childName,e.snapshotNode),i=new F(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t,e){return{eventCache:t,serverCache:e}}function $s(t,e,n,r){return gc(new Zn(e,n,r),t.serverCache)}function m1(t,e,n,r){return gc(t.eventCache,new Zn(e,n,r))}function Aa(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function br(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;const yP=()=>(yu||(yu=new ze(r2)),yu);class Y{constructor(e,n=yP()){this.value=e,this.children=n}static fromObject(e){let n=new Y(null);return xe(e,(r,i)=>{n=n.set(new K(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:H(),value:this.value};if(U(e))return null;{const r=z(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Q(e),n);return s!=null?{path:ae(new K(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{const n=z(e),r=this.children.get(n);return r!==null?r.subtree(Q(e)):new Y(null)}}set(e,n){if(U(e))return new Y(n,this.children);{const r=z(e),s=(this.children.get(r)||new Y(null)).set(Q(e),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(e){if(U(e))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=z(e),r=this.children.get(n);if(r){const i=r.remove(Q(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(e){if(U(e))return this.value;{const n=z(e),r=this.children.get(n);return r?r.get(Q(e)):null}}setTree(e,n){if(U(e))return n;{const r=z(e),s=(this.children.get(r)||new Y(null)).setTree(Q(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(e){return this.fold_(H(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,H(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(U(e))return null;{const s=z(e),o=this.children.get(s);return o?o.findOnPath_(Q(e),ae(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,H(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);const i=z(e),s=this.children.get(i);return s?s.foreachOnPath_(Q(e),ae(n,i),r):new Y(null)}}foreach(e){this.foreach_(H(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.writeTree_=e}static empty(){return new kt(new Y(null))}}function zs(t,e,n){if(U(e))return new kt(new Y(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ae(i,e);return s=s.updateChild(o,n),new kt(t.writeTree_.set(i,s))}else{const i=new Y(n),s=t.writeTree_.setTree(e,i);return new kt(s)}}}function Kd(t,e,n){let r=t;return xe(n,(i,s)=>{r=zs(r,ae(e,i),s)}),r}function $g(t,e){if(U(e))return kt.empty();{const n=t.writeTree_.setTree(e,new Y(null));return new kt(n)}}function qd(t,e){return $r(t,e)!=null}function $r(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ae(n.path,e)):null}function zg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(r,i)=>{e.push(new F(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new F(r,i.value))}),e}function Kn(t,e){if(U(e))return t;{const n=$r(t,e);return n!=null?new kt(new Y(n)):new kt(t.writeTree_.subtree(e))}}function Yd(t){return t.writeTree_.isEmpty()}function ji(t,e){return g1(H(),t.writeTree_,e)}function g1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=g1(ae(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ae(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e){return w1(e,t)}function wP(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=zs(t.visibleWrites,e,n)),t.lastWriteId=r}function CP(t,e,n,r){P(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Kd(t.visibleWrites,e,n),t.lastWriteId=r}function EP(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function SP(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&IP(l,r.path)?i=!1:lt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return kP(t),!0;if(r.snap)t.visibleWrites=$g(t.visibleWrites,r.path);else{const l=r.children;xe(l,a=>{t.visibleWrites=$g(t.visibleWrites,ae(r.path,a))})}return!0}else return!1}function IP(t,e){if(t.snap)return lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&lt(ae(t.path,n),e))return!0;return!1}function kP(t){t.visibleWrites=_1(t.allWrites,TP,H()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function TP(t){return t.visible}function _1(t,e,n){let r=kt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)lt(n,o)?(l=Ae(n,o),r=zs(r,l,s.snap)):lt(o,n)&&(l=Ae(o,n),r=zs(r,H(),s.snap.getChild(l)));else if(s.children){if(lt(n,o))l=Ae(n,o),r=Kd(r,l,s.children);else if(lt(o,n))if(l=Ae(o,n),U(l))r=Kd(r,H(),s.children);else{const a=Oi(s.children,z(l));if(a){const c=a.getChild(Q(l));r=zs(r,H(),c)}}}else throw Gi("WriteRecord should have .snap or .children")}}return r}function v1(t,e,n,r,i){if(!r&&!i){const s=$r(t.visibleWrites,e);if(s!=null)return s;{const o=Kn(t.visibleWrites,e);if(Yd(o))return n;if(n==null&&!qd(o,H()))return null;{const l=n||A.EMPTY_NODE;return ji(o,l)}}}else{const s=Kn(t.visibleWrites,e);if(!i&&Yd(s))return n;if(!i&&n==null&&!qd(s,H()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(lt(c.path,e)||lt(e,c.path))},l=_1(t.allWrites,o,e),a=n||A.EMPTY_NODE;return ji(l,a)}}}function xP(t,e,n){let r=A.EMPTY_NODE;const i=$r(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Kn(t.visibleWrites,e);return n.forEachChild(ce,(o,l)=>{const a=ji(Kn(s,new K(o)),l);r=r.updateImmediateChild(o,a)}),zg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Kn(t.visibleWrites,e);return zg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function PP(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ae(e,n);if(qd(t.visibleWrites,s))return null;{const o=Kn(t.visibleWrites,s);return Yd(o)?i.getChild(n):ji(o,i.getChild(n))}}function NP(t,e,n,r){const i=ae(e,n),s=$r(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Kn(t.visibleWrites,i);return ji(o,r.getNode().getImmediateChild(n))}else return null}function RP(t,e){return $r(t.visibleWrites,e)}function DP(t,e,n,r,i,s,o){let l;const a=Kn(t.visibleWrites,e),c=$r(a,H());if(c!=null)l=c;else if(n!=null)l=ji(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function OP(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function La(t,e,n,r){return v1(t.writeTree,t.treePath,e,n,r)}function zf(t,e){return xP(t.writeTree,t.treePath,e)}function Bg(t,e,n,r){return PP(t.writeTree,t.treePath,e,n,r)}function ba(t,e){return RP(t.writeTree,ae(t.treePath,e))}function AP(t,e,n,r,i,s){return DP(t.writeTree,t.treePath,e,n,r,i,s)}function Bf(t,e,n){return NP(t.writeTree,t.treePath,e,n)}function y1(t,e){return w1(ae(t.treePath,e),t.writeTree)}function w1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_o(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,bi(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vo(r,e.snapshotNode,i.oldSnap));else throw Gi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const C1=new bP;class Hf{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bf(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:br(this.viewCache_),s=AP(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){return{filter:t}}function jP(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FP(t,e,n,r,i){const s=new LP;let o,l;if(n.type===Et.OVERWRITE){const c=n;c.source.fromUser?o=Qd(t,e,c.path,c.snap,r,i,s):(P(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!U(c.path),o=Ma(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===Et.MERGE){const c=n;c.source.fromUser?o=WP(t,e,c.path,c.children,r,i,s):(P(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Xd(t,e,c.path,c.children,r,i,l,s))}else if(n.type===Et.ACK_USER_WRITE){const c=n;c.revert?o=BP(t,e,c.path,r,i,s):o=$P(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Et.LISTEN_COMPLETE)o=zP(t,e,n.path,r,s);else throw Gi("Unknown operation type: "+n.type);const a=s.getChanges();return UP(e,o,a),{viewCache:o,changes:a}}function UP(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Aa(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(f1(Aa(e)))}}function E1(t,e,n,r,i,s){const o=e.eventCache;if(ba(r,n)!=null)return e;{let l,a;if(U(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=br(e),u=c instanceof A?c:A.EMPTY_NODE,d=zf(r,u);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=La(r,br(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=z(n);if(c===".priority"){P(Jn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const d=Bg(r,n,u,a);d!=null?l=t.filter.updatePriority(u,d):l=o.getNode()}else{const u=Q(n);let d;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=Bg(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Bf(r,c,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),c,d,u,i,s):l=o.getNode()}}return $s(e,l,o.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function Ma(t,e,n,r,i,s,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(U(n))c=u.updateFullNode(a.getNode(),r,null);else if(u.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);c=u.updateFullNode(a.getNode(),p,null)}else{const p=z(n);if(!a.isCompleteForPath(n)&&Jn(n)>1)return e;const v=Q(n),C=a.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(a.getNode(),C):c=u.updateChild(a.getNode(),p,C,v,C1,null)}const d=m1(e,c,a.isFullyInitialized()||U(n),u.filtersNodes()),f=new Hf(i,d,s);return E1(t,d,n,i,f,l)}function Qd(t,e,n,r,i,s,o){const l=e.eventCache;let a,c;const u=new Hf(i,e,s);if(U(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=$s(e,c,!0,t.filter.filtersNodes());else{const d=z(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=$s(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=Q(n),p=l.getNode().getImmediateChild(d);let v;if(U(f))v=r;else{const y=u.getCompleteChild(d);y!=null?Lf(f)===".priority"&&y.getChild(s1(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=A.EMPTY_NODE}if(p.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),d,v,f,u,o);a=$s(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Hg(t,e){return t.eventCache.isCompleteForChild(e)}function WP(t,e,n,r,i,s,o){let l=e;return r.foreach((a,c)=>{const u=ae(n,a);Hg(e,z(u))&&(l=Qd(t,l,u,c,i,s,o))}),r.foreach((a,c)=>{const u=ae(n,a);Hg(e,z(u))||(l=Qd(t,l,u,c,i,s,o))}),l}function Vg(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Xd(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;U(n)?c=r:c=new Y(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),v=Vg(t,p,f);a=Ma(t,a,new K(d),v,i,s,o,l)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const v=e.serverCache.getNode().getImmediateChild(d),y=Vg(t,v,f);a=Ma(t,a,new K(d),y,i,s,o,l)}}),a}function $P(t,e,n,r,i,s,o){if(ba(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(U(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Ma(t,e,n,a.getNode().getChild(n),i,s,l,o);if(U(n)){let c=new Y(null);return a.getNode().forEachChild(wi,(u,d)=>{c=c.set(new K(u),d)}),Xd(t,e,n,c,i,s,l,o)}else return e}else{let c=new Y(null);return r.foreach((u,d)=>{const f=ae(n,u);a.isCompleteForPath(f)&&(c=c.set(u,a.getNode().getChild(f)))}),Xd(t,e,n,c,i,s,l,o)}}function zP(t,e,n,r,i){const s=e.serverCache,o=m1(e,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return E1(t,o,n,r,C1,i)}function BP(t,e,n,r,i,s){let o;if(ba(r,n)!=null)return e;{const l=new Hf(r,e,i),a=e.eventCache.getNode();let c;if(U(n)||z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=La(r,br(e));else{const d=e.serverCache.getNode();P(d instanceof A,"serverChildren would be complete if leaf node"),u=zf(r,d)}u=u,c=t.filter.updateFullNode(a,u,s)}else{const u=z(n);let d=Bf(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=a.getImmediateChild(u)),d!=null?c=t.filter.updateChild(a,u,d,Q(n),l,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,A.EMPTY_NODE,Q(n),l,s):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=La(r,br(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ba(r,H())!=null,$s(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new jf(r.getIndex()),s=aP(r);this.processor_=MP(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(A.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(A.EMPTY_NODE,l.getNode(),null),u=new Zn(a,o.isFullyInitialized(),i.filtersNodes()),d=new Zn(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=gc(d,u),this.eventGenerator_=new mP(this.query_)}get query(){return this.query_}}function VP(t){return t.viewCache_.serverCache.getNode()}function GP(t){return Aa(t.viewCache_)}function KP(t,e){const n=br(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(z(e)).isEmpty())?n.getChild(e):null}function Gg(t){return t.eventRegistrations_.length===0}function qP(t,e){t.eventRegistrations_.push(e)}function Kg(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function qg(t,e,n,r){e.type===Et.MERGE&&e.source.queryId!==null&&(P(br(t.viewCache_),"We should always have a full cache before handling merges"),P(Aa(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FP(t.processor_,i,e,n,r);return jP(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,S1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function YP(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(s,o)=>{r.push(bi(s,o))}),n.isFullyInitialized()&&r.push(f1(n.getNode())),S1(t,r,n.getNode(),e)}function S1(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return gP(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja;class I1{constructor(){this.views=new Map}}function QP(t){P(!ja,"__referenceConstructor has already been defined"),ja=t}function XP(){return P(ja,"Reference.ts has not been loaded"),ja}function JP(t){return t.views.size===0}function Vf(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return P(s!=null,"SyncTree gave us an op for an invalid query."),qg(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(qg(o,e,n,r));return s}}function k1(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=La(n,i?r:null),a=!1;l?a=!0:r instanceof A?(l=zf(n,r),a=!1):(l=A.EMPTY_NODE,a=!1);const c=gc(new Zn(l,a,!1),new Zn(r,i,!1));return new HP(e,c)}return o}function ZP(t,e,n,r,i,s){const o=k1(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qP(o,n),YP(o,n)}function eN(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=er(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Kg(c,n,r)),Gg(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||s.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Kg(a,n,r)),Gg(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!er(t)&&s.push(new(XP())(e._repo,e._path)),{removed:s,events:o}}function T1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qn(t,e){let n=null;for(const r of t.views.values())n=n||KP(r,e);return n}function x1(t,e){if(e._queryParams.loadsAllData())return vc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function P1(t,e){return x1(t,e)!=null}function er(t){return vc(t)!=null}function vc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa;function tN(t){P(!Fa,"__referenceConstructor has already been defined"),Fa=t}function nN(){return P(Fa,"Reference.ts has not been loaded"),Fa}let rN=1;class Yg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Y(null),this.pendingWriteTree_=OP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function N1(t,e,n,r,i){return wP(t.pendingWriteTree_,e,n,r,i),i?Qi(t,new Lr(Uf(),e,n)):[]}function iN(t,e,n,r){CP(t.pendingWriteTree_,e,n,r);const i=Y.fromObject(n);return Qi(t,new Mi(Uf(),e,i))}function Ln(t,e,n=!1){const r=EP(t.pendingWriteTree_,e);if(SP(t.pendingWriteTree_,e)){let s=new Y(null);return r.snap!=null?s=s.set(H(),!0):xe(r.children,o=>{s=s.set(new K(o),!0)}),Qi(t,new Oa(r.path,s,n))}else return[]}function Fo(t,e,n){return Qi(t,new Lr(Wf(),e,n))}function sN(t,e,n){const r=Y.fromObject(n);return Qi(t,new Mi(Wf(),e,r))}function oN(t,e){return Qi(t,new wo(Wf(),e))}function lN(t,e,n){const r=Kf(t,n);if(r){const i=qf(r),s=i.path,o=i.queryId,l=Ae(s,e),a=new wo($f(o),l);return Yf(t,s,a)}else return[]}function R1(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||P1(o,e))){const a=eN(o,e,n,r);JP(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=a.removed;if(l=a.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>er(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=dN(f);for(let v=0;v<p.length;++v){const y=p[v],C=y.query,g=L1(t,y);t.listenProvider_.startListening(Bs(C),Co(t,C),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Bs(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(yc(f));t.listenProvider_.stopListening(Bs(f),p)}))}hN(t,c)}return l}function D1(t,e,n,r){const i=Kf(t,r);if(i!=null){const s=qf(i),o=s.path,l=s.queryId,a=Ae(o,e),c=new Lr($f(l),a,n);return Yf(t,o,c)}else return[]}function aN(t,e,n,r){const i=Kf(t,r);if(i){const s=qf(i),o=s.path,l=s.queryId,a=Ae(o,e),c=Y.fromObject(n),u=new Mi($f(l),a,c);return Yf(t,o,u)}else return[]}function cN(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const v=Ae(f,i);s=s||qn(p,v),o=o||er(p)});let l=t.syncPointTree_.get(i);l?(o=o||er(l),s=s||qn(l,H())):(l=new I1,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=A.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const y=qn(v,H());y&&(s=s.updateImmediateChild(p,y))}));const c=P1(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=yc(e);P(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=fN();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=_c(t.pendingWriteTree_,i);let d=ZP(l,e,n,u,s,a);if(!c&&!o&&!r){const f=x1(l,e);d=d.concat(pN(t,e,f))}return d}function Gf(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ae(o,e),c=qn(l,a);if(c)return c});return v1(i,e,s,n,!0)}function uN(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Ae(c,n);r=r||qn(u,d)});let i=t.syncPointTree_.get(n);i?r=r||qn(i,H()):(i=new I1,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Zn(r,!0,!1):null,l=_c(t.pendingWriteTree_,e._path),a=k1(i,e,l,s?o.getNode():A.EMPTY_NODE,s);return GP(a)}function Qi(t,e){return O1(e,t.syncPointTree_,null,_c(t.pendingWriteTree_,H()))}function O1(t,e,n,r){if(U(t.path))return A1(t,e,n,r);{const i=e.get(H());n==null&&i!=null&&(n=qn(i,H()));let s=[];const o=z(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=y1(r,o);s=s.concat(O1(l,a,c,u))}return i&&(s=s.concat(Vf(i,t,r,n))),s}}function A1(t,e,n,r){const i=e.get(H());n==null&&i!=null&&(n=qn(i,H()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=y1(r,o),u=t.operationForChild(o);u&&(s=s.concat(A1(u,l,a,c)))}),i&&(s=s.concat(Vf(i,t,r,n))),s}function L1(t,e){const n=e.query,r=Co(t,n);return{hashFn:()=>(VP(e)||A.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?lN(t,n._path,r):oN(t,n._path);{const s=o2(i,n);return R1(t,n,null,s)}}}}function Co(t,e){const n=yc(e);return t.queryToTagMap.get(n)}function yc(t){return t._path.toString()+"$"+t._queryIdentifier}function Kf(t,e){return t.tagToQueryMap.get(e)}function qf(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new K(t.substr(0,e))}}function Yf(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const i=_c(t.pendingWriteTree_,e);return Vf(r,n,i,null)}function dN(t){return t.fold((e,n,r)=>{if(n&&er(n))return[vc(n)];{let i=[];return n&&(i=T1(n)),xe(r,(s,o)=>{i=i.concat(o)}),i}})}function Bs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(nN())(t._repo,t._path):t}function hN(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=yc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function fN(){return rN++}function pN(t,e,n){const r=e._path,i=Co(t,e),s=L1(t,n),o=t.listenProvider_.startListening(Bs(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)P(!er(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,d)=>{if(!U(c)&&u&&er(u))return[vc(u).query];{let f=[];return u&&(f=f.concat(T1(u).map(p=>p.query))),xe(d,(p,v)=>{f=f.concat(v)}),f}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(Bs(u),Co(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qf(n)}node(){return this.node_}}class Xf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ae(this.path_,e);return new Xf(this.syncTree_,n)}node(){return Gf(this.syncTree_,this.path_)}}const mN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Qg=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _N(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},_N=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},b1=function(t,e,n,r){return Jf(e,new Xf(n,t),r)},M1=function(t,e,n){return Jf(t,new Qf(e),n)};function Jf(t,e,n){const r=t.getPriority().val(),i=Qg(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Qg(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new _e(l,pe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new _e(i))),o.forEachChild(ce,(l,a)=>{const c=Jf(a,e.getImmediateChild(l),n);c!==a&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ep(t,e){let n=e instanceof K?e:new K(e),r=t,i=z(n);for(;i!==null;){const s=Oi(r.node.children,i)||{children:{},childCount:0};r=new Zf(i,r,s),n=Q(n),i=z(n)}return r}function Xi(t){return t.node.value}function j1(t,e){t.node.value=e,Jd(t)}function F1(t){return t.node.childCount>0}function vN(t){return Xi(t)===void 0&&!F1(t)}function wc(t,e){xe(t.node.children,(n,r)=>{e(new Zf(n,t,r))})}function U1(t,e,n,r){n&&!r&&e(t),wc(t,i=>{U1(i,e,!0,r)}),n&&r&&e(t)}function yN(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Uo(t){return new K(t.parent===null?t.name:Uo(t.parent)+"/"+t.name)}function Jd(t){t.parent!==null&&wN(t.parent,t.name,t)}function wN(t,e,n){const r=vN(n),i=Wt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Jd(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Jd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/[\[\].#$\/\u0000-\u001F\u007F]/,EN=/[\[\].#$\u0000-\u001F\u007F]/,wu=10*1024*1024,tp=function(t){return typeof t=="string"&&t.length!==0&&!CN.test(t)},W1=function(t){return typeof t=="string"&&t.length!==0&&!EN.test(t)},SN=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),W1(t)},IN=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Nf(t)||t&&typeof t=="object"&&Wt(t,".sv")},$1=function(t,e,n,r){r&&e===void 0||Cc(fc(t,"value"),e,n)},Cc=function(t,e,n){const r=n instanceof K?new W2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+gr(r));if(typeof e=="function")throw new Error(t+"contains a function "+gr(r)+" with contents = "+e.toString());if(Nf(e))throw new Error(t+"contains "+e.toString()+" "+gr(r));if(typeof e=="string"&&e.length>wu/3&&pc(e)>wu)throw new Error(t+"contains a string greater than "+wu+" utf8 bytes "+gr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(xe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!tp(o)))throw new Error(t+" contains an invalid key ("+o+") "+gr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$2(r,o),Cc(t,l,r),z2(r)}),i&&s)throw new Error(t+' contains ".value" child '+gr(r)+" in addition to actual children.")}},kN=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=go(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!tp(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(U2);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&lt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},TN=function(t,e,n,r){const i=fc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];xe(e,(o,l)=>{const a=new K(o);if(Cc(i,l,ae(n,a)),Lf(a)===".priority"&&!IN(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),kN(i,s)},z1=function(t,e,n,r){if(!W1(n))throw new Error(fc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xN=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),z1(t,e,n)},np=function(t,e){if(z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PN=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SN(n))throw new Error(fc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!o1(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function dt(t,e,n){rp(t,n),RN(t,r=>lt(r,e)||lt(e,r))}function RN(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(DN(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function DN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Us&&Ie("event: "+n.toString()),Yi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="repo_interrupt",AN=25;class LN{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Da(),this.transactionQueueTree_=new Zf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bN(t,e,n){if(t.stats_=Of(t.repoInfo_),t.forceRestClient_||u2())t.server_=new Ra(t.repoInfo_,(r,i,s,o)=>{Xg(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Jg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new nn(t.repoInfo_,e,(r,i,s,o)=>{Xg(t,r,i,s,o)},r=>{Jg(t,r)},r=>{MN(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=m2(t.repoInfo_,()=>new pP(t.stats_,t.server_)),t.infoData_=new cP,t.infoSyncTree_=new Yg({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Fo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ip(t,"connected",!1),t.serverSyncTree_=new Yg({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const c=o(l,a);dt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function B1(t){const n=t.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ec(t){return mN({timestamp:B1(t)})}function Xg(t,e,n,r,i){t.dataUpdateCount++;const s=new K(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Ia(n,c=>pe(c));o=aN(t.serverSyncTree_,s,a,i)}else{const a=pe(n);o=D1(t.serverSyncTree_,s,a,i)}else if(r){const a=Ia(n,c=>pe(c));o=sN(t.serverSyncTree_,s,a)}else{const a=pe(n);o=Fo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Fi(t,s)),dt(t.eventQueue_,l,o)}function Jg(t,e){ip(t,"connected",e),e===!1&&WN(t)}function MN(t,e){xe(e,(n,r)=>{ip(t,n,r)})}function ip(t,e,n){const r=new K("/.info/"+e),i=pe(n);t.infoData_.updateSnapshot(r,i);const s=Fo(t.infoSyncTree_,r,i);dt(t.eventQueue_,r,s)}function sp(t){return t.nextWriteId_++}function jN(t,e,n){const r=uN(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=pe(i).withIndex(e._queryParams.getIndex());cN(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Fo(t.serverSyncTree_,e._path,s);else{const l=Co(t.serverSyncTree_,e);o=D1(t.serverSyncTree_,e._path,s,l)}return dt(t.eventQueue_,e._path,o),R1(t.serverSyncTree_,e,n,null,!0),s},i=>(Wo(t,"get for query "+me(e)+" failed: "+i),Promise.reject(new Error(i))))}function FN(t,e,n,r,i){Wo(t,"set",{path:e.toString(),value:n,priority:r});const s=Ec(t),o=pe(n,r),l=Gf(t.serverSyncTree_,e),a=M1(o,l,s),c=sp(t),u=N1(t.serverSyncTree_,e,a,c,!0);rp(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const v=f==="ok";v||be("set at "+e+" failed: "+f);const y=Ln(t.serverSyncTree_,c,!v);dt(t.eventQueue_,e,y),Zd(t,i,f,p)});const d=lp(t,e);Fi(t,d),dt(t.eventQueue_,d,[])}function UN(t,e,n,r){Wo(t,"update",{path:e.toString(),value:n});let i=!0;const s=Ec(t),o={};if(xe(n,(l,a)=>{i=!1,o[l]=b1(ae(e,l),pe(a),t.serverSyncTree_,s)}),i)Ie("update() called with empty data.  Don't do anything."),Zd(t,r,"ok",void 0);else{const l=sp(t),a=iN(t.serverSyncTree_,e,o,l);rp(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||be("update at "+e+" failed: "+c);const f=Ln(t.serverSyncTree_,l,!d),p=f.length>0?Fi(t,e):e;dt(t.eventQueue_,p,f),Zd(t,r,c,u)}),xe(n,c=>{const u=lp(t,ae(e,c));Fi(t,u)}),dt(t.eventQueue_,e,[])}}function WN(t){Wo(t,"onDisconnectEvents");const e=Ec(t),n=Da();Gd(t.onDisconnect_,H(),(i,s)=>{const o=b1(i,s,t.serverSyncTree_,e);p1(n,i,o)});let r=[];Gd(n,H(),(i,s)=>{r=r.concat(Fo(t.serverSyncTree_,i,s));const o=lp(t,i);Fi(t,o)}),t.onDisconnect_=Da(),dt(t.eventQueue_,H(),r)}function $N(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ON)}function Wo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ie(n,...e)}function Zd(t,e,n,r){e&&Yi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function H1(t,e,n){return Gf(t.serverSyncTree_,e,n)||A.EMPTY_NODE}function op(t,e=t.transactionQueueTree_){if(e||Sc(t,e),Xi(e)){const n=G1(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&zN(t,Uo(e),n)}else F1(e)&&wc(e,n=>{op(t,n)})}function zN(t,e,n){const r=n.map(c=>c.currentWriteId),i=H1(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];P(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ae(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Wo(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ln(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Sc(t,ep(t.transactionQueueTree_,e)),op(t,t.transactionQueueTree_),dt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Yi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{be("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Fi(t,e)}},o)}function Fi(t,e){const n=V1(t,e),r=Uo(n),i=G1(t,n);return BN(t,i,r),r}function BN(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Ae(n,a.path);let u=!1,d;if(P(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,d=a.abortReason,i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=AN)u=!0,d="maxretry",i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0));else{const f=H1(t,a.path,o);a.currentInputSnapshot=f;const p=e[l].update(f.val());if(p!==void 0){Cc("transaction failed: Data returned ",p,a.path);let v=pe(p);typeof p=="object"&&p!=null&&Wt(p,".priority")||(v=v.updatePriority(f.getPriority()));const C=a.currentWriteId,g=Ec(t),m=M1(v,f,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=m,a.currentWriteId=sp(t),o.splice(o.indexOf(C),1),i=i.concat(N1(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(Ln(t.serverSyncTree_,C,!0))}else u=!0,d="nodata",i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0))}dt(t.eventQueue_,n,i),i=[],u&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Sc(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Yi(r[l]);op(t,t.transactionQueueTree_)}function V1(t,e){let n,r=t.transactionQueueTree_;for(n=z(e);n!==null&&Xi(r)===void 0;)r=ep(r,n),e=Q(e),n=z(e);return r}function G1(t,e){const n=[];return K1(t,e,n),n.sort((r,i)=>r.order-i.order),n}function K1(t,e,n){const r=Xi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);wc(e,i=>{K1(t,i,n)})}function Sc(t,e){const n=Xi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,j1(e,n.length>0?n:void 0)}wc(e,r=>{Sc(t,r)})}function lp(t,e){const n=Uo(V1(t,e)),r=ep(t.transactionQueueTree_,e);return yN(r,i=>{Cu(t,i)}),Cu(t,r),U1(r,i=>{Cu(t,i)}),n}function Cu(t,e){const n=Xi(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ln(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?j1(e,void 0):n.length=s+1,dt(t.eventQueue_,Uo(e),i);for(let o=0;o<r.length;o++)Yi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function VN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):be(`Invalid query segment '${n}' in query '${t}'`)}return e}const Zg=function(t,e){const n=GN(t),r=n.namespace;n.domain==="firebase.com"&&dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||t2();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Qy(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new K(n.pathString)}},GN=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=HN(t.substring(u,d)));const f=VN(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KN=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=e_.charAt(n%64),n=Math.floor(n/64);P(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=e_.charAt(e[i]);return P(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+me(this.snapshot.exportVal())}}class YN{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:Lf(this._path)}get ref(){return new gn(this._repo,this._path)}get _queryIdentifier(){const e=Ug(this._queryParams),n=Rf(e);return n==="{}"?"default":n}get _queryObject(){return Ug(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof ap))return!1;const n=this._repo===e._repo,r=o1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+F2(this._path)}}class gn extends ap{constructor(e,n){super(e,n,new Ff,!1)}get parent(){const e=s1(this._path);return e===null?null:new gn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Eo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new K(e),r=So(this.ref,e);return new Eo(this._node.getChild(n),r,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Eo(i,So(this.ref,r),ce)))}hasChild(e){const n=new K(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jt(t,e){return t=Ge(t),t._checkNotDeleted("ref"),e!==void 0?So(t._root,e):t._root}function So(t,e){return t=Ge(t),z(t._path)===null?xN("child","path",e):z1("child","path",e),new gn(t._repo,ae(t._path,e))}function eh(t,e){t=Ge(t),np("push",t._path),$1("push",e,t._path,!0);const n=B1(t._repo),r=KN(n),i=So(t,r),s=So(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function q1(t){return np("remove",t._path),Ui(t,null)}function Ui(t,e){t=Ge(t),np("set",t._path),$1("set",e,t._path,!1);const n=new Ao;return FN(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Y1(t,e){TN("update",e,t._path);const n=new Ao;return UN(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function zr(t){t=Ge(t);const e=new QN(()=>{}),n=new cp(e);return jN(t._repo,t,n).then(r=>new Eo(r,new gn(t._repo,t._path),t._queryParams.getIndex()))}class cp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new qN("value",this,new Eo(e.snapshotNode,new gn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new YN(this,e,n):null}matches(e){return e instanceof cp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}QP(gn);tN(gn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="FIREBASE_DATABASE_EMULATOR_HOST",th={};let JN=!1;function ZN(t,e,n,r){t.repoInfo_=new Qy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function eR(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ie("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Zg(s,i),l=o.repoInfo,a;typeof process<"u"&&Cg&&(a=Cg[XN]),a?(s=`http://${a}?ns=${l.namespace}`,o=Zg(s,i),l=o.repoInfo):o.repoInfo.secure;const c=new h2(t.name,t.options,e);PN("Invalid Firebase Database URL",o),U(o.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=nR(l,t,c,new d2(t.name,n));return new rR(u,t)}function tR(t,e){const n=th[e];(!n||n[t.key]!==t)&&dn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$N(t),delete n[t.key]}function nR(t,e,n,r){let i=th[e.name];i||(i={},th[e.name]=i);let s=i[t.toURLString()];return s&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new LN(t,JN,n,r),i[t.toURLString()]=s,s}class rR{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gn(this._repo,H())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&dn("Cannot call "+e+" on a deleted database.")}}function _n(t=Ay(),e){const n=Pf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=kT("database");r&&iR(n,...r)}return n}function iR(t,e,n,r={}){t=Ge(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&dn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ul(Ul.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:TT(r.mockUserToken,t.app.options.projectId);s=new Ul(o)}ZN(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){Yx(qi),Ai(new Or("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return eR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Gn(Eg,Sg,t),Gn(Eg,Sg,"esm2017")}nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sR();const oR=t=>{const e=[];for(const n in t){const r=t[n],i=r.events,s=[];for(const l in i){const a={...i[l],id:l};s.push(a)}const o={...r,id:n,events:r.events?s:[]};e.push(o)}return e},lR=t=>t.reduce((e,n)=>(e[n.id]=n,e),{}),Q1=(t,e)=>{new Date().setHours(0,0,0,0);const r=e.filter(s=>{const[o,l,a]=s.date.split("/").map(Number);return new Date(a,l-1,o)});if(!t)return[];const i=[];if(t)for(let s=0;s<t.length;s+=1){const o=[...t[s].events];for(let l=0;l<r.length;l+=1)if(t[s].id===r[l].calendarID){const a={id:r[l].id,title:r[l].title,description:r[l].description,date:r[l].date,isAllDay:r[l].isAllDay,time:r[l].time,reccurence:r[l].reccurence,dateOfCreation:r[l].dateOfCreation};o.push(a)}i.push({...t[s],events:o})}return i},aR=mn("users/writeUserData",async({userID:t,email:e},n)=>{try{const r=_n(),i=jt(r,`users/${t}`);return(await zr(i)).exists()?n.rejectWithValue("User already exists"):(await Ui(i,{email:e}),{userID:t,email:e})}catch(r){return n.rejectWithValue(r.message)}}),Ft=mn("users/fetchUserData",async(t,e)=>{try{const n=_n(),r=jt(n,`users/${t}`),i=await zr(r);return i.exists()?i.val():null}catch(n){return e.rejectWithValue(n.message)}}),cR=mn("users/addNewCalendar",async({userID:t,calendar:e},n)=>{try{const r=_n(),i=jt(r,`users/${t}/calendars/${e.id}`);return await Ui(i,e),(await zr(i)).val()}catch(r){return n.rejectWithValue(r.message)}}),X1=mn("users/updateCalendar",async({userID:t,calendar:e},n)=>{const r=lR(e.events),i={...e,events:r};try{const s=_n(),o=jt(s,`users/${t}/calendars/${e.id}`);return await Y1(o,i),(await zr(o)).val()}catch(s){return n.rejectWithValue(s.message)}}),uR=mn("users/addNewEvent",async({calendarID:t,userID:e,event:n},r)=>{try{const i=_n(),s=jt(i,`users/${e}/calendars/${t}/events`),o=eh(s);return await Ui(o,n),(await zr(o)).val()}catch(i){return r.rejectWithValue(i.message)}}),dR=mn("users/editEvent",async({userID:t,calendarID:e,newEvent:n,eventID:r},i)=>{try{const s=_n(),o=jt(s,`users/${t}/calendars/${e}/events/${r}`);await Y1(o,n);const a=(await zr(o)).val();return a||i.rejectWithValue("Event not found or update failed")}catch(s){const o=s instanceof Error?s.message:"Unknown error";return i.rejectWithValue(o)}}),hR=mn("users/deleteCalendar",async({calendarID:t,userID:e},n)=>{try{const r=_n(),i=jt(r,`users/${e}/calendars/${t}`);await q1(i)}catch(r){return n.rejectWithValue(r.message)}}),t_=mn("users/deleteEvent",async({calendarID:t,userID:e,eventID:n},r)=>{try{const i=_n(),s=jt(i,`users/${e}/calendars/${t}/events/${n}`);await q1(s)}catch(i){return r.rejectWithValue(i.message)}}),fR=mn("users/ensureUserHasCalendar",async(t,e)=>{try{const n=_n(),r=jt(n,`users/${t}/calendars`);if((await zr(r)).exists())return{message:"User already has a calendar"};const s=eh(r);await Ui(s,mT);const o=eh(jt(n,`users/${t}/calendars/${s.key}/events`)),l=$e(new Date),a={...gT,dateOfCreation:l};return await Ui(o,a),{message:"Default calendar and event created successfully"}}catch(n){return e.rejectWithValue(n.message)}}),pR={currentDate:null,selectedDate:null,calendars:null},J1=hf({name:"calendarUI",initialState:pR,reducers:{setInitialCalendarState(t){t.currentDate=new Date().toISOString(),t.selectedDate=$e(new Date)},resetCalendarState(t){t.currentDate=null,t.selectedDate=null,t.calendars=null},moveToNextDay(t){if(t.currentDate){const e=new Date(t.currentDate);e.setTime(e.getTime()+Md),t.currentDate=e.toISOString(),t.selectedDate=$e(e)}},moveToPreviousDay(t){if(t.currentDate){const e=new Date(t.currentDate);e.setTime(e.getTime()-Md),t.currentDate=e.toISOString(),t.selectedDate=$e(e)}},moveToNextWeek(t){if(t.currentDate){const e=new Date(t.currentDate);e.setTime(e.getTime()+ug),t.currentDate=e.toISOString()}},moveToPreviousWeek(t){if(t.currentDate){const e=new Date(t.currentDate);e.setTime(e.getTime()-ug),t.currentDate=e.toISOString()}},setCurrentWeek(t){const e=new Date,n=new Date(e);n.setDate(e.getDate()-e.getDay()+5),n.setHours(0,0,0,0),t.currentDate=n.toISOString(),t.selectedDate=$e(new Date)},setCurrentDay(t){const e=new Date,n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();t.currentDate=e.toISOString(),t.selectedDate=`${n}/${r}/${i}`},setDateToSpecificDay(t,e){t.currentDate=Zk(e.payload)},setSelectDate(t,e){t.selectedDate=e.payload}},extraReducers:t=>{t.addCase(Ft.fulfilled,(e,n)=>{if(!n.payload||!n.payload.calendars){e.calendars=[];return}const{calendars:r}=n.payload,i=oR(r);e.calendars=i})}}),up=t=>t.calendar.currentDate,Z1=t=>t.calendar.selectedDate,vn=t=>t.calendar.calendars,{moveToNextWeek:mR,moveToPreviousWeek:gR,moveToNextDay:_R,moveToPreviousDay:vR,setCurrentWeek:yR,setCurrentDay:ew,setDateToSpecificDay:wR,setSelectDate:CR,setInitialCalendarState:tw,resetCalendarState:ER}=J1.actions,SR=J1.reducer,IR={message:"",isVisible:!0},nw=hf({name:"notification",initialState:IR,reducers:{showNotification(t,e){t.message=e.payload,t.isVisible=!0},hideNotification(t){t.message="",t.isVisible=!1}}}),rw=t=>t.notifications.message,iw=t=>t.notifications.isVisible,{showNotification:dp,hideNotification:sw}=nw.actions,kR=nw.reducer,TR={email:null,token:null,userID:null},ow=hf({name:"user",initialState:TR,reducers:{setUser(t,e){t.email=e.payload.email,t.token=e.payload.token,t.userID=e.payload.userID},removeUser(t){t.email=null,t.token=null,t.userID=null}}}),Ic=t=>t.user.userID,{setUser:lw,removeUser:xR}=ow.actions,PR=ow.reducer,NR=sy({calendar:SR,notifications:kR,user:PR}),RR={key:"calendar-app",storage:vy},DR=jk(RR,NR),aw=rk({reducer:DR,middleware:t=>t({serializableCheck:{ignoredActions:[pf,hc,mf,gf,_f,vf]}})}),OR=Bk(aw),ft=()=>TI(),se=mI,AR=(t,e,n,r)=>{const i=[],s=tT(n,r,t.date);return s&&i.push({...t,id:s+t.id,calendarID:e,date:s}),i},LR=(t,e,n)=>Cf(t.date,n).filter(i=>i!==t.date).map(i=>({...t,id:i+t.id,calendarID:e,date:i})),bR=(t,e,n)=>Cf(t.date,n).filter(i=>i!==t.date&&iT(i)).map(i=>({...t,id:i+t.id,calendarID:e,date:i})),MR=(t,e,n)=>Cf(t.date,n).filter(i=>i!==t.date&&rT(i)).map(i=>({...t,id:i+t.id,calendarID:e,date:i})),hp=()=>{const[t,e]=E.useState([]),n=se(vn),r=se(up),i=E.useMemo(()=>new Date(new Date(r||Date.now())),[r]),s=E.useMemo(()=>nT(i),[i]),o=s[0],l=s[s.length-1];return E.useEffect(()=>{if(!n)return;const a={monthly:(u,d)=>AR(u,d,o,l),daily:(u,d)=>LR(u,d,l),"weekly-thursday":(u,d)=>bR(u,d,l),"annually-02-11":(u,d)=>MR(u,d,l)},c=[];n.forEach(u=>{u.events.forEach(d=>{const f=d.reccurence;if(typeof f!="string"){const p=a[f.value];p&&c.push(...p(d,u.id))}})}),e(c)},[n,o,l]),{weekDays:s,recurringEvents:t}},cw=({dayData:t})=>{const{recurringEvents:e}=hp(),n=se(vn),r=Q1(n,e),i=(r==null?void 0:r.filter(f=>f.isVisible))??[],s=Ef.toDateString(),o=t.toDateString()===s,c=(f=>{let p=[];for(let v=0;v<f.length;v+=1){const y=f[v].events.map(C=>({...C,calendarColor:f[v].colour}));p=p.concat(y)}return p})(i).filter(f=>!f.isAllDay);return{eventsGroupedByDay:(f=>{const p=new Map;return f.forEach(v=>{p.has(v.date)?p.get(v.date).push(v):p.set(v.date,[v])}),Array.from(p.values())})(c),isToday:o}},jR="_hourItem_qgp4r_1",FR="_hourItemSub_qgp4r_8",n_={hourItem:jR,hourItemSub:FR},uw=({hour:t})=>h.jsx("div",{className:n_.hourItem,children:h.jsx("span",{className:n_.hourItemSub,children:t})},t),UR=({valueTitle:t,action:e,id:n})=>{const r=se(Ic),i=se(vn),o=(()=>{var y;return n?(y=i==null?void 0:i.find(C=>C.id===n))==null?void 0:y.colour:"#9F2957"})(),[l,a]=E.useState(t),[c,u]=E.useState(o),d=ft();return{title:l,pickColor:c,handleChange:y=>{a(y.target.value)},pickerHandle:y=>{const C=y.currentTarget.getAttribute("color");C&&u(C)},handleAction:()=>{if(l){const y=e==="create",C=e==="edit",g=l.length>3,m=c&&r,_=c&&n;if(y&&g&&m){const w={title:l,colour:c,id:Dr(),isVisible:!1,events:[]};d(cR({calendar:w,userID:r})),d(Ft(r)),a("")}if(C&&g&&_){const w=i==null?void 0:i.find(S=>S.id===n);if(w&&r){const S={...w,title:l,colour:c,id:n};d(X1({userID:r,calendar:S})),d(Ft(r))}}}}}};var dw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(dw);var WR=dw.exports;const Ut=P_(WR),$R="_button_1last_3",zR="_primary_1last_19",BR="_primaryDisable_1last_25",HR="_primaryHover_1last_35",VR="_primaryActive_1last_44",GR="_secondary_1last_49",KR="_secondaryDisable_1last_55",qR="_secondaryHover_1last_66",YR="_secondaryActive_1last_76",QR="_buttonContent_1last_82",XR="_widthFull_1last_88",ps={button:$R,primary:zR,primaryDisable:BR,primaryHover:HR,primaryActive:VR,secondary:GR,secondaryDisable:KR,secondaryHover:qR,secondaryActive:YR,buttonContent:QR,widthFull:XR},bt=({children:t,variant:e,icon:n,onClick:r,isDisabled:i,isWidthFull:s})=>{const o=Ut(ps.button,ps[e],{[ps[`${e}Disable`]]:i},{[ps.widthFull]:s});return h.jsxs("button",{className:o,onClick:r,disabled:i,"aria-disabled":i,children:[n,h.jsx("span",{className:ps.buttonContent,children:t})]})},JR=({width:t=16,height:e=16,color:n="#00AE1C"})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("desc",{children:"Created with Pixso."}),h.jsx("defs",{}),h.jsx("path",{id:"Vector",d:"M10.66 0L1.33 0C0.97 0 0.64 0.14 0.39 0.39C0.14 0.64 0 0.97 0 1.33L0 10.66C0 11.02 0.14 11.35 0.39 11.6C0.64 11.85 0.97 12 1.33 12L10.66 12C11.02 12 11.35 11.85 11.6 11.6C11.85 11.35 12 11.02 12 10.66L12 1.33C12 0.97 11.85 0.64 11.6 0.39C11.35 0.14 11.02 0 10.66 0ZM4.66 9.33L1.33 6L2.27 5.06L4.66 7.44L9.72 2.38L10.66 3.33L4.66 9.33Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})]}),ZR=({color:t="#323749",width:e=16,height:n=16})=>h.jsxs("svg",{"data-testid":"icon-close-eye",width:`${e}`,height:`${n}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{}),h.jsx("path",{id:"Vector",d:"M2.03 6.2C2 6.12 1.99 6.03 2 5.94C2 5.85 2.03 5.76 2.07 5.68C2.11 5.6 2.17 5.53 2.23 5.48C2.3 5.42 2.38 5.38 2.47 5.35C2.55 5.33 2.64 5.32 2.73 5.33C2.82 5.34 2.91 5.36 2.98 5.41C3.06 5.45 3.13 5.51 3.19 5.58C3.24 5.65 3.28 5.73 3.3 5.82C4.7 10.47 11.29 10.48 12.68 5.82C12.71 5.74 12.75 5.66 12.81 5.59C12.86 5.52 12.93 5.46 13.01 5.42C13.08 5.38 13.17 5.36 13.25 5.35C13.34 5.34 13.43 5.35 13.51 5.37C13.6 5.4 13.68 5.44 13.74 5.49C13.81 5.55 13.87 5.61 13.91 5.69C13.95 5.77 13.98 5.85 13.99 5.94C14 6.03 13.99 6.12 13.96 6.2C13.72 7.03 13.31 7.81 12.75 8.48L13.6 9.33C13.73 9.45 13.79 9.62 13.79 9.8C13.79 9.97 13.72 10.14 13.6 10.26C13.47 10.39 13.31 10.46 13.13 10.46C12.96 10.46 12.79 10.39 12.66 10.27L11.79 9.4C11.32 9.75 10.79 10.04 10.24 10.24L10.48 11.13C10.5 11.22 10.51 11.31 10.5 11.4C10.49 11.49 10.47 11.57 10.42 11.65C10.38 11.73 10.32 11.79 10.25 11.85C10.18 11.9 10.1 11.94 10.01 11.97C9.93 11.99 9.84 12 9.75 11.98C9.66 11.97 9.58 11.94 9.5 11.9C9.42 11.85 9.36 11.79 9.3 11.72C9.25 11.65 9.21 11.56 9.19 11.48L8.95 10.57C8.32 10.67 7.67 10.67 7.04 10.57L6.8 11.48C6.78 11.56 6.74 11.65 6.69 11.72C6.63 11.79 6.57 11.85 6.49 11.9C6.41 11.94 6.33 11.97 6.24 11.98C6.15 12 6.06 11.99 5.98 11.97C5.89 11.94 5.81 11.9 5.74 11.85C5.67 11.79 5.61 11.73 5.57 11.65C5.52 11.57 5.5 11.49 5.49 11.4C5.48 11.31 5.49 11.22 5.51 11.13L5.75 10.24C5.2 10.04 4.67 9.75 4.2 9.4L3.33 10.27C3.2 10.4 3.03 10.47 2.86 10.47C2.68 10.47 2.51 10.4 2.39 10.27C2.26 10.15 2.19 9.98 2.19 9.8C2.19 9.62 2.26 9.45 2.39 9.33L3.23 8.48C2.71 7.85 2.29 7.1 2.03 6.2L2.03 6.2Z",fill:t,"data-testid":"icon-close-eye-path",fillOpacity:"1.000000",fillRule:"nonzero"})]}),e6=({width:t=16,height:e=16})=>h.jsxs("svg",{"data-testid":"icon-open-eye",width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_430",children:h.jsx("rect",{id:"Property 1=eye-line",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=eye-line",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_430)",children:h.jsx("path",{id:"Vector",d:"M8 2.66C9.85 2.66 11.5 3.5 12.68 4.54C13.27 5.06 13.76 5.64 14.1 6.22C14.43 6.8 14.66 7.42 14.66 8C14.66 8.58 14.44 9.19 14.1 9.77C13.76 10.35 13.27 10.93 12.68 11.45C11.5 12.49 9.85 13.33 8 13.33C6.14 13.33 4.49 12.49 3.31 11.45C2.72 10.93 2.23 10.35 1.89 9.77C1.56 9.19 1.33 8.58 1.33 8C1.33 7.42 1.56 6.8 1.89 6.22C2.23 5.64 2.72 5.06 3.31 4.54C4.49 3.5 6.14 2.66 8 2.66ZM8 4C6.54 4 5.19 4.66 4.19 5.54C3.7 5.97 3.31 6.45 3.04 6.9C2.77 7.36 2.66 7.74 2.66 8C2.66 8.25 2.77 8.63 3.04 9.09C3.31 9.54 3.7 10.02 4.19 10.45C5.19 11.33 6.54 12 8 12C9.45 12 10.8 11.33 11.8 10.45C12.29 10.02 12.68 9.54 12.95 9.09C13.22 8.63 13.33 8.25 13.33 8C13.33 7.74 13.22 7.36 12.95 6.9C12.68 6.45 12.29 5.97 11.8 5.54C10.8 4.66 9.45 4 8 4ZM8 6C8.05 6 8.11 6 8.17 6C8.02 6.26 7.97 6.55 8.01 6.84C8.04 7.13 8.18 7.4 8.38 7.61C8.59 7.81 8.86 7.95 9.15 7.98C9.44 8.02 9.73 7.97 9.99 7.82C10.02 8.22 9.94 8.63 9.74 8.98C9.54 9.33 9.24 9.61 8.88 9.79C8.52 9.97 8.11 10.03 7.71 9.97C7.31 9.92 6.94 9.74 6.64 9.47C6.35 9.2 6.14 8.84 6.05 8.45C5.96 8.06 5.99 7.65 6.13 7.27C6.28 6.89 6.53 6.57 6.87 6.34C7.2 6.12 7.59 6 8 6Z",fill:"#323749",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),hw=({color:t="#ffffff",width:e=16,height:n=16})=>h.jsxs("svg",{"data-testid":"icon-arrow-right",width:`${e}`,height:`${n}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_445",children:h.jsx("rect",{id:"Property 1=chevron-right",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=chevron-right",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_445)",children:h.jsx("path",{id:"Vector",d:"M5.33 2.66L10.66 8L5.33 13.33",stroke:t,"data-testid":"icon-arrow-right-path",strokeOpacity:"1.000000",strokeWidth:"2.000000",strokeLinejoin:"round",strokeLinecap:"round"})})]}),fw=({width:t=16,height:e=16,color:n="#FFFFFF"})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_412",children:h.jsx("rect",{id:"Property 1=plus",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=plus",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_412)",children:h.jsx("path",{id:"Vector",d:"M14.25 8C14.25 8.19 14.17 8.38 14.03 8.53C13.88 8.67 13.69 8.75 13.5 8.75L8.75 8.75L8.75 13.5C8.75 13.69 8.67 13.88 8.53 14.03C8.38 14.17 8.19 14.25 8 14.25C7.8 14.25 7.61 14.17 7.46 14.03C7.32 13.88 7.25 13.69 7.25 13.5L7.25 8.75L2.5 8.75C2.3 8.75 2.11 8.67 1.96 8.53C1.82 8.38 1.75 8.19 1.75 8C1.75 7.8 1.82 7.61 1.96 7.46C2.11 7.32 2.3 7.25 2.5 7.25L7.25 7.25L7.25 2.5C7.25 2.3 7.32 2.11 7.46 1.96C7.61 1.82 7.8 1.75 8 1.75C8.19 1.75 8.38 1.82 8.53 1.96C8.67 2.11 8.75 2.3 8.75 2.5L8.75 7.25L13.5 7.25C13.69 7.25 13.88 7.32 14.03 7.46C14.17 7.61 14.25 7.8 14.25 8Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})})]}),t6=({width:t=16,height:e=16,color:n="#FFFFFF"})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_416",children:h.jsx("rect",{id:"Property 1=trash",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=trash",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_416)",children:h.jsx("path",{id:"Vector",d:"M13.5 3L11 3L11 2.5C11 2.1 10.84 1.72 10.56 1.43C10.27 1.15 9.89 1 9.5 1L6.5 1C6.1 1 5.72 1.15 5.43 1.43C5.15 1.72 5 2.1 5 2.5L5 3L2.5 3C2.36 3 2.24 3.05 2.14 3.14C2.05 3.24 2 3.36 2 3.5C2 3.63 2.05 3.75 2.14 3.85C2.24 3.94 2.36 4 2.5 4L3 4L3 13C3 13.26 3.1 13.51 3.29 13.7C3.48 13.89 3.73 14 4 14L12 14C12.26 14 12.51 13.89 12.7 13.7C12.89 13.51 13 13.26 13 13L13 4L13.5 4C13.63 4 13.75 3.94 13.85 3.85C13.94 3.75 14 3.63 14 3.5C14 3.36 13.94 3.24 13.85 3.14C13.75 3.05 13.63 3 13.5 3ZM7 10.5C7 10.63 6.94 10.75 6.85 10.85C6.75 10.94 6.63 11 6.5 11C6.36 11 6.24 10.94 6.14 10.85C6.05 10.75 6 10.63 6 10.5L6 6.5C6 6.36 6.05 6.24 6.14 6.14C6.24 6.05 6.36 6 6.5 6C6.63 6 6.75 6.05 6.85 6.14C6.94 6.24 7 6.36 7 6.5L7 10.5ZM10 10.5C10 10.63 9.94 10.75 9.85 10.85C9.75 10.94 9.63 11 9.5 11C9.36 11 9.24 10.94 9.14 10.85C9.05 10.75 9 10.63 9 10.5L9 6.5C9 6.36 9.05 6.24 9.14 6.14C9.24 6.05 9.36 6 9.5 6C9.63 6 9.75 6.05 9.85 6.14C9.94 6.24 10 6.36 10 6.5L10 10.5ZM10 3L6 3L6 2.5C6 2.36 6.05 2.24 6.14 2.14C6.24 2.05 6.36 2 6.5 2L9.5 2C9.63 2 9.75 2.05 9.85 2.14C9.94 2.24 10 2.36 10 2.5L10 3Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})})]}),n6=({width:t=16,height:e=16})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_438",children:h.jsx("rect",{id:"Property 1=Google",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=Google",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsxs("g",{clipPath:"url(#clip1_438)",children:[h.jsx("path",{id:"Vector",d:"M14.53 6.69L14 6.69L14 6.66L8 6.66L8 9.33L11.76 9.33C11.21 10.88 9.74 12 8 12C5.79 12 4 10.2 4 7.99C4 5.79 5.79 3.99 8 3.99C9.01 3.99 9.94 4.38 10.65 5.01L12.53 3.12C11.34 2.01 9.75 1.33 8 1.33C4.31 1.33 1.33 4.31 1.33 7.99C1.33 11.68 4.31 14.66 8 14.66C11.68 14.66 14.66 11.68 14.66 7.99C14.66 7.55 14.62 7.11 14.53 6.69Z",fill:"#FFC107",fillOpacity:"1.000000",fillRule:"nonzero"}),h.jsx("path",{id:"Vector",d:"M2.1 4.89L4.29 6.5C4.88 5.03 6.32 3.99 8 3.99C9.01 3.99 9.94 4.38 10.65 5.01L12.53 3.12C11.34 2.01 9.75 1.33 8 1.33C5.43 1.33 3.21 2.77 2.1 4.89Z",fill:"#FF3D00",fillOpacity:"1.000000",fillRule:"nonzero"}),h.jsx("path",{id:"Vector",d:"M8 14.66C9.72 14.66 11.28 14 12.46 12.93L10.4 11.19C9.71 11.71 8.86 12 8 12C6.26 12 4.79 10.89 4.23 9.35L2.06 11.02C3.16 13.18 5.4 14.66 8 14.66Z",fill:"#4CAF50",fillOpacity:"1.000000",fillRule:"nonzero"}),h.jsx("path",{id:"Vector",d:"M14.53 6.69L14 6.69L14 6.66L8 6.66L8 9.33L11.76 9.33C11.5 10.07 11.03 10.71 10.4 11.19L10.4 11.18L12.46 12.93C12.32 13.06 14.66 11.33 14.66 8C14.66 7.55 14.62 7.11 14.53 6.69Z",fill:"#1976D2",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),pw=({width:t=16,height:e=16})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_449",children:h.jsx("rect",{id:"Property 1=chevron-down",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=chevron-down",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_449)",children:h.jsx("path",{id:"Vector",d:"M2.66 6L8 11.33L13.33 6",stroke:"#323749",strokeOpacity:"1.000000",strokeWidth:"2.000000",strokeLinejoin:"round",strokeLinecap:"round"})})]}),mw=({color:t="#ffffff",width:e=16,height:n=16})=>h.jsxs("svg",{"data-testid":"icon-arrow-left",width:`${e}`,height:`${n}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_447",children:h.jsx("rect",{id:"Property 1=chevron-left",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=chevron-left",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_447)",children:h.jsx("path",{id:"Vector",d:"M10 2.66L4.66 8L10 13.33",stroke:t,"data-testid":"icon-arrow-left-path",strokeOpacity:"1.000000",strokeWidth:"2.000000",strokeLinejoin:"round",strokeLinecap:"round"})})]}),gw=({width:t=16,height:e=16,color:n="#323749"})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_465",children:h.jsx("rect",{id:"Property 1=edit",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=edit",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_465)",children:h.jsx("path",{id:"Vector",d:"M7.17 4.11L11.88 8.82L7.1 13.61C6.88 13.83 6.58 13.96 6.27 13.99L6.15 14L2.67 14C2.5 14 2.34 13.93 2.22 13.82C2.09 13.71 2.01 13.56 2 13.4L1.99 13.32L1.99 9.83C1.99 9.52 2.1 9.22 2.3 8.98L2.38 8.89L7.17 4.11ZM9.26 2.01C9.49 1.78 9.81 1.64 10.14 1.63C10.48 1.61 10.8 1.72 11.06 1.94L11.14 2.01L13.97 4.84C14.21 5.08 14.35 5.4 14.36 5.73C14.38 6.06 14.27 6.39 14.05 6.64L13.97 6.73L12.82 7.88L8.11 3.17L9.26 2.01Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})})]}),r6=({width:t=16,height:e=16})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_461",children:h.jsx("rect",{id:"Property 1=delete",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=delete",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_461)",children:h.jsx("path",{id:"Vector",d:"M5.21 2.24C5.3 1.97 5.47 1.74 5.7 1.58C5.92 1.42 6.2 1.33 6.48 1.33L9.51 1.33C9.79 1.33 10.07 1.42 10.29 1.58C10.52 1.74 10.69 1.97 10.78 2.24L11.14 3.33L13.33 3.33C13.51 3.33 13.67 3.4 13.8 3.52C13.92 3.65 14 3.82 14 3.99C14 4.17 13.92 4.34 13.8 4.47C13.67 4.59 13.51 4.66 13.33 4.66L12.66 4.66L12.66 12.66C12.66 13.19 12.45 13.7 12.08 14.08C11.7 14.45 11.19 14.66 10.66 14.66L5.33 14.66C4.8 14.66 4.29 14.45 3.91 14.08C3.54 13.7 3.33 13.19 3.33 12.66L3.33 4.66L2.66 4.66C2.48 4.66 2.32 4.59 2.19 4.47C2.07 4.34 2 4.17 2 3.99C2 3.82 2.07 3.65 2.19 3.52C2.32 3.4 2.48 3.33 2.66 3.33L4.85 3.33L5.21 2.24ZM6.25 3.33L6.48 2.66L9.51 2.66L9.74 3.33L6.25 3.33Z",fill:"#323749",fillOpacity:"1.000000",fillRule:"evenodd"})})]}),i6=({width:t=16,height:e=16})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_471",children:h.jsx("rect",{id:"Property 1=down-small",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"Property 1=down-small",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip1_471)",children:h.jsx("path",{id:"Vector",d:"M12 6C12.56 6 12.86 6.65 12.52 7.08L12.47 7.13L8.47 11.13C8.35 11.25 8.2 11.32 8.04 11.33C7.87 11.34 7.71 11.29 7.59 11.19L7.52 11.13L3.52 7.13L3.47 7.07L3.43 7.02L3.4 6.96L3.39 6.93L3.37 6.89L3.35 6.81L3.34 6.78L3.33 6.74L3.33 6.7L3.33 6.62L3.33 6.58L3.34 6.54L3.35 6.51L3.37 6.44L3.39 6.39L3.43 6.3L3.48 6.24L3.52 6.19L3.59 6.14L3.64 6.1L3.7 6.06L3.73 6.05L3.77 6.03L3.84 6.01L3.88 6.01L3.92 6L3.96 6L12 6Z",fill:"#323749",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),_w=({width:t=16,height:e=16})=>h.jsxs("svg",{width:`${t}`,height:`${e}`,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip1_476",children:h.jsx("rect",{id:"Property 1=close",rx:"7.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("path",{id:"Property 1=close",d:"M8 0L16 0L16 16L8 16C3.58 16 0 12.41 0 8C0 3.58 3.58 0 8 0Z",fill:"#FFFFFF",fillOpacity:"0",fillRule:"evenodd"}),h.jsx("g",{clipPath:"url(#clip1_476)",children:h.jsx("path",{id:"Vector",d:"M8 8.94L11.77 12.71C11.89 12.83 12.06 12.9 12.24 12.9C12.41 12.89 12.58 12.82 12.7 12.7C12.82 12.58 12.89 12.41 12.9 12.24C12.9 12.06 12.83 11.89 12.71 11.77L8.94 8L12.71 4.22C12.83 4.1 12.9 3.93 12.9 3.75C12.89 3.58 12.82 3.41 12.7 3.29C12.58 3.17 12.41 3.1 12.24 3.09C12.06 3.09 11.89 3.16 11.77 3.28L8 7.05L4.22 3.28C4.1 3.16 3.93 3.1 3.76 3.1C3.58 3.1 3.42 3.17 3.3 3.3C3.17 3.42 3.1 3.58 3.1 3.76C3.1 3.93 3.16 4.1 3.28 4.22L7.05 8L3.28 11.77C3.22 11.83 3.17 11.9 3.13 11.98C3.1 12.06 3.08 12.15 3.08 12.24C3.08 12.33 3.09 12.42 3.13 12.5C3.16 12.58 3.21 12.65 3.27 12.72C3.34 12.78 3.41 12.83 3.49 12.86C3.57 12.9 3.66 12.91 3.75 12.91C3.84 12.91 3.93 12.89 4.01 12.86C4.09 12.82 4.16 12.77 4.22 12.71L8 8.94Z",fill:"#323749",fillOpacity:"1.000000",fillRule:"evenodd"})})]}),fp=({width:t=52,height:e=40})=>h.jsxs("svg",{width:t,height:e,viewBox:"0 0 51.3137 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{}),h.jsx("rect",{id:"Rectangle 39",x:"11.313721",y:"20.000000",rx:"5.224828",width:"28.284269",height:"28.284269",transform:"rotate(-45 11.313721 20.000000)",fill:"#80D78D",fillOpacity:"1.000000"}),h.jsx("rect",{id:"Rectangle 40",y:"20.000000",rx:"5.224828",width:"28.284269",height:"28.284269",transform:"rotate(-45 0.000000 20.000000)",fill:"#00AE1C",fillOpacity:"1.000000"})]}),s6=({width:t=16,height:e=16})=>h.jsxs("svg",{width:t,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_1375",children:h.jsx("rect",{id:"ic:outline-color-lens",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"ic:outline-color-lens",rx:"0.500000",width:"15.000000",height:"15.000000",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsxs("g",{clipPath:"url(#clip0_1375)",children:[h.jsx("path",{id:"Vector",d:"M8 14.66C4.32 14.66 1.33 11.67 1.33 8C1.33 4.32 4.32 1.33 8 1.33C11.67 1.33 14.66 4.02 14.66 7.33C14.66 9.54 12.87 11.33 10.66 11.33L9.48 11.33C9.29 11.33 9.15 11.48 9.15 11.66C9.15 11.74 9.18 11.82 9.23 11.88C9.51 12.2 9.66 12.59 9.66 13C9.66 13.44 9.49 13.86 9.17 14.17C8.86 14.49 8.44 14.66 8 14.66ZM8 2.66C5.06 2.66 2.66 5.06 2.66 8C2.66 10.94 5.06 13.33 8 13.33C8.18 13.33 8.33 13.18 8.33 13C8.33 12.91 8.29 12.83 8.23 12.76C7.96 12.46 7.82 12.06 7.82 11.66C7.82 11.22 7.99 10.8 8.3 10.48C8.62 10.17 9.04 10 9.48 10L10.66 10C12.14 10 13.33 8.8 13.33 7.33C13.33 4.76 10.94 2.66 8 2.66Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"nonzero"}),h.jsx("path",{id:"Vector",d:"M5.33 7.66C5.33 8.21 4.88 8.66 4.33 8.66C3.78 8.66 3.33 8.21 3.33 7.66C3.33 7.11 3.78 6.66 4.33 6.66C4.88 6.66 5.33 7.11 5.33 7.66Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"evenodd"}),h.jsx("path",{id:"Vector",d:"M7.33 5C7.33 5.55 6.88 6 6.33 6C5.78 6 5.33 5.55 5.33 5C5.33 4.44 5.78 4 6.33 4C6.88 4 7.33 4.44 7.33 5Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"evenodd"}),h.jsx("path",{id:"Vector",d:"M10.66 5C10.66 5.55 10.21 6 9.66 6C9.11 6 8.66 5.55 8.66 5C8.66 4.44 9.11 4 9.66 4C10.21 4 10.66 4.44 10.66 5Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"evenodd"}),h.jsx("path",{id:"Vector",d:"M12.66 7.66C12.66 8.21 12.21 8.66 11.66 8.66C11.11 8.66 10.66 8.21 10.66 7.66C10.66 7.11 11.11 6.66 11.66 6.66C12.21 6.66 12.66 7.11 12.66 7.66Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"evenodd"})]})]}),pp=({width:t=16,height:e=16})=>h.jsxs("svg",{width:t,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_1371",children:h.jsx("rect",{id:"title",rx:"0.333333",width:"15.333333",height:"15.333333",transform:"translate(0.333333 0.333333)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"title",rx:"0.333333",width:"15.333333",height:"15.333333",transform:"translate(0.333333 0.333333)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip0_1371)",children:h.jsx("path",{id:"Vector",d:"M7.23 3.59L2.75 3.59C2.54 3.59 2.36 3.51 2.22 3.36C2.07 3.21 2 3.02 2 2.8C2 2.58 2.07 2.39 2.22 2.23C2.36 2.07 2.54 2 2.75 2L13.24 2C13.45 2 13.63 2.07 13.77 2.22C13.92 2.38 14 2.56 14 2.78C14 3 13.92 3.19 13.77 3.35C13.63 3.51 13.45 3.59 13.24 3.59L8.77 3.59L8.77 13.21C8.77 13.43 8.69 13.61 8.54 13.77C8.4 13.92 8.22 14 8 14C7.79 14 7.61 13.92 7.46 13.76C7.3 13.6 7.23 13.41 7.23 13.19L7.23 3.59Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),vw=({width:t=16,height:e=16})=>h.jsxs("svg",{width:t,height:e,viewBox:"0 0 13.3335 13.3333",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{}),h.jsx("path",{id:"Vector",d:"M1.12 8.96C1.42 9.69 1.86 10.35 2.42 10.9C2.98 11.46 3.64 11.9 4.37 12.2C5.09 12.51 5.87 12.66 6.66 12.66C7.45 12.66 8.23 12.51 8.96 12.2C9.69 11.9 10.35 11.46 10.9 10.9C11.46 10.35 11.9 9.69 12.21 8.96C12.51 8.23 12.66 7.45 12.66 6.66C12.66 5.07 12.03 3.54 10.9 2.42C9.78 1.29 8.25 0.66 6.66 0.66C5.07 0.66 3.54 1.29 2.42 2.42C1.29 3.54 0.66 5.07 0.66 6.66C0.66 7.45 0.82 8.23 1.12 8.96Z",stroke:"#5B5F6E",strokeOpacity:"1.000000",strokeWidth:"1.333333",strokeLinejoin:"round"}),h.jsx("path",{id:"Vector",d:"M6.66 3.33L6.66 6.66L8.66 8.66",stroke:"#5B5F6E",strokeOpacity:"1.000000",strokeWidth:"1.333333",strokeLinejoin:"round",strokeLinecap:"round"})]}),yw=({width:t=16,height:e=16})=>h.jsxs("svg",{width:t,height:e,viewBox:"0 0 12 13.3333",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("desc",{children:"Created with Pixso."}),h.jsx("defs",{}),h.jsx("path",{id:"Vector",d:"M3.33 8C3.14 8 2.98 7.93 2.85 7.8C2.72 7.67 2.66 7.52 2.66 7.33C2.66 7.14 2.73 6.98 2.85 6.85C2.98 6.72 3.14 6.66 3.33 6.66C3.52 6.66 3.68 6.73 3.8 6.85C3.93 6.98 4 7.14 4 7.33C4 7.52 3.93 7.68 3.8 7.8C3.67 7.93 3.52 8 3.33 8ZM6 8C5.81 8 5.65 7.93 5.52 7.8C5.39 7.67 5.33 7.52 5.33 7.33C5.33 7.14 5.39 6.98 5.52 6.85C5.65 6.72 5.81 6.66 6 6.66C6.18 6.66 6.34 6.73 6.47 6.85C6.6 6.98 6.66 7.14 6.66 7.33C6.66 7.52 6.6 7.68 6.47 7.8C6.34 7.93 6.18 8 6 8ZM8.66 8C8.47 8 8.31 7.93 8.19 7.8C8.06 7.67 7.99 7.52 8 7.33C8 7.14 8.06 6.98 8.19 6.85C8.32 6.72 8.47 6.66 8.66 6.66C8.85 6.66 9.01 6.73 9.14 6.85C9.27 6.98 9.33 7.14 9.33 7.33C9.33 7.52 9.26 7.68 9.14 7.8C9.01 7.93 8.85 8 8.66 8ZM1.33 13.33C0.96 13.33 0.65 13.2 0.39 12.94C0.12 12.68 -0.01 12.36 0 12L0 2.66C0 2.29 0.13 1.98 0.39 1.72C0.65 1.46 0.96 1.33 1.33 1.33L2 1.33L2 0.66C2 0.47 2.06 0.31 2.19 0.19C2.32 0.06 2.47 -0.01 2.66 0C2.85 0 3.01 0.06 3.14 0.19C3.27 0.32 3.33 0.47 3.33 0.66L3.33 1.33L8.66 1.33L8.66 0.66C8.66 0.47 8.73 0.31 8.85 0.19C8.98 0.06 9.14 -0.01 9.33 0C9.52 0 9.68 0.06 9.8 0.19C9.93 0.32 10 0.47 10 0.66L10 1.33L10.66 1.33C11.03 1.33 11.34 1.46 11.6 1.72C11.87 1.98 12 2.3 12 2.66L12 12C12 12.36 11.86 12.68 11.6 12.94C11.34 13.2 11.03 13.33 10.66 13.33L1.33 13.33ZM1.33 12L10.66 12L10.66 5.33L1.33 5.33L1.33 12Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"nonzero"})]}),ww=({width:t=16,height:e=16})=>h.jsxs("svg",{width:t,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_1733",children:h.jsx("rect",{id:"pdescription",rx:"0.333333",width:"15.333333",height:"15.333333",transform:"translate(0.333333 0.333333)",fill:"white",fillOpacity:"0"})})}),h.jsx("rect",{id:"pdescription",rx:"0.333333",width:"15.333333",height:"15.333333",transform:"translate(0.333333 0.333333)",fill:"#FFFFFF",fillOpacity:"0"}),h.jsx("g",{clipPath:"url(#clip0_1733)",children:h.jsx("path",{id:"Vector",d:"M2 4.08C2 3.88 2.05 3.69 2.16 3.55C2.27 3.41 2.41 3.33 2.56 3.33L13.43 3.33C13.58 3.33 13.72 3.41 13.83 3.55C13.94 3.69 14 3.88 14 4.08C14 4.28 13.94 4.47 13.83 4.61C13.72 4.75 13.58 4.83 13.43 4.83L2.56 4.83C2.41 4.83 2.27 4.75 2.16 4.61C2.05 4.47 2 4.28 2 4.08ZM2 8.33C2 8.13 2.05 7.94 2.16 7.8C2.27 7.66 2.41 7.58 2.56 7.58L13.43 7.58C13.58 7.58 13.72 7.66 13.83 7.8C13.94 7.94 14 8.13 14 8.33C14 8.53 13.94 8.72 13.83 8.86C13.72 9 13.58 9.08 13.43 9.08L2.56 9.08C2.41 9.08 2.27 9 2.16 8.86C2.05 8.72 2 8.53 2 8.33ZM2.56 11.83C2.41 11.83 2.27 11.91 2.16 12.05C2.05 12.19 2 12.38 2 12.58C2 12.78 2.05 12.97 2.16 13.11C2.27 13.25 2.41 13.33 2.56 13.33L9.68 13.33C9.83 13.33 9.97 13.25 10.08 13.11C10.19 12.97 10.25 12.78 10.25 12.58C10.25 12.38 10.19 12.19 10.08 12.05C9.97 11.91 9.83 11.83 9.68 11.83L2.56 11.83Z",fill:"#5B5F6E",fillOpacity:"1.000000",fillRule:"evenodd"})})]}),o6="_checkbox_1vh3a_3",l6="_checkboxWrapper_1vh3a_9",a6="_input_1vh3a_16",c6="_checkboxSquare_1vh3a_23",u6="_label_1vh3a_33",d6="_wrapperIcon_1vh3a_37",qr={checkbox:o6,checkboxWrapper:l6,input:a6,checkboxSquare:c6,label:u6,wrapperIcon:d6},Cw=({label:t,isCheck:e=!1,onChange:n,color:r="#00AE1C"})=>{const[i,s]=E.useState(e),o=()=>{const l=!i;s(l),n&&n(l)};return h.jsxs("label",{htmlFor:t,className:qr.checkbox,children:[h.jsxs("div",{className:qr.checkboxWrapper,children:[h.jsx("input",{id:t,type:"checkbox",name:t,checked:i,onChange:o,className:qr.input,role:"checkbox"}),!i&&h.jsx("div",{className:qr.checkboxSquare}),i&&h.jsx("div",{className:qr.wrapperIcon,children:h.jsx(JR,{width:12,height:12,color:r})})]}),h.jsx("span",{className:qr.label,children:t})]})},h6=({isVisible:t,isDisabled:e})=>h.jsx(h.Fragment,{children:t?h.jsx(e6,{}):h.jsx(ZR,{color:e?"#737373":"#323749"})}),f6="_inputWrapper_mbw51_3",p6="_inputLabel_mbw51_10",m6="_inputFieldWrapper_mbw51_18",g6="_inputField_mbw51_18",_6="_inputFieldFocus_mbw51_38",v6="_inputButton_mbw51_47",y6="_error_mbw51_56",w6="_errorInput_mbw51_62",C6="_disabled_mbw51_66",E6="_disable_mbw51_66",Ht={inputWrapper:f6,inputLabel:p6,inputFieldWrapper:m6,inputField:g6,inputFieldFocus:_6,inputButton:v6,error:y6,errorInput:w6,disabled:C6,disable:E6},Wi=({type:t,placeholder:e,value:n,label:r,error:i,isDisabled:s,onChange:o,readonly:l=!1})=>{const[a,c]=E.useState(t!=="password"),u=t==="password"&&!a?"password":"text",d=()=>{c(()=>!a)},f=Ut(Ht.inputField,{[Ht.disabled]:s,[Ht.errorInput]:i}),p=Ut(Ht.inputLabel,{[Ht.disabled]:s}),v=`${Dr()}-input-${r}`;return h.jsxs("div",{className:Ht.inputWrapper,"data-testid":"input",children:[h.jsx("label",{className:p,htmlFor:v,children:r}),h.jsxs("div",{className:Ht.inputFieldWrapper,children:[h.jsx("input",{id:v,"data-testid":"input-field",name:"input",className:f,type:u,placeholder:e,value:n,onChange:o,disabled:s,readOnly:l}),t==="password"&&h.jsx("button",{className:Ht.inputButton,type:"button",disabled:s,"aria-disabled":s,onClick:d,children:h.jsx(h6,{isVisible:a,isDisabled:s})})]}),i&&h.jsx("span",{"data-testid":"input-error",className:Ht.error,children:"Error message"})]})},S6=["#9F2957","#D90056","#E25D33","#DFC45A","#B8C42F","#16AF6E","#429488","#397E49","#439BDF","#4254AF","#6C7AC4","#8332A4"],I6="_pickerWrapper_14hpf_3",k6="_pickerContainer_14hpf_14",T6="_pickerItem_14hpf_19",x6="_colorWrapper_14hpf_29",ml={pickerWrapper:I6,pickerContainer:k6,pickerItem:T6,colorWrapper:x6},P6=({pickColor:t,onClick:e})=>h.jsx("div",{className:ml.pickerWrapper,"data-testid":"colour-picker",children:S6.map(n=>h.jsxs("div",{className:ml.pickerContainer,children:[h.jsx("div",{className:`${ml.colorWrapper}`,"data-testid":`selected-color-indicator-${n}`,style:{visibility:`${t===n?"visible":"hidden"}`}}),h.jsx("div",{onClick:e,"data-testid":n,color:n,className:ml.pickerItem,style:{backgroundColor:n}})]},n))}),Ew=({onChange:t,onClose:e})=>{const[n,r]=E.useState(!1),i=E.useRef(null),s=E.useCallback(c=>{r(!1),t==null||t(c)},[t]),o=E.useCallback(()=>{r(c=>!c)},[]),l=E.useCallback(c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),r(u=>!u))},[]),a=E.useCallback(c=>{var d;const{target:u}=c;u instanceof Node&&!((d=i.current)!=null&&d.contains(u))&&(n&&e&&e(),r(!1))},[n,e]);return E.useEffect(()=>(window.addEventListener("click",a),()=>{window.removeEventListener("click",a)}),[a]),{rootRef:i,isOpen:n,handleKeyDown:l,handlePlaceHolderClick:o,handleOptionClick:s}},Sw=t=>{const{option:{value:e,title:n},onClick:r}=t,i=E.useRef(null),s=l=>()=>{r(l)},o=E.useCallback(l=>{const a=i.current;a&&document.activeElement===a&&l.key==="Enter"&&r(e)},[e,r]);return E.useEffect(()=>{const l=i.current;if(l)return l.addEventListener("keydown",o),()=>{l.removeEventListener("keydown",o)}},[o]),{value:e,title:n,handleClick:s,optionRef:i}},N6="_optionWrapper_1sobn_3",R6="_option_1sobn_3",D6="_optionSelected_1sobn_19",Eu={optionWrapper:N6,option:R6,optionSelected:D6},O6=t=>{const{option:e,selected:n,onClick:r}=t,{value:i,title:s,handleClick:o,optionRef:l}=Sw({option:e,onClick:r}),a=Ut(Eu.option,{[Eu.optionSelected]:(n==null?void 0:n.value)===i});return h.jsxs("div",{className:Eu.optionWrapper,style:{backgroundColor:`${(n==null?void 0:n.value)===i?"#e3e3e3":""}`},children:[t.isHaveColor&&h.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:`${t.option.value}`,borderRadius:"4px",marginLeft:"16px"}}),h.jsx("li",{className:a,value:i,onClick:o(i),tabIndex:0,ref:l,children:s})]})},A6="_select_cumna_3",L6="_selectWrapper_cumna_16",b6="_selectLabel_cumna_22",M6="_placeholder_cumna_30",j6="_option_cumna_38",F6="_selectColor_cumna_43",gl={select:A6,selectWrapper:L6,selectLabel:b6,placeholder:M6,option:j6,selectColor:F6},Ua=t=>{var f,p;const{options:e,placeholder:n,selected:r,onChange:i,onClose:s,label:o}=t,{rootRef:l,isOpen:a,handleKeyDown:c,handlePlaceHolderClick:u,handleOptionClick:d}=Ew({onChange:i,onClose:s});return h.jsxs("div",{className:gl.selectWrapper,style:t.style,role:"button",ref:l,"data-is-active":a,onKeyDown:c,children:[h.jsx("span",{className:gl.selectLabel,children:o}),h.jsxs("div",{className:gl.placeholder,onClick:u,tabIndex:0,children:[t.isHaveColor&&h.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:`${(f=t.selected)==null?void 0:f.value}`,borderRadius:"4px"}}),((p=t.selected)==null?void 0:p.title)||n]}),a&&h.jsx("ul",{className:gl.select,children:e.map((v,y)=>h.jsx(O6,{index:y,option:v,onClick:d,selected:r,isHaveColor:t.isHaveColor},v.value))})]})},U6=({isOpen:t=!1,onClose:e})=>{const[n,r]=E.useState(t),i=E.useRef(null),s=()=>{e&&e(),r(!1)},o=l=>{l.key==="Escape"&&s()};return E.useEffect(()=>{r(t)},[t]),E.useEffect(()=>{const l=i.current;l&&(n?l.showModal():l.close())},[n]),{modalRef:i,handleKeyDown:o,handleCloseModal:s}},W6="_modalWrapper_rr4jm_3",$6="_modalTitleClose_rr4jm_11",z6="_modalTitle_rr4jm_11",B6="_modalClose_rr4jm_27",H6="_modalHide_rr4jm_40",V6="_modalCrud_rr4jm_43",G6="_modalControl_rr4jm_44",K6="_modalCrudButton_rr4jm_50",mt={modalWrapper:W6,modalTitleClose:$6,modalTitle:z6,modalClose:B6,modalHide:H6,modalCrud:V6,modalControl:G6,modalCrudButton:K6},$o=({title:t,text:e,children:n,isOpen:r,onClose:i,maxWidth:s="488px",isCrud:o=!1,openDeleteModal:l,openEditModal:a})=>{const{modalRef:c,handleKeyDown:u,handleCloseModal:d}=U6({isOpen:r,onClose:i}),f=Ut(mt.modalWrapper,{[mt.modalHide]:!r});return h.jsx(h.Fragment,{children:h.jsx("dialog",{className:f,style:{maxWidth:s},ref:c,"data-testid":"modal",onKeyDown:u,children:h.jsxs("div",{className:mt.modalMainContent,children:[h.jsxs("div",{className:mt.modalTitleClose,children:[h.jsx("h3",{className:mt.modalTitle,children:t}),h.jsxs("div",{className:mt.modalControl,children:[o&&h.jsxs("div",{className:mt.modalCrud,children:[h.jsx("button",{onClick:a,className:mt.modalCrudButton,children:h.jsx(gw,{})}),h.jsx("button",{onClick:l,className:mt.modalCrudButton,children:h.jsx(r6,{})})]}),h.jsx("button",{role:"button",className:mt.modalClose,"data-testid":"modal-close-button",onClick:()=>{d()},children:h.jsx(_w,{})})]})]}),h.jsxs("div",{className:mt.modalContent,children:[e&&h.jsx("p",{children:e})," ",n]})]})})})},q6=({isOpen:t,onClose:e})=>{E.useEffect(()=>{if(t){const n=setTimeout(()=>{e&&e()},4e3);return()=>{clearTimeout(n)}}},[t,e])},Y6="_toast_k1qbj_3",Q6="_slidein_k1qbj_1",X6="_toastClose_k1qbj_23",J6="_show_k1qbj_35",Z6="_hide_k1qbj_39",_l={toast:Y6,slidein:Q6,toastClose:X6,show:J6,hide:Z6},mp=({text:t,isOpen:e,onClose:n})=>{const r=ft(),i=Ut(_l.toast,{[_l.hide]:!e,[_l.show]:e}),s=()=>{n&&(n(),r(sw()))};return q6({isOpen:e,onClose:n}),h.jsxs("div",{className:i,"data-testid":"toast",children:[h.jsx("span",{children:t}),h.jsx("button",{"data-testid":"close-toast","aria-label":"Close toast notification",className:_l.toastClose,onClick:s,children:h.jsx(_w,{})})]})},eD="_option_118lo_3",tD="_selectedItem_118lo_25",r_={option:eD,selectedItem:tD},nD=t=>{const{option:e,selected:n,onClick:r}=t,{value:i,title:s,handleClick:o,optionRef:l}=Sw({option:e,onClick:r}),a=Ut({[r_.selectedItem]:(n==null?void 0:n.value)===i},r_.option);return h.jsx("li",{"data-testid":`dropdown-option-${t.index+1}`,className:a,value:i,onClick:o(i),tabIndex:0,ref:l,children:s})},rD="_dropdownWrapper_eqdxd_3",iD="_placeholderWrapper_eqdxd_12",sD="_placeholder_eqdxd_12",oD="_dropdownList_eqdxd_36",lD="_openDropdown_eqdxd_47",ms={dropdownWrapper:rD,placeholderWrapper:iD,placeholder:sD,dropdownList:oD,openDropdown:lD},aD=t=>{const{options:e,placeholder:n,selected:r,onChange:i,onClose:s}=t,{rootRef:o,isOpen:l,handleKeyDown:a,handlePlaceHolderClick:c,handleOptionClick:u}=Ew({onChange:i,onClose:s}),d=Ut(ms.placeholderWrapper,{[ms.openDropdown]:l});return h.jsxs("div",{"data-testid":"dropdown",className:ms.dropdownWrapper,ref:o,"data-is-active":l,onKeyDown:a,children:[h.jsxs("div",{"data-testid":"dropdown-placeholder-wrapper",onClick:c,role:"button",tabIndex:0,className:d,children:[h.jsx("div",{"data-testid":"dropdown-placeholder",className:ms.placeholder,children:(r==null?void 0:r.title)||n}),h.jsx(i6,{})]}),l&&h.jsx("ul",{className:ms.dropdownList,"data-testid":"dropdown-list",children:e.map((f,p)=>h.jsx(nD,{option:f,onClick:u,selected:r,index:p},f.value))})]})},cD="_datePickerHeader_1i9h9_3",uD="_datePickerMonth_1i9h9_9",dD="_selectMonth_1i9h9_16",hD="_datePickerNextMonth_1i9h9_22",fD="_datePickerPrevMonth_1i9h9_23",gs={datePickerHeader:cD,datePickerMonth:uD,selectMonth:dD,datePickerNextMonth:hD,datePickerPrevMonth:fD},pD=({titleMonth:t,titleYear:e,goToPrevMonth:n,goToNextMonth:r})=>h.jsxs("div",{className:gs.datePickerHeader,children:[h.jsxs("span",{className:gs.datePickerMonth,"data-testid":"datepicker-header-title",children:[t," ",e]}),h.jsxs("div",{className:gs.selectMonth,children:[h.jsx("button",{"aria-label":"previous-month","data-testid":"datepicker-previous-month",className:gs.datePickerPrevMonth,onClick:n,children:h.jsx(mw,{color:"#323749"})}),h.jsx("button",{"aria-label":"next-month","data-testid":"datepicker-next-month",className:gs.datePickerNextMonth,onClick:r,children:h.jsx(hw,{color:"#323749"})})]})]}),mD="_calendar_rtc70_3",gD="_calendarHeader_rtc70_9",_D="_calendarDayOfWeek_rtc70_16",vD="_calendarContent_rtc70_23",yD="_calendarDayItem_rtc70_29",wD="_calendarDayNumber_rtc70_34",CD="_today_rtc70_51",ED="_anotherMonth_rtc70_57",Cn={calendar:mD,calendarHeader:gD,calendarDayOfWeek:_D,calendarContent:vD,calendarDayItem:yD,calendarDayNumber:wD,today:CD,anotherMonth:ED},SD=t=>t!==void 0?t+1:0,ID=({daysInCurrentMonth:t,setSelectedDate:e,setDateToSpecificDay:n,selectDate:r,onClose:i})=>{const s=["S","M","T","W","T","F","S"],o=(l,a)=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),e(a))};return h.jsxs("div",{className:Cn.calendar,"data-testid":"datepicker-calendar",children:[h.jsx("div",{className:Cn.calendarHeader,children:s.map(l=>h.jsx("span",{className:Cn.calendarDayOfWeek,children:l},Dr()))}),h.jsx("ul",{className:Cn.calendarContent,children:t.map(({day:l,isCurrentMonth:a,isSelected:c,date:u,index:d})=>{const f=Ut(Cn.calendarDayNumber,{[Cn.anotherMonth]:!a,[Cn.today]:c});return h.jsx("li",{className:Cn.calendarDayItem,children:h.jsx("span",{"data-testid":`datepicker-day-${l}`,tabIndex:SD(d),onClick:()=>{e(u),n&&n(u),r&&r(u),i&&i()},onKeyDown:p=>o(p,u),className:f,children:l})},Dr())})})]})},kD=t=>{const e=t.toLocaleString("default",{month:"long"}),n=t.getFullYear(),r=t.getMonth()+1;return{titleMonth:e,year:n,numberMonth:r}},TD=({selectedDate:t})=>{const[,e]=E.useState(t),[n,r]=E.useState(new Date),i=p=>{e(p)},s=()=>{const p=new Date(n.getFullYear(),n.getMonth()+1,1);r(p)},o=()=>{const p=new Date(n.getFullYear(),n.getMonth()-1,1);r(p)},l=kD(n),a=(p,v)=>{const g=new Date(v,p-1,1).getDay(),m=p===1?12:p-1,_=p===1?v-1:v,w=new Date(_,m,0).getDate(),S=new Date(v,p,0).getDate(),I=new Array(42).fill({day:0,isCurrentMonth:!1,isToday:!1,date:""}),x=(j,q,Ke)=>`${String(j).padStart(2,"0")}/${String(q).padStart(2,"0")}/${Ke}`;for(let j=g-1;j>=0;j--){const q=w-(g-j-1);I[j]={day:q,isCurrentMonth:!1,isSelected:!1,date:x(q,m,_)}}for(let j=1;j<=S;j++){const q=x(j,p,v);I[g+j-1]={day:j,isCurrentMonth:!0,isSelected:q===t,date:q}}const k=g+S,D=p===12?1:p+1,O=p===12?v+1:v;for(let j=1;k+j-1<42;j++)I[k+j-1]={day:j,isCurrentMonth:!1,isSelected:!1,date:x(j,D,O)};return I},c=l.year,u=+l.numberMonth,d=l.titleMonth,f=a(+u,c);return{titleMonth:d,titleYear:c,goToPrevMonth:o,goToNextMonth:s,daysInCurrentMonth:f,selectDate:i,selectedDate:t}},xD="_datePicker_1lfud_3",PD="_datePickerHide_1lfud_15",i_={datePicker:xD,datePickerHide:PD},Iw=({setDateToSpecificDay:t,setSelectDate:e,selectedDate:n,isOpen:r=!0,onClose:i})=>{const{titleMonth:s,titleYear:o,goToPrevMonth:l,goToNextMonth:a,daysInCurrentMonth:c,selectDate:u}=TD({selectedDate:n}),d=Ut(i_.datePicker,{[i_.datePickerHide]:!r});return h.jsxs("div",{className:d,children:[h.jsx(pD,{titleMonth:s,titleYear:o,goToPrevMonth:l,goToNextMonth:a}),h.jsx(ID,{daysInCurrentMonth:c,setSelectedDate:u,setDateToSpecificDay:t,selectDate:e,onClose:i})]})},ND="_appContainer_1hoa5_1",RD={appContainer:ND},kw=({children:t})=>h.jsx("div",{className:RD.appContainer,children:t}),DD="_createCalendar_1b3uo_1",OD="_createTitleWrapper_1b3uo_7",AD="_chooseColour_1b3uo_13",LD="_colourPickerWrapper_1b3uo_19",bD="_colourSub_1b3uo_26",MD="_save_1b3uo_32",Yr={createCalendar:DD,createTitleWrapper:OD,chooseColour:AD,colourPickerWrapper:LD,colourSub:bD,save:MD},Tw=({titleText:t,isOpen:e,onClose:n,action:r,valueTitle:i,label:s,id:o})=>{const l=ft(),{title:a,pickColor:c,handleChange:u,pickerHandle:d,handleAction:f}=UR({valueTitle:i,action:r,id:o}),p=`${r==="create"?"created":"edited"}`,y=`${`${t.split(" ")[1]==="calendar"?"Calendar":"Event"}`} ${p}`,C=()=>{l(dp(y))};return h.jsx($o,{isOpen:e,onClose:n,maxWidth:"278px",title:t,children:h.jsxs("div",{className:Yr.createCalendar,children:[h.jsxs("div",{className:Yr.createTitleWrapper,children:[h.jsx(pp,{}),h.jsx(Wi,{placeholder:"Enter title",type:"text",value:a||"",label:s,onChange:u})]}),h.jsxs("div",{className:Yr.chooseColour,children:[h.jsx(s6,{}),h.jsxs("div",{className:Yr.colourPickerWrapper,children:[h.jsx("span",{className:Yr.colourSub,children:"Colour"}),h.jsx(P6,{pickColor:c,onClick:d})]})]}),h.jsx("div",{className:Yr.save,children:h.jsx(bt,{onClick:()=>{f(),n(),C()},variant:"primary",children:"Save"})})]})})},jD=({title:t,id:e,color:n})=>{const r=se(Ic),i=se(vn),s=i==null?void 0:i.filter(g=>g.id===e)[0],o=ft(),[l,a]=E.useState(!1),[c,u]=E.useState(!1),f=n==="#52616b"?"This calendar cannot be deleted":`Are you sure you want to delete ${t}? You'll no longer have access to this calendar and its events.`;return{modal:l,textRemoveModal:f,handleClose:()=>a(!1),editCalendarModalHandle:()=>{u(!c)},presenceHandler:()=>{if(r&&s){const g={...s,isVisible:!s.isVisible};o(X1({userID:r,calendar:g})),o(Ft(r))}},deleteHandle:g=>{r&&(o(hR({calendarID:g,userID:r})),o(Ft(r)))},setModal:a,editCalendarModal:c}},FD="_removeItemContent_a44vt_1",UD="_removeItemControl_a44vt_7",WD="_removeItemText_a44vt_14",Su={removeItemContent:FD,removeItemControl:UD,removeItemText:WD},xw=({text:t,onClose:e,action:n,actionSub:r,color:i})=>{const s=ft(),o=se(iw),l=se(rw);return h.jsxs("div",{className:Su.removeItemContent,children:[h.jsx("p",{className:Su.removeItemText,children:t}),h.jsxs("div",{className:Su.removeItemControl,children:[h.jsx(bt,{onClick:e,variant:"secondary",children:"Cancel"}),h.jsx(bt,{isDisabled:i==="#52616b",onClick:()=>{e(),n(),s(dp(r))},variant:"primary",children:"Delete"})]}),h.jsx(mp,{isOpen:o,text:l})]})},$D="_calendarItem_1tynp_1",zD="_calendarItemLeft_1tynp_10",BD="_calendarItemRight_1tynp_15",HD="_calendarItemTitle_1tynp_22",VD="_calendarItemButton_1tynp_30",GD="_removeItemContent_1tynp_40",KD="_removeItemControl_1tynp_46",Qr={calendarItem:$D,calendarItemLeft:zD,calendarItemRight:BD,calendarItemTitle:HD,calendarItemButton:VD,removeItemContent:GD,removeItemControl:KD},qD=({title:t,color:e,id:n,isVisible:r})=>{const{modal:i,textRemoveModal:s,handleClose:o,editCalendarModalHandle:l,presenceHandler:a,deleteHandle:c,setModal:u,editCalendarModal:d}=jD({title:t,id:n,color:e});return h.jsxs("li",{className:Qr.calendarItem,children:[h.jsxs("div",{className:Qr.calendarItemLeft,children:[h.jsx(Cw,{isCheck:r,onChange:()=>a(),color:e}),h.jsx("h4",{className:Qr.calendarItemTitle,children:t})]}),h.jsxs("div",{className:Qr.calendarItemRight,children:[h.jsx("button",{onClick:()=>u(!i),className:Qr.calendarItemButton,children:h.jsx(t6,{color:"#323749"})}),h.jsx("button",{onClick:()=>l(),className:Qr.calendarItemButton,children:h.jsx(gw,{color:"#323749"})})]}),h.jsx($o,{isOpen:i,onClose:o,title:"Delete calendar",children:h.jsx(xw,{id:n,actionSub:"Calendar deleted",text:s,onClose:o,action:()=>c(n),color:e})}),h.jsx(Tw,{id:n,valueTitle:t,label:"Title",action:"edit",titleText:"Edit calendar",isOpen:d,onClose:l})]})},YD=({selectedCalendar:t,titleText:e,date:n,time:r,isAllDay:i,descriptionText:s,onSave:o,onEdit:l,action:a,id:c,onClose:u,reccurence:d=Fl[0].title,dateOfCreation:f})=>{const p=ft(),y=`Event ${`${a==="Create"?"created":"edited"}`}`,C=se(Ic),g=se(vn),m=(g==null?void 0:g.map($=>({title:$.title,value:$.colour,id:$.id})))??[],_=t?t.value:m[0].value,[w,S]=E.useState(ag(n)),[I,x]=E.useState(e),[k,D]=E.useState(d),[O,j]=E.useState(r.from.value),[q,Ke]=E.useState(i),Go=()=>{Ke(!q)},Nc=()=>{const $=vi.findIndex(yn=>yn.value===O);return vi.slice($+1)},rt=E.useMemo(Nc,[O]),Zi=a==="Create"?rt[0].value:r.to,[N,b]=E.useState(Zi),[M,ne]=E.useState(_),[J,Br]=E.useState(s),$t=$=>{S(ag($))},es=$=>{const yn=Fl.filter(Ko=>Ko.value===$)[0];D(yn)},zt=$=>{x($.target.value)},Hr=$=>{b($)},mC=()=>rt.find($=>$.value===N),gC=()=>Fl.filter($=>typeof k!="string"?$.title===k.title:k)[0],_C=$=>{j($)},vC=$=>{ne($)},yC=()=>m.find($=>$.value===M),wC=$=>{Br($.target.value)},CC=mC()||null,Vr=gC(),EC=yC(),xp=E.useCallback(()=>I.length>=3&&J.length>=3&&O&&N,[I,J,O,N]),SC=vi.find($=>$.value===O)||null,IC=E.useCallback(()=>{var Pp;if(!xp()){alert("Please fill in all required fields with at least 3 characters.");return}const $=oT(O,N),yn=(Pp=g==null?void 0:g.find(ts=>ts.colour===M))==null?void 0:Pp.id,Ko=()=>{p(dp(y))};if(o&&yn&&a==="Create"&&C&&Vr){const ts=$e(new Date),kC={event:{id:Dr(),title:I,description:J,date:bd(w),time:$,isAllDay:q,reccurence:Vr,dateOfCreation:ts},userID:C,calendarID:yn};o(kC),p(Ft(C)),Ko(),u&&u()}if(l&&yn&&a==="Edit"&&c&&u&&Vr){const ts={id:c,title:I,description:J,date:bd(w),time:$,isAllDay:q,reccurence:Vr,dateOfCreation:f};l({event:ts,calendar:yn}),Ko(),u()}},[I,J,O,N,w,o,l,c,a,xp,g,M,q,u,p,y,C,Vr,f]);return E.useEffect(()=>{if(!rt.find($=>$.value===N)){const $=lT(rt[0].value,r.to.value);b($);return}if(!rt.find($=>$.value===N)&&a==="Create"){b(rt[0].value);return}},[rt,N,r.to.value,a]),{title:I,handleChange:zt,inputDate:w,inputDateHandle:$t,selectedTimeFrom:SC,handleTimeStartSelect:_C,newOptions:rt,selectedTimeFinish:CC,handleTimeFinishSelect:Hr,allDayHandle:Go,selectedDuration:Vr,durationHandle:es,selectCalendar:EC,calendarHandle:vC,description:J,handleDescription:wC,saveAction:IC}},QD="_newEventTitle_1d388_1",XD={newEventTitle:QD},JD=({title:t,onChange:e})=>h.jsxs("div",{className:XD.newEventTitle,children:[h.jsx(pp,{}),h.jsx(Wi,{placeholder:"Enter title",type:"text",value:t,label:"Title",onChange:e})]}),ZD="_timeWrapper_x2h1x_1",eO="_timeSelectsDivider_x2h1x_8",s_={timeWrapper:ZD,timeSelectsDivider:eO},tO=({optionsFrom:t,selectedFrom:e,handleTimeFrom:n,optionsTo:r,selectedTo:i,handleTimeTo:s})=>h.jsxs("div",{className:s_.timeWrapper,children:[h.jsx(Ua,{label:"Time",options:t,selected:e,onChange:n,isHaveColor:!1}),h.jsx("span",{className:s_.timeSelectsDivider,children:"-"}),h.jsx(Ua,{options:r,selected:i,onChange:s,style:{marginTop:"12px"}})]}),nO="_wrapperDateField_hrj44_1",rO="_dateInputWrapper_hrj44_5",iO="_newEventWrapperInput_hrj44_12",sO="_datepickerWrapper_hrj44_16",vl={wrapperDateField:nO,dateInputWrapper:rO,newEventWrapperInput:iO,datepickerWrapper:sO},oO=({inputDate:t,inputDateHandle:e})=>{const[n,r]=E.useState(!1),i=()=>{r(!n)};return h.jsxs("div",{className:vl.wrapperDateField,children:[h.jsxs("div",{className:vl.dateInputWrapper,children:[h.jsx(vw,{}),h.jsx("div",{className:vl.newEventWrapperInput,onClick:i,children:h.jsx(Wi,{readonly:!0,placeholder:"Date",type:"text",value:t,label:"Date"})})]}),h.jsx("div",{className:vl.datepickerWrapper,children:h.jsx(Iw,{selectedDate:bd(t),setSelectDate:e,isOpen:n,onClose:i})})]})},lO="_calendarIconArrow_3c8ow_1",aO="_calendar_3c8ow_1",cO="_calendarSelect_3c8ow_12",Iu={calendarIconArrow:lO,calendar:aO,calendarSelect:cO},uO=({selectCalendar:t,calendarHandle:e})=>{const n=se(vn),r=(n==null?void 0:n.map(i=>({title:i.title,value:i.colour,id:i.id})))??[];return h.jsxs("div",{className:Iu.calendar,children:[h.jsx(yw,{}),h.jsxs("div",{className:Iu.calendarSelect,children:[h.jsx(Ua,{options:r,selected:t,onChange:e,style:{width:"100%"},isHaveColor:!0}),h.jsx("div",{className:Iu.calendarIconArrow,children:h.jsx(pw,{})})]})]})},dO="_durationWrapper_2ehzz_1",hO="_durationSelect_2ehzz_7",fO="_durationIconArrow_2ehzz_12",yl={durationWrapper:dO,durationSelect:hO,durationIconArrow:fO},pO=({isAllDay:t,allDayHandle:e,selectedDuration:n,durationHandle:r})=>h.jsx("div",{className:yl.duration,children:h.jsxs("div",{className:yl.durationWrapper,children:[h.jsx(Cw,{isCheck:t,onChange:e,label:"All day"}),h.jsxs("div",{className:yl.durationSelect,children:[h.jsx(Ua,{isHaveColor:!1,options:Fl,selected:n||null,onChange:r,style:{width:"220px"}}),h.jsx("div",{className:yl.durationIconArrow,children:h.jsx(pw,{})})]})]})}),mO="_descriptionField_bv7jn_1",gO={descriptionField:mO},_O=({value:t,onChange:e})=>h.jsxs("div",{className:gO.descriptionField,children:[h.jsx(ww,{}),h.jsx(Wi,{placeholder:"Enter description",type:"text",value:t,label:"Description",onChange:e})]}),vO="_newEvent_107p5_1",yO="_datePickWrapper_107p5_7",wO="_newEventInputTime_107p5_11",CO="_newEventWrapperInput_107p5_17",EO="_wrapperDateInput_107p5_22",SO="_save_107p5_29",_s={newEvent:vO,datePickWrapper:yO,newEventInputTime:wO,newEventWrapperInput:CO,wrapperDateInput:EO,save:SO},IO={from:{title:"12:00 am",value:"00:00"},to:{title:"12:00 am",value:"00:00"}},Pw=({action:t,titleText:e,date:n=$e(new Date),time:r=IO,isAllDay:i=!1,descriptionText:s,onSave:o,onEdit:l,onClose:a,id:c,selectedCalendar:u,reccurence:d,dateOfCreation:f=$e(new Date)})=>{const{title:p,handleChange:v,inputDate:y,inputDateHandle:C,selectedTimeFrom:g,handleTimeStartSelect:m,newOptions:_,selectedTimeFinish:w,handleTimeFinishSelect:S,allDayHandle:I,selectedDuration:x,durationHandle:k,selectCalendar:D,calendarHandle:O,description:j,handleDescription:q,saveAction:Ke}=YD({selectedCalendar:u,titleText:e,date:n,time:r,isAllDay:i,descriptionText:s,onSave:o,onEdit:l,action:t,id:c,onClose:a,reccurence:d,dateOfCreation:f});return h.jsx($o,{isOpen:!0,onClose:a,title:`${t} event`,children:h.jsxs("div",{className:_s.newEvent,children:[h.jsx(JD,{title:p,onChange:v}),h.jsx("div",{className:_s.newEventTime,children:h.jsx("div",{className:_s.datePickWrapper,children:h.jsxs("div",{className:_s.newEventInputTime,children:[h.jsx(oO,{inputDate:y,inputDateHandle:C}),h.jsx(tO,{optionsFrom:vi,selectedFrom:g,handleTimeFrom:m,optionsTo:_,selectedTo:w,handleTimeTo:S})]})})}),h.jsx(pO,{isAllDay:i,allDayHandle:I,selectedDuration:x,durationHandle:k}),h.jsx(uO,{selectCalendar:D||null,calendarHandle:O}),h.jsx(_O,{value:j,onChange:q}),h.jsx("div",{className:_s.save,children:h.jsx(bt,{variant:"primary",onClick:()=>{Ke()},children:"Save"})})]})})},kO=({eventIdArg:t})=>{const n=/^\d{2}\/\d{2}\/\d{4}-/.test(t)?`${t.slice(t.indexOf("-"))}`:t,r=se(Ic),i=se(vn),[s,o]=E.useState(!1),a=(D=>i==null?void 0:i.find(j=>{const q=j.events.find(Ke=>Ke.id===D);if(q)return q}))(n),u=(D=>a==null?void 0:a.events.find(O=>O.id===D))(n),d=`${u==null?void 0:u.date}, ${u==null?void 0:u.time.from.title} - ${u==null?void 0:u.time.to.title}`,f={id:u==null?void 0:u.id,title:u==null?void 0:u.title,description:u==null?void 0:u.description,time:d,calendarName:a==null?void 0:a.title,calendarColor:a==null?void 0:a.colour,isAllDay:u==null?void 0:u.isAllDay},p={title:f.calendarName??"",value:f.calendarColor??""},v=()=>{o(!s)},y=ft(),[C,g]=E.useState(!1),[m,_]=E.useState(!1),w=()=>{g(!C),o(!1)},S=()=>{o(!1),_(!m)},I=()=>{a!=null&&a.id&&r&&(y(t_({calendarID:a.id,eventID:n,userID:r})),y(Ft(r)))},x=!!(u!=null&&u.time&&(u!=null&&u.time.from)&&u.time.to&&u.title&&u.description);return{openEventInfo:v,modalInfo:s,editModal:m,modalRemoveHandle:w,modalEditHandle:S,removeModal:C,eventInformation:f,removeItem:I,isEventConfirm:x,selectedCalendar:p,handleSetNewEvent:D=>{r&&n&&(a!=null&&a.id)&&(y(t_({calendarID:a.id,eventID:n,userID:r})),y(dR({userID:r,calendarID:D.calendar,newEvent:D.event,eventID:n})),y(Ft(r)))},targetEvent:u}},TO="_eventInfoWrapper_1p7nc_1",xO="_eventTitle_1p7nc_7",PO="_eventTime_1p7nc_8",NO="_eventCalendar_1p7nc_9",RO="_eventDescription_1p7nc_10",DO="_title_1p7nc_15",OO="_time_1p7nc_22",AO="_color_1p7nc_29",LO="_calendar_1p7nc_36",bO="_description_1p7nc_41",Nt={eventInfoWrapper:TO,eventTitle:xO,eventTime:PO,eventCalendar:NO,eventDescription:RO,title:DO,time:OO,color:AO,calendar:LO,description:bO},MO=({title:t,time:e,calendarName:n,calendarColor:r,description:i,idItem:s,deleteModalHandle:o,editModalHandle:l,onClose:a})=>h.jsx($o,{isOpen:!0,isCrud:!0,idItem:s,openDeleteModal:o,openEditModal:l,onClose:a,title:"Event information",children:h.jsxs("div",{className:Nt.eventInfoWrapper,children:[h.jsxs("div",{className:Nt.eventTitle,children:[h.jsx(pp,{}),h.jsx("h2",{className:Nt.title,children:t})]}),h.jsxs("div",{className:Nt.eventTime,children:[h.jsx(vw,{}),h.jsx("h3",{className:Nt.time,children:e})]}),h.jsxs("div",{className:Nt.eventCalendar,children:[h.jsx(yw,{}),h.jsxs("h4",{className:Nt.calendar,children:[h.jsx("span",{style:{backgroundColor:`${r}`},className:Nt.color}),n]})]}),h.jsxs("div",{className:Nt.eventDescription,children:[h.jsx(ww,{}),h.jsx("p",{className:Nt.description,children:i})]})]})}),jO="_event_14zom_1",FO="_eventAccent_14zom_18",UO="_eventContent_14zom_25",WO="_eventTitle_14zom_32",$O="_eventTime_14zom_38",Xr={event:jO,eventAccent:FO,eventContent:UO,eventTitle:WO,eventTime:$O},nh=({eventTop:t,eventHeight:e,calendarColor:n,eventTitle:r,index:i,timeFrom:s,timeTo:o,eventID:l,width:a,left:c,isAllDay:u,reccurence:d,style:f,dateOfCreation:p})=>{const{openEventInfo:v,modalInfo:y,modalRemoveHandle:C,modalEditHandle:g,removeModal:m,eventInformation:_,removeItem:w,editModal:S,isEventConfirm:I,selectedCalendar:x,handleSetNewEvent:k,targetEvent:D}=kO({eventIdArg:l}),O=`Are you sure you want to delete Event ${_.title}? You'll no longer have access to it. `,j=aT(n),q={display:`${u?"none":"flex"}`,top:`${t}px`,height:`${e}px`,backgroundColor:j,right:`${u?0:"auto"}`,left:`${c}%`,width:`${a}%`,zIndex:`${i+1}`};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{onClick:v,className:`${Xr.event} ${q}`,style:{...q,...f},children:[h.jsx("div",{className:Xr.eventAccent,style:{backgroundColor:n}}),h.jsx("div",{className:Xr.eventContent,children:h.jsxs("div",{className:Xr.eventTitle,children:[h.jsx("h3",{className:Xr.eventTitle,children:r}),h.jsxs("h4",{className:Xr.eventTime,style:{maxWidth:`${50/i}%`},children:[s," ",o]})]})})]}),y&&h.jsx(MO,{onClose:v,idItem:_.id,title:_.title,description:_.description,time:_.time,calendarName:_.calendarName,calendarColor:_.calendarColor,deleteModalHandle:C,editModalHandle:g}),m&&h.jsx($o,{onClose:C,isOpen:m,title:"Delete event",openDeleteModal:C,children:h.jsx(xw,{actionSub:"Event deleted",text:O,onClose:C,action:w})}),S&&I&&D&&h.jsx(Pw,{selectedCalendar:x,action:"Edit",titleText:D.title,descriptionText:D.description,date:D==null?void 0:D.date,time:{from:D.time.from,to:D.time.to},onEdit:k,id:l,onClose:g,isAllDay:D.isAllDay,reccurence:d,dateOfCreation:p})]})},zO=({events:t,day:e})=>{const r=2040/yy,i=(a,c)=>{const u=An(a.time.from.value),d=An(a.time.to.value),f=An(c.time.from.value),p=An(c.time.to.value);return u<p&&f<d},s=a=>{const c=[];return a.flat().forEach(d=>{let f=!1;for(const p of c)if(p.some(v=>i(v,d))){p.push(d),f=!0;return}f||c.push([d])}),c},o=t.flat().filter(a=>a.date===e.toLocaleDateString("en-GB")),l=s([o]);return{pixelsPerMinute:r,eventsGroupedByTime:l}},Nw=({events:t,day:e})=>{const{eventsGroupedByTime:n,pixelsPerMinute:r}=zO({events:t,day:e});return h.jsx("div",{children:n.map(i=>h.jsxs("div",{children:[i.length<2&&i.map((s,o)=>{const l=An(s.time.from.value),c=(An(s.time.to.value)-l)*r,u=l*r,d=100*1;return h.jsx(nh,{eventID:s.id,eventTop:u,eventHeight:c,calendarColor:s.calendarColor,eventTitle:s.title,timeFrom:s.time.from.title,timeTo:s.time.to.title,isAllDay:s.isAllDay,index:o,width:d,reccurence:s.reccurence,dateOfCreation:s.dateOfCreation},s.id)}),i.length>1&&i.map((s,o)=>{const l=An(s.time.from.value),c=(An(s.time.to.value)-l)*r,u=l*r,d=100/i.length,f=100/i.length*o;return h.jsx(nh,{eventID:s.id,eventTop:u,eventHeight:c,calendarColor:s.calendarColor,eventTitle:s.title,timeFrom:s.time.from.title,timeTo:s.time.to.title,index:o,width:d,left:f,isAllDay:s.isAllDay,reccurence:s.reccurence,dateOfCreation:s.dateOfCreation},s.id)})]},i[0].id))})},BO="_weekTitleDay_1l2iv_3",HO="_weekDayTitleWrapper_1l2iv_10",VO="_currentDay_1l2iv_19",GO="_weekDayTitleNumber_1l2iv_23",KO="_weekDayTitle_1l2iv_10",vs={weekTitleDay:BO,weekDayTitleWrapper:HO,currentDay:VO,weekDayTitleNumber:GO,weekDayTitle:KO},Rw=({day:t,today:e})=>{const{recurringEvents:n}=hp(),r=se(vn),i=Q1(r,n),s=$e(t),l=cT(i??[]).filter(a=>a.isAllDay);return h.jsx("li",{className:`${vs.weekTitleDay}`,children:h.jsxs("div",{className:`${vs.weekDayTitleWrapper} ${t.toDateString()===e.toDateString()?vs.currentDay:""}`,children:[h.jsx("h4",{className:vs.weekDayTitleNumber,children:t.getDate()}),h.jsx("span",{className:vs.weekDayTitle,children:t.toLocaleString("en-US",{weekday:"short"}).toUpperCase()}),l.map((a,c)=>{if(a.date===s&&typeof a.reccurence!="string")return h.jsx(nh,{calendarColor:a.calendarColor,eventTitle:a.title,index:c,eventID:a.id,reccurence:a.reccurence,dateOfCreation:a.dateOfCreation,style:{position:"static",height:"auto",marginTop:"8px"}},a.id)})]})},t.toString())},qO=t=>{const[e,n]=E.useState(0),r=24*60,i=t/r;return E.useEffect(()=>{const s=()=>{const l=new Date,c=(l.getHours()*60+l.getMinutes())*i;n(c)};s();const o=setInterval(s,6e4);return()=>clearInterval(o)},[i]),{currentPosition:e}},YO="_lineCurrentTimeWrapper_i9rxb_1",QO="_lineCurrentTime_i9rxb_1",XO="_lineCurrentTimeCircle_i9rxb_13",ku={lineCurrentTimeWrapper:YO,lineCurrentTime:QO,lineCurrentTimeCircle:XO},Dw=({containerHeight:t})=>{const{currentPosition:e}=qO(t);return h.jsx("div",{className:ku.lineCurrentTimeWrapper,children:h.jsx("div",{className:ku.lineCurrentTime,style:{top:`${e}px`},children:h.jsx("div",{className:ku.lineCurrentTimeCircle})})})},JO="_dayPage_9xacj_3",ZO="_dayPageHeader_9xacj_13",e4="_emptyCell_9xacj_20",t4="_dayDays_9xacj_28",n4="_dayDaySub_9xacj_36",r4="_dayPageTime_9xacj_42",i4="_dayPageTimeTitles_9xacj_47",s4="_cellsWrapper_9xacj_54",o4="_weekDayTitleWrapper_9xacj_62",l4="_cell_9xacj_54",Vt={dayPage:JO,dayPageHeader:ZO,emptyCell:e4,dayDays:t4,dayDaySub:n4,dayPageTime:r4,dayPageTimeTitles:i4,cellsWrapper:s4,weekDayTitleWrapper:o4,cell:l4},a4=()=>{const t=se(Z1),e=se(up),n=!!t,r=e?new Date(e):new Date,{eventsGroupedByDay:i,isToday:s}=cw({dayData:r}),o=l=>{const[a,c,u]=l.split("/").map(Number);return new Date(u,c-1,a)};return h.jsxs("section",{className:Vt.dayPage,children:[h.jsxs("div",{className:Vt.dayPageHeader,children:[h.jsx("div",{className:Vt.emptyCell}),h.jsx("div",{className:Vt.weekDayTitleWrapper,children:n&&h.jsx(Rw,{day:o(t),today:Ef})})]}),h.jsxs("div",{className:Vt.dayPageTime,children:[h.jsx("div",{className:Vt.dayPageTimeTitles,children:Ca.map(l=>h.jsx(uw,{hour:l},l))}),h.jsxs("div",{className:Vt.cellsWrapper,children:[h.jsx("div",{className:Vt.cell}),Ca.map(l=>h.jsx("div",{className:Vt.cell},l)),h.jsx(Nw,{events:i,day:r}),s&&h.jsx(Dw,{containerHeight:2040})]})]})]})},c4="_eventsList_1byal_1",u4="_cell_1byal_5",Tu={eventsList:c4,cell:u4},d4=({day:t})=>{const{eventsGroupedByDay:e,isToday:n}=cw({dayData:t});return h.jsxs("ul",{className:Tu.eventsList,children:[h.jsx("li",{className:Tu.cell}),Ca.map(r=>h.jsx("li",{className:Tu.cell},r+"-calendar")),h.jsx(Nw,{events:e,day:t}),n&&h.jsx(Dw,{containerHeight:2040})]})},h4="_weekPage_xhk7f_3",f4="_weekPageHeader_xhk7f_11",p4="_emptyCell_xhk7f_18",m4="_weekDays_xhk7f_26",g4="_weekDaySub_xhk7f_34",_4="_weekPageTime_xhk7f_40",v4="_weekPageTimeTitles_xhk7f_45",y4="_cellsWrapper_xhk7f_53",ur={weekPage:h4,weekPageHeader:f4,emptyCell:p4,weekDays:m4,weekDaySub:g4,weekPageTime:_4,weekPageTimeTitles:v4,cellsWrapper:y4},w4=()=>{const{weekDays:t}=hp();return h.jsxs("section",{className:ur.weekPage,children:[h.jsxs("div",{className:ur.weekPageHeader,children:[h.jsx("div",{className:ur.emptyCell}),h.jsx("ul",{className:ur.weekDays,children:t.map(e=>h.jsx(Rw,{day:e,today:Ef},e.toString()))})]}),h.jsxs("div",{className:ur.weekPageTime,children:[h.jsx("div",{className:ur.weekPageTimeTitles,children:Ca.map(e=>h.jsx(uw,{hour:e},e))}),h.jsx("div",{className:ur.cellsWrapper,children:t.map(e=>h.jsx(d4,{day:e},e.toString()))})]})]})},kc=()=>{const{email:t,token:e,userID:n}=se(r=>r.user);return{isAuthorized:!!t,email:t,token:e,userID:n}};function gp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=Ow,Aw=new Lo("auth","Firebase",Ow());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Tf("@firebase/auth");function E4(t,...e){Wa.logLevel<=G.WARN&&Wa.warn(`Auth (${qi}): ${t}`,...e)}function Wl(t,...e){Wa.logLevel<=G.ERROR&&Wa.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,...e){throw vp(t,...e)}function Tt(t,...e){return vp(t,...e)}function _p(t,e,n){const r=Object.assign(Object.assign({},C4()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function rn(t){return _p(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ht(t,"argument-error"),_p(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Aw.create(t,...e)}function L(t,e,...n){if(!t)throw vp(e,...n)}function Jt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wl(e),new Error(e)}function hn(t,e){t||Jt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I4(){return o_()==="http:"||o_()==="https:"}function o_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I4()||PT()||"connection"in navigator)?navigator.onLine:!0}function T4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.shortDelay=e,this.longDelay=n,hn(n>e,"Short delay should be less than long delay!"),this.isMobile=kf()||xy()}get(){return k4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e){hn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new zo(3e4,6e4);function lr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ar(t,e,n,r,i={}){return bw(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ki(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:a},s);return xT()||(c.referrerPolicy="no-referrer"),Lw.fetch()(Mw(t,t.config.apiHost,n,l),c)})}async function bw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x4),e);try{const i=new R4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw wl(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw wl(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw wl(t,"user-disabled",o);const u=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _p(t,u,c);ht(t,u)}}catch(i){if(i instanceof or)throw i;ht(t,"network-request-failed",{message:String(i)})}}async function Bo(t,e,n,r,i={}){const s=await ar(t,e,n,r,i);return"mfaPendingCredential"in s&&ht(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Mw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yp(t.config,i):`${t.config.apiScheme}://${i}`}function N4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tt(this.auth,"network-request-failed")),P4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tt(t,e,r);return i.customData._tokenResponse=n,i}function l_(t){return t!==void 0&&t.enterprise!==void 0}class D4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O4(t,e){return ar(t,"GET","/v2/recaptchaConfig",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return ar(t,"POST","/v1/accounts:delete",e)}async function jw(t,e){return ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L4(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=wp(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hs(xu(i.auth_time)),issuedAtTime:Hs(xu(i.iat)),expirationTime:Hs(xu(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xu(t){return Number(t)*1e3}function wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sa(n);return i?JSON.parse(i):(Wl("Failed to decode base64 JWT payload"),null)}catch(i){return Wl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a_(t){const e=wp(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&b4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hs(this.lastLoginAt),this.creationTime=Hs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Io(t,jw(n,{idToken:r}));L(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Fw(s.providerUserInfo):[],l=F4(t.providerData,o),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ih(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function j4(t){const e=Ge(t);await $a(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fw(t){return t.map(e=>{var{providerId:n}=e,r=gp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){const n=await bw(t,{},async()=>{const r=Ki({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Mw(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Lw.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W4(t,e){return ar(t,"POST","/v2/accounts:revokeToken",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){L(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await U4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ci;return r&&(L(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(L(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ci,this.toJSON())}_performRefresh(){return Jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ih(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L4(this,e)}reload(){return j4(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $a(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ct(this.auth.app))return Promise.reject(rn(this.auth));const e=await this.getIdToken();return await Io(this,A4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:w,isAnonymous:S,providerData:I,stsTokenManager:x}=n;L(_&&x,e,"internal-error");const k=Ci.fromJSON(this.name,x);L(typeof _=="string",e,"internal-error"),En(d,e.name),En(f,e.name),L(typeof w=="boolean",e,"internal-error"),L(typeof S=="boolean",e,"internal-error"),En(p,e.name),En(v,e.name),En(y,e.name),En(C,e.name),En(g,e.name),En(m,e.name);const D=new Zt({uid:_,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:k,createdAt:g,lastLoginAt:m});return I&&Array.isArray(I)&&(D.providerData=I.map(O=>Object.assign({},O))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ci;i.updateFromServerResponse(n);const s=new Zt({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $a(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];L(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Fw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Ci;l.updateFromIdToken(r);const a=new Zt({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ih(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function en(t){hn(t instanceof Function,"Expected a class definition");let e=c_.get(t);return e?(hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Uw.type="NONE";const u_=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t,e,n){return`firebase:${t}:${e}:${n}`}class Ei{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$l(this.userKey,i.apiKey,s),this.fullPersistenceKey=$l("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ei(en(u_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||en(u_);const o=$l(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Zt._fromJSON(e,u);c!==s&&(l=d),s=c;break}}catch{}const a=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Ei(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ei(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vw(e))return"Blackberry";if(Gw(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||zw(e))&&!e.includes("edge/"))return"Chrome";if(Hw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ww(t=Me()){return/firefox\//i.test(t)}function $w(t=Me()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zw(t=Me()){return/crios\//i.test(t)}function Bw(t=Me()){return/iemobile/i.test(t)}function Hw(t=Me()){return/android/i.test(t)}function Vw(t=Me()){return/blackberry/i.test(t)}function Gw(t=Me()){return/webos/i.test(t)}function Cp(t=Me()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $4(t=Me()){var e;return Cp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z4(){return NT()&&document.documentMode===10}function Kw(t=Me()){return Cp(t)||Hw(t)||Gw(t)||Vw(t)||/windows phone/i.test(t)||Bw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e=[]){let n;switch(t){case"Browser":n=d_(Me());break;case"Worker":n=`${d_(Me())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e={}){return ar(t,"GET","/v2/passwordPolicy",lr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=6;class G4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:V4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new B4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=en(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ei.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jw(this,{idToken:e}),r=await Zt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ct(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $a(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ct(this.app))return Promise.reject(rn(this));const n=e?Ge(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ct(this.app)?Promise.reject(rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ct(this.app)?Promise.reject(rn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(en(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H4(this),n=new G4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&en(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=await Ei.create(this,[en(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cr(t){return Ge(t)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=FT(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q4(t){Tc=t}function Yw(t){return Tc.loadJS(t)}function Y4(){return Tc.recaptchaEnterpriseScript}function Q4(){return Tc.gapiScript}function X4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class J4{constructor(){this.enterprise=new Z4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Z4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const e5="recaptcha-enterprise",Qw="NO_RECAPTCHA";class t5{constructor(e){this.type=e5,this.auth=cr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{O4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new D4(a);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;l_(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Qw)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&l_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=Y4();a.length!==0&&(a+=l),Yw(a).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function f_(t,e,n,r=!1,i=!1){const s=new t5(t);let o;if(i)o=Qw;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const a=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const a=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function sh(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await f_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await f_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,e){const n=Pf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ka(s,e??{}))return i;ht(i,"already-initialized")}return n.initialize({options:e})}function r5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(en);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function i5(t,e,n){const r=cr(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Xw(e),{host:o,port:l}=s5(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),o5()}function Xw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s5(t){const e=Xw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:p_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:p_(o)}}}function p_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jt("not implemented")}_getIdTokenResponse(e){return Jt("not implemented")}_linkToIdToken(e,n){return Jt("not implemented")}_getReauthenticationResolver(e){return Jt("not implemented")}}async function l5(t,e){return ar(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){return Bo(t,"POST","/v1/accounts:signInWithPassword",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e){return Bo(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))}async function u5(t,e){return Bo(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Ep{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ko(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ko(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sh(e,n,"signInWithPassword",a5);case"emailLink":return c5(e,{email:this._email,oobCode:this._password});default:ht(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sh(e,r,"signUpPassword",l5);case"emailLink":return u5(e,{idToken:n,email:this._email,oobCode:this._password});default:ht(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(t,e){return Bo(t,"POST","/v1/accounts:signInWithIdp",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="http://localhost";class Mr extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Si(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Si(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Si(e,n)}buildRequest(){const e={requestUri:d5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ki(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f5(t){const e=xs(Ps(t)).link,n=e?xs(Ps(e)).deep_link_id:null,r=xs(Ps(t)).deep_link_id;return(r?xs(Ps(r)).link:null)||r||n||e||t}class Sp{constructor(e){var n,r,i,s,o,l;const a=xs(Ps(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,u=(r=a.oobCode)!==null&&r!==void 0?r:null,d=h5((i=a.mode)!==null&&i!==void 0?i:null);L(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=f5(e);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.providerId=Ji.PROVIDER_ID}static credential(e,n){return ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sp.parseLink(n);return L(r,"argument-error"),ko._fromEmailAndCode(e,r.code,r.tenantId)}}Ji.PROVIDER_ID="password";Ji.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ji.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Ip{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Ho{constructor(){super("facebook.com")}static credential(e){return Mr._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xn.credential(e.oauthAccessToken)}catch{return null}}}xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mr._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qt.credential(n,r)}catch{return null}}}qt.GOOGLE_SIGN_IN_METHOD="google.com";qt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Ho{constructor(){super("github.com")}static credential(e){return Mr._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pn.credential(e.oauthAccessToken)}catch{return null}}}Pn.GITHUB_SIGN_IN_METHOD="github.com";Pn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Ho{constructor(){super("twitter.com")}static credential(e,n){return Mr._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nn.credential(n,r)}catch{return null}}}Nn.TWITTER_SIGN_IN_METHOD="twitter.com";Nn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e){return Bo(t,"POST","/v1/accounts:signUp",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zt._fromIdTokenResponse(e,r,i),o=m_(r);return new jr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=m_(r);return new jr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function m_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,za.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new za(e,n,r,i)}}function Jw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(t,s,e,r):s})}async function m5(t,e,n=!1){const r=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e,n=!1){const{auth:r}=t;if(Ct(r.app))return Promise.reject(rn(r));const i="reauthenticate";try{const s=await Io(t,Jw(r,i,e,t),n);L(s.idToken,r,"internal-error");const o=wp(s.idToken);L(o,r,"internal-error");const{sub:l}=o;return L(t.uid===l,r,"user-mismatch"),jr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ht(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(t,e,n=!1){if(Ct(t.app))return Promise.reject(rn(t));const r="signIn",i=await Jw(t,r,e),s=await jr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _5(t,e){return Zw(cr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t){const e=cr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v5(t,e,n){if(Ct(t.app))return Promise.reject(rn(t));const r=cr(t),o=await sh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p5).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&eC(t),a}),l=await jr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function y5(t,e,n){return Ct(t.app)?Promise.reject(rn(t)):_5(Ge(t),Ji.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eC(t),r})}function w5(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function C5(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}const Ba="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=1e3,S5=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);z4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const I5=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),a=await k5(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const c=kp("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return window}function x5(t){Mt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Mt().WorkerGlobalScope<"u"&&typeof Mt().importScripts=="function"}async function P5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R5(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",D5=1,Ha="firebaseLocalStorage",lC="fbase_key";class Vo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pc(t,e){return t.transaction([Ha],e?"readwrite":"readonly").objectStore(Ha)}function O5(){const t=indexedDB.deleteDatabase(oC);return new Vo(t).toPromise()}function oh(){const t=indexedDB.open(oC,D5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ha,{keyPath:lC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ha)?e(r):(r.close(),await O5(),e(await oh()))})})}async function g_(t,e,n){const r=Pc(t,!0).put({[lC]:e,value:n});return new Vo(r).toPromise()}async function A5(t,e){const n=Pc(t,!1).get(e),r=await new Vo(n).toPromise();return r===void 0?null:r.value}function __(t,e){const n=Pc(t,!0).delete(e);return new Vo(n).toPromise()}const L5=800,b5=3;class aC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>b5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xc._getInstance(R5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P5(),!this.activeServiceWorker)return;this.sender=new T5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oh();return await g_(e,Ba,"1"),await __(e,Ba),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>A5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>__(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pc(i,!1).getAll();return new Vo(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aC.type="LOCAL";const M5=aC;new zo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){return e?en(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Si(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j5(t){return Zw(t.auth,new Tp(t),t.bypassAuthState)}function F5(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),g5(n,new Tp(t),t.bypassAuthState)}async function U5(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),m5(n,new Tp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j5;case"linkViaPopup":case"linkViaRedirect":return U5;case"reauthViaPopup":case"reauthViaRedirect":return F5;default:ht(this.auth,"internal-error")}}resolve(e){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new zo(2e3,1e4);async function $5(t,e,n){if(Ct(t.app))return Promise.reject(Tt(t,"operation-not-supported-in-this-environment"));const r=cr(t);S4(t,e,Ip);const i=cC(r,n);return new Cr(r,"signInViaPopup",e,i).executeNotNull()}class Cr extends uC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Cr.currentPopupAction&&Cr.currentPopupAction.cancel(),Cr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return L(e,this.auth,"internal-error"),e}async onExecution(){hn(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W5.get())};e()}}Cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="pendingRedirect",zl=new Map;class B5 extends uC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zl.get(this.auth._key());if(!e){try{const r=await H5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zl.set(this.auth._key(),e)}return this.bypassAuthState||zl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H5(t,e){const n=K5(e),r=G5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V5(t,e){zl.set(t._key(),e)}function G5(t){return en(t._redirectPersistence)}function K5(t){return $l(z5,t.config.apiKey,t.name)}async function q5(t,e,n=!1){if(Ct(t.app))return Promise.reject(rn(t));const r=cr(t),i=cC(r,e),o=await new B5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=10*60*1e3;class Q5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y5&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e={}){return ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eA=/^https?/;async function tA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J5(t);for(const n of e)try{if(nA(n))return}catch{}ht(t,"unauthorized-domain")}function nA(t){const e=rh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!eA.test(n))return!1;if(Z5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new zo(3e4,6e4);function y_(){const t=Mt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iA(t){return new Promise((e,n)=>{var r,i,s;function o(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),n(Tt(t,"network-request-failed"))},timeout:rA.get()})}if(!((i=(r=Mt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Mt().gapi)===null||s===void 0)&&s.load)o();else{const l=X4("iframefcb");return Mt()[l]=()=>{gapi.load?o():n(Tt(t,"network-request-failed"))},Yw(`${Q4()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Bl=null,e})}let Bl=null;function sA(t){return Bl=Bl||iA(t),Bl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new zo(5e3,15e3),lA="__/auth/iframe",aA="emulator/auth/iframe",cA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dA(t){const e=t.config;L(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yp(e,aA):`https://${t.config.authDomain}/${lA}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=uA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ki(r).slice(1)}`}async function hA(t){const e=await sA(t),n=Mt().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:dA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tt(t,"network-request-failed"),l=Mt().setTimeout(()=>{s(o)},oA.get());function a(){Mt().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pA=500,mA=600,gA="_blank",_A="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vA(t,e,n,r=pA,i=mA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},fA),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Me().toLowerCase();n&&(l=zw(c)?gA:n),Ww(c)&&(e=e||_A,a.scrollbars="yes");const u=Object.entries(a).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if($4(c)&&l!=="_self")return yA(e||"",l),new w_(null);const d=window.open(e||"",l,u);L(d,t,"popup-blocked");try{d.focus()}catch{}return new w_(d)}function yA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="__/auth/handler",CA="emulator/auth/handler",EA=encodeURIComponent("fac");async function C_(t,e,n,r,i,s){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof Ip){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jd(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Ho){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const a=await t._getAppCheckToken(),c=a?`#${EA}=${encodeURIComponent(a)}`:"";return`${SA(t)}?${Ki(l).slice(1)}${c}`}function SA({config:t}){return t.emulator?yp(t,CA):`https://${t.authDomain}/${wA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="webStorageSupport";class IA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=q5,this._overrideRedirectResult=V5}async _openPopup(e,n,r,i){var s;hn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C_(e,n,r,rh(),i);return vA(e,o,kp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C_(e,n,r,rh(),i);return x5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hA(e),r=new Q5(e);return n.register("authEvent",i=>(L(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pu,{type:Pu},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Pu];o!==void 0&&n(!!o),ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kw()||$w()||Cp()}}const kA=IA;var E_="@firebase/auth",S_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PA(t){Ai(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(t)},c=new K4(r,i,s,a);return r5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new Or("auth-internal",e=>{const n=cr(e.getProvider("auth").getImmediate());return(r=>new TA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(E_,S_,xA(t)),Gn(E_,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=5*60,RA=Ty("authIdTokenMaxAge")||NA;let I_=null;const DA=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RA)return;const i=n==null?void 0:n.token;I_!==i&&(I_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hC(t=Ay()){const e=Pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=n5(t,{popupRedirectResolver:kA,persistence:[M5,I5,iC]}),r=Ty("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=DA(s.toString());C5(n,o,()=>o(n.currentUser)),w5(n,l=>o(l))}}const i=Iy("auth");return i&&i5(n,`http://${i}`),n}function OA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PA("Browser");const AA=()=>{const t=ft(),e=Do(),[n,r]=E.useState(!1),i=()=>{e("/")};return{handleSignIn:async(o,l)=>{const a=hC();try{const{user:c}=await y5(a,o,l),u=await c.getIdToken();t(lw({email:c.email,userID:c.uid,token:u})),await t(Ft(c.uid)),t(tw()),i()}catch(c){console.error(c),r(!0),setTimeout(()=>{r(!1)},4e3)}},error:n}},LA="_formAuth_19eow_1",bA={formAuth:LA},fC=({title:t,onAuth:e})=>{const[n,r]=E.useState(""),[i,s]=E.useState(""),o=c=>{r(c.target.value)},l=c=>{s(c.target.value)},a=()=>e(n,i);return h.jsxs("div",{className:bA.formAuth,children:[h.jsx(Wi,{type:"email",placeholder:"Email",value:n,onChange:o,label:"Email"}),h.jsx(Wi,{type:"password",placeholder:"Password",value:i,onChange:l,label:"Password"}),h.jsx(bt,{variant:"primary",onClick:a,children:t})]})},MA=({text:t,isVisible:e})=>h.jsx(mp,{text:t,isOpen:e}),jA="_signUp_1te72_1",FA={signUp:jA},UA=()=>{const{handleSignIn:t,error:e}=AA();return h.jsxs("div",{className:FA.login,children:[h.jsx(fC,{title:"Sign In",onAuth:t}),h.jsx(MA,{text:"Invalid user",isVisible:e})]})},WA="_login_1t1hk_3",$A="_loginWrapper_1t1hk_13",zA="_loginTitle_1t1hk_27",BA="_loginLogo_1t1hk_31",HA="_logoTitle_1t1hk_37",ys={login:WA,loginWrapper:$A,loginTitle:zA,loginLogo:BA,logoTitle:HA},VA=()=>{const{isAuthorized:t}=kc();return t?h.jsx(of,{to:"/",replace:!0}):h.jsx("div",{className:ys.login,children:h.jsxs("div",{className:ys.loginWrapper,children:[h.jsxs("div",{className:ys.loginLogo,children:[h.jsx(fp,{width:52,height:52}),h.jsx("h2",{className:ys.logoTitle,children:"WebCalendar"})]}),h.jsx("h1",{className:ys.loginTitle,children:"Login"}),h.jsx(UA,{}),h.jsxs("p",{children:["Or ",h.jsx(Jv,{to:"/register",children:"Register"})]})]})})};var GA="firebase",KA="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(GA,KA,"app");const qA={apiKey:"AIzaSyDCcA5zg4tqISlKtDl8vnaxwbUJcvegN2o",authDomain:"auth-3354d.firebaseapp.com",projectId:"auth-3354d",storageBucket:"auth-3354d.firebasestorage.app",messagingSenderId:"863717921112",appId:"1:863717921112:web:9db92ffdbf1b7b2ec6152d",databaseURL:"https://auth-3354d-default-rtdb.europe-west1.firebasedatabase.app"},YA=Oy(qA),k_=hC(YA),QA=()=>{const t=ft(),e=Do(),n=()=>{e("/")},r=async(o,l,a)=>{t(lw({email:o,userID:l,token:a})),await t(aR({userID:l,email:o})),await t(fR(l)),await t(Ft(l)),t(tw())};return{handleSignUp:async(o,l)=>{try{const{user:a}=await v5(k_,o,l),c=await a.getIdToken();r(a.email??"",a.uid,c),n()}catch(a){alert("User already exist"),console.error(a)}},handleGoogleSignIn:async()=>{const o=new qt;try{const a=(await $5(k_,o)).user,c=await a.getIdToken();r(a.email??"",a.uid,c),n()}catch(l){console.error("Error during Google Sign-In:",l)}}}},XA="_signUp_1te72_1",JA={signUp:XA},ZA=()=>{const{handleSignUp:t,handleGoogleSignIn:e}=QA();return h.jsxs("div",{className:JA.signUp,children:[h.jsx(fC,{title:"Sign Up",onAuth:t}),h.jsx(bt,{icon:h.jsx(n6,{}),variant:"secondary",onClick:e,children:"Continue with Google"})]})},eL="_register_1ehqj_3",tL="_registerWrapper_1ehqj_14",nL="_registerTitle_1ehqj_27",rL="_registerLogo_1ehqj_31",iL="_logoTitle_1ehqj_37",ws={register:eL,registerWrapper:tL,registerTitle:nL,registerLogo:rL,logoTitle:iL},sL=()=>{const{isAuthorized:t}=kc();return t?h.jsx(of,{to:"/",replace:!0}):h.jsx("div",{className:ws.register,children:h.jsxs("div",{className:ws.registerWrapper,children:[h.jsxs("div",{className:ws.registerLogo,children:[h.jsx(fp,{width:52,height:52}),h.jsx("h2",{className:ws.logoTitle,children:"WebCalendar"})]}),h.jsx("h1",{className:ws.registerTitle,children:"Register"}),h.jsx(ZA,{}),h.jsxs("p",{children:["Already have an account? ",h.jsx(Jv,{to:"/login",children:"Sign in"})]})]})})},pC=t=>{const e=ft(),n=sr(),r=se(up),i=n.pathname==="/day",s=new Date(r??new Date),o=s.getUTCDate(),l=sT[s.getUTCMonth()],a=s.getUTCFullYear(),c={day:{currentPeriodHandler:()=>e(ew()),previousPeriodHandler:()=>e(vR()),nextPeriodHandler:()=>e(_R())},week:{currentPeriodHandler:()=>e(yR()),previousPeriodHandler:()=>e(gR()),nextPeriodHandler:()=>e(mR())}},{currentPeriodHandler:u,previousPeriodHandler:d,nextPeriodHandler:f}=c[t];return{day:o,month:l,year:a,isSetDayView:i,currentPeriodHandler:u,previousPeriodHandler:d,nextPeriodHandler:f}},oL="_periodControl_16gzt_1",lL="_periodControlButtons_16gzt_7",aL="_periodTitle_16gzt_13",Nu={periodControl:oL,periodControlButtons:lL,periodTitle:aL},cL=({currentPeriodHandler:t,previousPeriodHandler:e,nextPeriodHandler:n})=>{const i=sr().pathname==="/"?"week":"day",{day:s,month:o,year:l,isSetDayView:a}=pC(i);return h.jsxs(h.Fragment,{children:[h.jsx(bt,{variant:"primary",onClick:t,children:"Today"}),h.jsxs("div",{className:Nu.periodControl,children:[h.jsxs("div",{className:Nu.periodControlButtons,children:[h.jsx(bt,{variant:"secondary",onClick:e,children:h.jsx(mw,{color:"#323749"})}),h.jsx(bt,{variant:"secondary",onClick:n,children:h.jsx(hw,{color:"#323749"})})]}),h.jsxs("h3",{className:Nu.periodTitle,children:[o," ",a&&`${s},`," ",l]})]})]})},uL="_logoWrapper_13dbw_1",dL="_titleLogo_13dbw_7",T_={logoWrapper:uL,titleLogo:dL},hL=()=>h.jsxs("div",{className:T_.logoWrapper,children:[h.jsx(fp,{}),h.jsx("h2",{className:T_.titleLogo,children:"WebCalendar"})]}),fL="_header_1donf_3",pL="_headerContent_1donf_11",mL="_headerContentLeft_1donf_17",gL="_headerContentRight_1donf_23",_L="_user_1donf_29",vL="_username_1donf_35",yL="_userControl_1donf_39",dr={header:fL,headerContent:pL,headerContentLeft:mL,headerContentRight:gL,user:_L,username:vL,userControl:yL},wL=()=>{const t=ft(),e=sr(),n=Do(),{email:r}=kc(),[i,s]=E.useState(e.pathname),o=cg.find(f=>f.value===i),l=f=>{s(f),n(f),t(ew())},a=e.pathname==="/"?"week":"day",{currentPeriodHandler:c,previousPeriodHandler:u,nextPeriodHandler:d}=pC(a);return h.jsx("header",{className:dr.header,children:h.jsx(kw,{children:h.jsxs("div",{className:dr.headerContent,children:[h.jsxs("div",{className:dr.headerContentLeft,children:[h.jsx(hL,{}),h.jsx(cL,{currentPeriodHandler:c,previousPeriodHandler:u,nextPeriodHandler:d})]}),h.jsxs("div",{className:dr.headerContentRight,children:[h.jsx(aD,{options:cg,selected:o||null,onChange:l}),h.jsxs("div",{className:dr.user,children:[h.jsx("h3",{className:dr.username,children:r}),h.jsx("div",{onClick:()=>{t(xR()),t(ER())},className:dr.userControl,children:r==null?void 0:r[0]})]})]})]})})})},CL="_calendarList_1qrnr_3",EL="_calendarListHeader_1qrnr_12",SL="_calendarListTitle_1qrnr_18",IL="_calendarAddNew_1qrnr_24",kL="_calendarListContent_1qrnr_31",TL="_calendarItem_1qrnr_37",xL="_calendarItemLeft_1qrnr_46",PL="_calendarItemRight_1qrnr_51",NL="_calendarItemButton_1qrnr_62",RL="_calendarItemTitle_1qrnr_72",Cs={calendarList:CL,calendarListHeader:EL,calendarListTitle:SL,calendarAddNew:IL,calendarListContent:kL,calendarItem:TL,calendarItemLeft:xL,calendarItemRight:PL,calendarItemButton:NL,calendarItemTitle:RL},DL=()=>{const t=se(vn),[e,n]=E.useState(!1),r=()=>{n(!e)};return h.jsxs("div",{className:Cs.calendarList,children:[h.jsxs("div",{className:Cs.calendarListHeader,children:[h.jsx("h4",{className:Cs.calendarListTitle,children:"My calendars"}),h.jsx("button",{onClick:r,className:Cs.calendarAddNew,children:h.jsx(fw,{color:"#323749"})}),h.jsx(Tw,{label:"Title*",action:"create",titleText:"Create calendar",isOpen:e,onClose:()=>n(!e)})]}),h.jsx("ul",{className:Cs.calendarListContent,children:t==null?void 0:t.map(({title:i,colour:s,id:o})=>{const l=t.filter(a=>a.id===o)[0].isVisible;return h.jsx(qD,{title:i,color:s,id:o,isVisible:l},o)})})]})},OL="_calendar_194vt_3",AL="_aside_194vt_9",x_={calendar:OL,aside:AL},LL=()=>{const{isAuthorized:t}=kc(),[e,n]=E.useState(!1),r=ft(),i=se(Z1),s=se(iw),o=se(rw),l=p=>{r(wR(p))},a=p=>{r(CR(p))},c=p=>{r(uR(p))},u=()=>{n(!e)},d={from:{title:"12:00 am",value:"00:00"},to:{title:"12:00 am",value:"00:00"}},f={title:"Does not repeat",value:"not-repeat"};return t?h.jsxs("div",{children:[h.jsx(wL,{}),h.jsx(kw,{children:h.jsxs("div",{className:x_.calendar,children:[h.jsxs("aside",{className:x_.aside,children:[e&&h.jsx(Pw,{action:"Create",titleText:"",descriptionText:"",date:$e(new Date),time:d,onSave:c,onClose:u,reccurence:f}),h.jsxs(bt,{variant:"primary",isWidthFull:!0,onClick:u,children:[h.jsx(fw,{}),"Create"]}),i&&h.jsx(Iw,{selectedDate:i,setDateToSpecificDay:l,setSelectDate:a}),h.jsx(DL,{})]}),h.jsx(B3,{})]})}),h.jsx(mp,{isOpen:s,text:o,onClose:()=>r(sw())})]}):h.jsx(of,{to:"/register",replace:!0})},bL=()=>h.jsxs(V3,{children:[h.jsx(Jr,{path:"/register",element:h.jsx(sL,{})}),h.jsx(Jr,{path:"/login",element:h.jsx(VA,{})}),h.jsxs(Jr,{path:"/",element:h.jsx(LL,{}),children:[h.jsx(Jr,{index:!0,path:"/",element:h.jsx(w4,{})}),h.jsx(Jr,{path:"/day",element:h.jsx(a4,{})})]})]}),ML=()=>h.jsx("div",{className:"app",children:h.jsx(bL,{})});zv(document.getElementById("root")).render(h.jsx(E.StrictMode,{children:h.jsx(SI,{store:aw,children:h.jsx(iy,{loading:null,persistor:OR,children:h.jsx(J3,{children:h.jsx(ML,{})})})})}));
